var app=function(){"use strict";function t(){}function n(t,n){for(const e in n)t[e]=n[e];return t}function e(t){return t()}function r(){return Object.create(null)}function o(t){t.forEach(e)}function i(t){return"function"==typeof t}function a(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}let u,c;function s(t,n){return u||(u=document.createElement("a")),u.href=n,t===u.href}function l(n,e,r){n.$$.on_destroy.push(function(n,...e){if(null==n)return t;const r=n.subscribe(...e);return r.unsubscribe?()=>r.unsubscribe():r}(e,r))}function f(t,n,e,r){if(t){const o=p(t,n,e,r);return t[0](o)}}function p(t,e,r,o){return t[1]&&o?n(r.ctx.slice(),t[1](o(e))):r.ctx}function d(t,n,e,r,o,i,a){const u=function(t,n,e,r){if(t[2]&&r){const o=t[2](r(e));if(void 0===n.dirty)return o;if("object"==typeof o){const t=[],e=Math.max(n.dirty.length,o.length);for(let r=0;r<e;r+=1)t[r]=n.dirty[r]|o[r];return t}return n.dirty|o}return n.dirty}(n,r,o,i);if(u){const o=p(n,e,r,a);t.p(o,u)}}function h(t,n){t.appendChild(n)}function g(t,n,e){t.insertBefore(n,e||null)}function v(t){t.parentNode.removeChild(t)}function m(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}function y(t){return document.createElement(t)}function _(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function b(t){return document.createTextNode(t)}function w(){return b(" ")}function $(){return b("")}function x(t,n,e,r){return t.addEventListener(n,e,r),()=>t.removeEventListener(n,e,r)}function k(t){return function(n){return n.stopPropagation(),t.call(this,n)}}function S(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function C(t,n){n=""+n,t.wholeText!==n&&(t.data=n)}function O(t,n){t.value=null==n?"":n}function j(t,n,e,r){t.style.setProperty(n,e,r?"important":"")}function A(t,n,e){t.classList[e?"add":"remove"](n)}function D(t){c=t}function E(){if(!c)throw new Error("Function called outside component initialization");return c}function R(t){E().$$.on_mount.push(t)}function T(t){E().$$.on_destroy.push(t)}function I(t,n){const e=t.$$.callbacks[n.type];e&&e.slice().forEach((t=>t.call(this,n)))}const P=[],z=[],L=[],M=[],F=Promise.resolve();let B=!1;function U(t){L.push(t)}function N(t){M.push(t)}let W=!1;const q=new Set;function V(){if(!W){W=!0;do{for(let t=0;t<P.length;t+=1){const n=P[t];D(n),H(n.$$)}for(D(null),P.length=0;z.length;)z.pop()();for(let t=0;t<L.length;t+=1){const n=L[t];q.has(n)||(q.add(n),n())}L.length=0}while(P.length);for(;M.length;)M.pop()();B=!1,W=!1,q.clear()}}function H(t){if(null!==t.fragment){t.update(),o(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(U)}}const J=new Set;let Y;function G(){Y={r:0,c:[],p:Y}}function X(){Y.r||o(Y.c),Y=Y.p}function Z(t,n){t&&t.i&&(J.delete(t),t.i(n))}function K(t,n,e,r){if(t&&t.o){if(J.has(t))return;J.add(t),Y.c.push((()=>{J.delete(t),r&&(e&&t.d(1),r())})),t.o(n)}}function Q(t,n){const e={},r={},o={$$scope:1};let i=t.length;for(;i--;){const a=t[i],u=n[i];if(u){for(const t in a)t in u||(r[t]=1);for(const t in u)o[t]||(e[t]=u[t],o[t]=1);t[i]=u}else for(const t in a)o[t]=1}for(const t in r)t in e||(e[t]=void 0);return e}function tt(t){return"object"==typeof t&&null!==t?t:{}}function nt(t,n,e){const r=t.$$.props[n];void 0!==r&&(t.$$.bound[r]=e,e(t.$$.ctx[r]))}function et(t){t&&t.c()}function rt(t,n,r,a){const{fragment:u,on_mount:c,on_destroy:s,after_update:l}=t.$$;u&&u.m(n,r),a||U((()=>{const n=c.map(e).filter(i);s?s.push(...n):o(n),t.$$.on_mount=[]})),l.forEach(U)}function ot(t,n){const e=t.$$;null!==e.fragment&&(o(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function it(t,n){-1===t.$$.dirty[0]&&(P.push(t),B||(B=!0,F.then(V)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function at(n,e,i,a,u,s,l,f=[-1]){const p=c;D(n);const d=n.$$={fragment:null,ctx:null,props:s,update:t,not_equal:u,bound:r(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(p?p.$$.context:e.context||[]),callbacks:r(),dirty:f,skip_bound:!1,root:e.target||p.$$.root};l&&l(d.root);let h=!1;if(d.ctx=i?i(n,e.props||{},((t,e,...r)=>{const o=r.length?r[0]:e;return d.ctx&&u(d.ctx[t],d.ctx[t]=o)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](o),h&&it(n,t)),e})):[],d.update(),h=!0,o(d.before_update),d.fragment=!!a&&a(d.ctx),e.target){if(e.hydrate){const t=function(t){return Array.from(t.childNodes)}(e.target);d.fragment&&d.fragment.l(t),t.forEach(v)}else d.fragment&&d.fragment.c();e.intro&&Z(n.$$.fragment),rt(n,e.target,e.anchor,e.customElement),V()}D(p)}class ut{$destroy(){ot(this,1),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(t){var n;this.$$set&&(n=t,0!==Object.keys(n).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}var ct="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function st(t){var n={exports:{}};return t(n,n.exports),n.exports}var lt=st((function(t){!function(n){var e=n.URL||n.webkitURL;function r(t){return!!e&&e.createObjectURL(t)}function o(t){return!!e&&e.revokeObjectURL(t)}function i(t,n){!t||"blob:"!==t.slice(0,5)||n&&n.noRevoke||o(t)}function a(t,e,r,o){if(!n.FileReader)return!1;var i=new FileReader;i.onload=function(){e.call(i,this.result)},r&&(i.onabort=i.onerror=function(){r.call(i,this.error)});var a=i[o||"readAsDataURL"];return a?(a.call(i,t),i):void 0}function u(t,n){return Object.prototype.toString.call(n)==="[object "+t+"]"}function c(t,e,o){function s(e,s){var l,f=document.createElement("img");function p(t,n){e!==s?t instanceof Error?s(t):((n=n||{}).image=t,e(n)):e&&e(t,n)}function d(e,i){i&&n.console&&console.log(i),e&&u("Blob",e)?l=r(t=e):(l=t,o&&o.crossOrigin&&(f.crossOrigin=o.crossOrigin)),f.src=l}return f.onerror=function(t){i(l,o),s&&s.call(f,t)},f.onload=function(){i(l,o);var n={originalWidth:f.naturalWidth||f.width,originalHeight:f.naturalHeight||f.height};try{c.transform(f,o,p,t,n)}catch(t){s&&s(t)}},"string"==typeof t?(c.requiresMetaData(o)?c.fetchBlob(t,d,o):d(),f):u("Blob",t)||u("File",t)?(l=r(t))?(f.src=l,f):a(t,(function(t){f.src=t}),s):void 0}return n.Promise&&"function"!=typeof e?(o=e,new Promise(s)):s(e,e)}c.requiresMetaData=function(t){return t&&t.meta},c.fetchBlob=function(t,n){n()},c.transform=function(t,n,e,r,o){e(t,o)},c.global=n,c.readFile=a,c.isInstanceOf=u,c.createObjectURL=r,c.revokeObjectURL=o,t.exports?t.exports=c:n.loadImage=c}("undefined"!=typeof window&&window||ct)}));function ft(t){let n,e,r,o;const i=t[5].default,a=f(i,t,t[4],null);return{c(){n=y("div"),a&&a.c(),j(n,"position","relative"),j(n,"right","0px")},m(i,u){g(i,n,u),a&&a.m(n,null),e=!0,r||(o=x(n,"click",t[0]),r=!0)},p(t,[n]){a&&a.p&&(!e||16&n)&&d(a,i,t,t[4],e?n:-1,null,null)},i(t){e||(Z(a,t),e=!0)},o(t){K(a,t),e=!1},d(t){t&&v(n),a&&a.d(t),r=!1,o()}}}function pt(t,n,e){let{$$slots:r={},$$scope:o}=n,{status:i}=n,{rtc:a}=n,{operator:u}=n;return t.$$set=t=>{"status"in t&&e(1,i=t.status),"rtc"in t&&e(2,a=t.rtc),"operator"in t&&e(3,u=t.operator),"$$scope"in t&&e(4,o=t.$$scope)},[async function(){document.querySelector("[src*='"+u+"']").contentWindow.document.querySelector(".callButton");let t=new Promise((function(t,n){a.DC&&(a.DC.SendRedirect({operator:u},t),a.OnMessage({func:"mute"}))}));await t,e(1,i="mute")},i,a,u,o,r]}st((function(t){var n;n=function(t){var n=t.transform;t.createCanvas=function(n,e,r){if(r&&t.global.OffscreenCanvas)return new OffscreenCanvas(n,e);var o=document.createElement("canvas");return o.width=n,o.height=e,o},t.transform=function(e,r,o,i,a){n.call(t,t.scale(e,r,a),r,o,i,a)},t.transformCoordinates=function(){},t.getTransformedOptions=function(t,n){var e,r,o,i,a=n.aspectRatio;if(!a)return n;for(r in e={},n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e.crop=!0,(o=t.naturalWidth||t.width)/(i=t.naturalHeight||t.height)>a?(e.maxWidth=i*a,e.maxHeight=i):(e.maxWidth=o,e.maxHeight=o/a),e},t.drawImage=function(t,n,e,r,o,i,a,u,c){var s=n.getContext("2d");return!1===c.imageSmoothingEnabled?(s.msImageSmoothingEnabled=!1,s.imageSmoothingEnabled=!1):c.imageSmoothingQuality&&(s.imageSmoothingQuality=c.imageSmoothingQuality),s.drawImage(t,e,r,o,i,0,0,a,u),s},t.requiresCanvas=function(t){return t.canvas||t.crop||!!t.aspectRatio},t.scale=function(n,e,r){e=e||{},r=r||{};var o,i,a,u,c,s,l,f,p,d,h,g,v=n.getContext||t.requiresCanvas(e)&&!!t.global.HTMLCanvasElement,m=n.naturalWidth||n.width,y=n.naturalHeight||n.height,_=m,b=y;function w(){var t=Math.max((a||_)/_,(u||b)/b);t>1&&(_*=t,b*=t)}function $(){var t=Math.min((o||_)/_,(i||b)/b);t<1&&(_*=t,b*=t)}if(v&&(l=(e=t.getTransformedOptions(n,e,r)).left||0,f=e.top||0,e.sourceWidth?(c=e.sourceWidth,void 0!==e.right&&void 0===e.left&&(l=m-c-e.right)):c=m-l-(e.right||0),e.sourceHeight?(s=e.sourceHeight,void 0!==e.bottom&&void 0===e.top&&(f=y-s-e.bottom)):s=y-f-(e.bottom||0),_=c,b=s),o=e.maxWidth,i=e.maxHeight,a=e.minWidth,u=e.minHeight,v&&o&&i&&e.crop?(_=o,b=i,(h=c/s-o/i)<0?(s=i*c/o,void 0===e.top&&void 0===e.bottom&&(f=(y-s)/2)):h>0&&(c=o*s/i,void 0===e.left&&void 0===e.right&&(l=(m-c)/2))):((e.contain||e.cover)&&(a=o=o||a,u=i=i||u),e.cover?($(),w()):(w(),$())),v){if((p=e.pixelRatio)>1&&(!n.style.width||Math.floor(parseFloat(n.style.width,10))!==Math.floor(m/p))&&(_*=p,b*=p),t.orientationCropBug&&!n.getContext&&(l||f||c!==m||s!==y)&&(h=n,n=t.createCanvas(m,y,!0),t.drawImage(h,n,0,0,m,y,m,y,e)),(d=e.downsamplingRatio)>0&&d<1&&_<c&&b<s)for(;c*d>_;)g=t.createCanvas(c*d,s*d,!0),t.drawImage(n,g,l,f,c,s,g.width,g.height,e),l=0,f=0,c=g.width,s=g.height,n=g;return g=t.createCanvas(_,b),t.transformCoordinates(g,e,r),p>1&&(g.style.width=g.width/p+"px"),t.drawImage(n,g,l,f,c,s,_,b,e).setTransform(1,0,0,1,0,0),g}return n.width=_,n.height=b,n}},t.exports?n(lt):n(window.loadImage)}));class dt extends ut{constructor(t){super(),at(this,t,pt,ft,a,{status:1,rtc:2,operator:3})}}function ht(t){let n,e,r,i,a,u;const c=t[5].default,s=f(c,t,t[4],null);return{c(){n=y("div"),s&&s.c(),e=w(),r=y("input"),S(r,"class","file-upload"),S(r,"accept","*,*"),S(r,"id","file"),S(r,"name","file"),S(r,"type","file"),j(r,"display","none"),j(n,"position","absolute"),j(n,"right","0px"),j(n,"bottom","0")},m(o,c){g(o,n,c),s&&s.m(n,null),h(n,e),h(n,r),t[6](r),i=!0,a||(u=[x(r,"change",t[2]),x(r,"change",t[7]),x(n,"click",gt)],a=!0)},p(t,[n]){s&&s.p&&(!i||16&n)&&d(s,c,t,t[4],i?n:-1,null,null)},i(t){i||(Z(s,t),i=!0)},o(t){K(s,t),i=!1},d(e){e&&v(n),s&&s.d(e),t[6](null),a=!1,o(u)}}}function gt(t){let n=new PointerEvent("click",{bubbles:!1,cancelable:!0,view:window});document.getElementById("file").dispatchEvent(n)}function vt(t,n,e){let r,o,{$$slots:i={},$$scope:a}=n,{operator:u}=n;return t.$$set=t=>{"operator"in t&&e(3,u=t.operator),"$$scope"in t&&e(4,a=t.$$scope)},[r,o,async function(t){try{let n=document.querySelector("[src*='"+u+"']"),e=new Promise((function(e,r){let o=new FileReader;n.contentWindow.user?(o.onload=t=>{n.contentWindow.user.DC.SendFile(t.target.result,file.name)},o.readAsArrayBuffer(t.target.files[0])):(o.onload=t=>{window.operator.DC.SendFile(t.target.result,file.name)},o.readAsArrayBuffer(t.target.files[0]))}));await e}catch(t){}},u,a,i,function(t){z[t?"unshift":"push"]((()=>{o=t,e(1,o)}))},function(){r=this.files,e(0,r)}]}class mt extends ut{constructor(t){super(),at(this,t,vt,ht,a,{operator:3})}}
/**
     * @license
     * Lodash <https://lodash.com/>
     * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
     * Released under MIT license <https://lodash.com/license>
     * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
     * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
     */var yt=st((function(t,n){(function(){var e,r="Expected a function",o="__lodash_hash_undefined__",i="__lodash_placeholder__",a=16,u=32,c=64,s=128,l=256,f=1/0,p=9007199254740991,d=NaN,h=4294967295,g=[["ary",s],["bind",1],["bindKey",2],["curry",8],["curryRight",a],["flip",512],["partial",u],["partialRight",c],["rearg",l]],v="[object Arguments]",m="[object Array]",y="[object Boolean]",_="[object Date]",b="[object Error]",w="[object Function]",$="[object GeneratorFunction]",x="[object Map]",k="[object Number]",S="[object Object]",C="[object Promise]",O="[object RegExp]",j="[object Set]",A="[object String]",D="[object Symbol]",E="[object WeakMap]",R="[object ArrayBuffer]",T="[object DataView]",I="[object Float32Array]",P="[object Float64Array]",z="[object Int8Array]",L="[object Int16Array]",M="[object Int32Array]",F="[object Uint8Array]",B="[object Uint8ClampedArray]",U="[object Uint16Array]",N="[object Uint32Array]",W=/\b__p \+= '';/g,q=/\b(__p \+=) '' \+/g,V=/(__e\(.*?\)|\b__t\)) \+\n'';/g,H=/&(?:amp|lt|gt|quot|#39);/g,J=/[&<>"']/g,Y=RegExp(H.source),G=RegExp(J.source),X=/<%-([\s\S]+?)%>/g,Z=/<%([\s\S]+?)%>/g,K=/<%=([\s\S]+?)%>/g,Q=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,tt=/^\w*$/,nt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,et=/[\\^$.*+?()[\]{}|]/g,rt=RegExp(et.source),ot=/^\s+/,it=/\s/,at=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ut=/\{\n\/\* \[wrapped with (.+)\] \*/,st=/,? & /,lt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ft=/[()=,{}\[\]\/\s]/,pt=/\\(\\)?/g,dt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ht=/\w*$/,gt=/^[-+]0x[0-9a-f]+$/i,vt=/^0b[01]+$/i,mt=/^\[object .+?Constructor\]$/,yt=/^0o[0-7]+$/i,_t=/^(?:0|[1-9]\d*)$/,bt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,wt=/($^)/,$t=/['\n\r\u2028\u2029\\]/g,xt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",kt="\\u2700-\\u27bf",St="a-z\\xdf-\\xf6\\xf8-\\xff",Ct="A-Z\\xc0-\\xd6\\xd8-\\xde",Ot="\\ufe0e\\ufe0f",jt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",At="['’]",Dt="[\\ud800-\\udfff]",Et="["+jt+"]",Rt="["+xt+"]",Tt="\\d+",It="[\\u2700-\\u27bf]",Pt="["+St+"]",zt="[^\\ud800-\\udfff"+jt+Tt+kt+St+Ct+"]",Lt="\\ud83c[\\udffb-\\udfff]",Mt="[^\\ud800-\\udfff]",Ft="(?:\\ud83c[\\udde6-\\uddff]){2}",Bt="[\\ud800-\\udbff][\\udc00-\\udfff]",Ut="["+Ct+"]",Nt="(?:"+Pt+"|"+zt+")",Wt="(?:"+Ut+"|"+zt+")",qt="(?:['’](?:d|ll|m|re|s|t|ve))?",Vt="(?:['’](?:D|LL|M|RE|S|T|VE))?",Ht="(?:"+Rt+"|"+Lt+")"+"?",Jt="[\\ufe0e\\ufe0f]?",Yt=Jt+Ht+("(?:\\u200d(?:"+[Mt,Ft,Bt].join("|")+")"+Jt+Ht+")*"),Gt="(?:"+[It,Ft,Bt].join("|")+")"+Yt,Xt="(?:"+[Mt+Rt+"?",Rt,Ft,Bt,Dt].join("|")+")",Zt=RegExp(At,"g"),Kt=RegExp(Rt,"g"),Qt=RegExp(Lt+"(?="+Lt+")|"+Xt+Yt,"g"),tn=RegExp([Ut+"?"+Pt+"+"+qt+"(?="+[Et,Ut,"$"].join("|")+")",Wt+"+"+Vt+"(?="+[Et,Ut+Nt,"$"].join("|")+")",Ut+"?"+Nt+"+"+qt,Ut+"+"+Vt,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Tt,Gt].join("|"),"g"),nn=RegExp("[\\u200d\\ud800-\\udfff"+xt+Ot+"]"),en=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,rn=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],on=-1,an={};an[I]=an[P]=an[z]=an[L]=an[M]=an[F]=an[B]=an[U]=an[N]=!0,an[v]=an[m]=an[R]=an[y]=an[T]=an[_]=an[b]=an[w]=an[x]=an[k]=an[S]=an[O]=an[j]=an[A]=an[E]=!1;var un={};un[v]=un[m]=un[R]=un[T]=un[y]=un[_]=un[I]=un[P]=un[z]=un[L]=un[M]=un[x]=un[k]=un[S]=un[O]=un[j]=un[A]=un[D]=un[F]=un[B]=un[U]=un[N]=!0,un[b]=un[w]=un[E]=!1;var cn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},sn=parseFloat,ln=parseInt,fn="object"==typeof ct&&ct&&ct.Object===Object&&ct,pn="object"==typeof self&&self&&self.Object===Object&&self,dn=fn||pn||Function("return this")(),hn=n&&!n.nodeType&&n,gn=hn&&t&&!t.nodeType&&t,vn=gn&&gn.exports===hn,mn=vn&&fn.process,yn=function(){try{var t=gn&&gn.require&&gn.require("util").types;return t||mn&&mn.binding&&mn.binding("util")}catch(t){}}(),_n=yn&&yn.isArrayBuffer,bn=yn&&yn.isDate,wn=yn&&yn.isMap,$n=yn&&yn.isRegExp,xn=yn&&yn.isSet,kn=yn&&yn.isTypedArray;function Sn(t,n,e){switch(e.length){case 0:return t.call(n);case 1:return t.call(n,e[0]);case 2:return t.call(n,e[0],e[1]);case 3:return t.call(n,e[0],e[1],e[2])}return t.apply(n,e)}function Cn(t,n,e,r){for(var o=-1,i=null==t?0:t.length;++o<i;){var a=t[o];n(r,a,e(a),t)}return r}function On(t,n){for(var e=-1,r=null==t?0:t.length;++e<r&&!1!==n(t[e],e,t););return t}function jn(t,n){for(var e=null==t?0:t.length;e--&&!1!==n(t[e],e,t););return t}function An(t,n){for(var e=-1,r=null==t?0:t.length;++e<r;)if(!n(t[e],e,t))return!1;return!0}function Dn(t,n){for(var e=-1,r=null==t?0:t.length,o=0,i=[];++e<r;){var a=t[e];n(a,e,t)&&(i[o++]=a)}return i}function En(t,n){return!!(null==t?0:t.length)&&Un(t,n,0)>-1}function Rn(t,n,e){for(var r=-1,o=null==t?0:t.length;++r<o;)if(e(n,t[r]))return!0;return!1}function Tn(t,n){for(var e=-1,r=null==t?0:t.length,o=Array(r);++e<r;)o[e]=n(t[e],e,t);return o}function In(t,n){for(var e=-1,r=n.length,o=t.length;++e<r;)t[o+e]=n[e];return t}function Pn(t,n,e,r){var o=-1,i=null==t?0:t.length;for(r&&i&&(e=t[++o]);++o<i;)e=n(e,t[o],o,t);return e}function zn(t,n,e,r){var o=null==t?0:t.length;for(r&&o&&(e=t[--o]);o--;)e=n(e,t[o],o,t);return e}function Ln(t,n){for(var e=-1,r=null==t?0:t.length;++e<r;)if(n(t[e],e,t))return!0;return!1}var Mn=Vn("length");function Fn(t,n,e){var r;return e(t,(function(t,e,o){if(n(t,e,o))return r=e,!1})),r}function Bn(t,n,e,r){for(var o=t.length,i=e+(r?1:-1);r?i--:++i<o;)if(n(t[i],i,t))return i;return-1}function Un(t,n,e){return n==n?function(t,n,e){var r=e-1,o=t.length;for(;++r<o;)if(t[r]===n)return r;return-1}(t,n,e):Bn(t,Wn,e)}function Nn(t,n,e,r){for(var o=e-1,i=t.length;++o<i;)if(r(t[o],n))return o;return-1}function Wn(t){return t!=t}function qn(t,n){var e=null==t?0:t.length;return e?Yn(t,n)/e:d}function Vn(t){return function(n){return null==n?e:n[t]}}function Hn(t){return function(n){return null==t?e:t[n]}}function Jn(t,n,e,r,o){return o(t,(function(t,o,i){e=r?(r=!1,t):n(e,t,o,i)})),e}function Yn(t,n){for(var r,o=-1,i=t.length;++o<i;){var a=n(t[o]);a!==e&&(r=r===e?a:r+a)}return r}function Gn(t,n){for(var e=-1,r=Array(t);++e<t;)r[e]=n(e);return r}function Xn(t){return t?t.slice(0,he(t)+1).replace(ot,""):t}function Zn(t){return function(n){return t(n)}}function Kn(t,n){return Tn(n,(function(n){return t[n]}))}function Qn(t,n){return t.has(n)}function te(t,n){for(var e=-1,r=t.length;++e<r&&Un(n,t[e],0)>-1;);return e}function ne(t,n){for(var e=t.length;e--&&Un(n,t[e],0)>-1;);return e}function ee(t,n){for(var e=t.length,r=0;e--;)t[e]===n&&++r;return r}var re=Hn({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),oe=Hn({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function ie(t){return"\\"+cn[t]}function ae(t){return nn.test(t)}function ue(t){var n=-1,e=Array(t.size);return t.forEach((function(t,r){e[++n]=[r,t]})),e}function ce(t,n){return function(e){return t(n(e))}}function se(t,n){for(var e=-1,r=t.length,o=0,a=[];++e<r;){var u=t[e];u!==n&&u!==i||(t[e]=i,a[o++]=e)}return a}function le(t){var n=-1,e=Array(t.size);return t.forEach((function(t){e[++n]=t})),e}function fe(t){var n=-1,e=Array(t.size);return t.forEach((function(t){e[++n]=[t,t]})),e}function pe(t){return ae(t)?function(t){var n=Qt.lastIndex=0;for(;Qt.test(t);)++n;return n}(t):Mn(t)}function de(t){return ae(t)?function(t){return t.match(Qt)||[]}(t):function(t){return t.split("")}(t)}function he(t){for(var n=t.length;n--&&it.test(t.charAt(n)););return n}var ge=Hn({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var ve=function t(n){var it,ct=(n=null==n?dn:ve.defaults(dn.Object(),n,ve.pick(dn,rn))).Array,xt=n.Date,kt=n.Error,St=n.Function,Ct=n.Math,Ot=n.Object,jt=n.RegExp,At=n.String,Dt=n.TypeError,Et=ct.prototype,Rt=St.prototype,Tt=Ot.prototype,It=n["__core-js_shared__"],Pt=Rt.toString,zt=Tt.hasOwnProperty,Lt=0,Mt=(it=/[^.]+$/.exec(It&&It.keys&&It.keys.IE_PROTO||""))?"Symbol(src)_1."+it:"",Ft=Tt.toString,Bt=Pt.call(Ot),Ut=dn._,Nt=jt("^"+Pt.call(zt).replace(et,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Wt=vn?n.Buffer:e,qt=n.Symbol,Vt=n.Uint8Array,Ht=Wt?Wt.allocUnsafe:e,Jt=ce(Ot.getPrototypeOf,Ot),Yt=Ot.create,Gt=Tt.propertyIsEnumerable,Xt=Et.splice,Qt=qt?qt.isConcatSpreadable:e,nn=qt?qt.iterator:e,cn=qt?qt.toStringTag:e,fn=function(){try{var t=hi(Ot,"defineProperty");return t({},"",{}),t}catch(t){}}(),pn=n.clearTimeout!==dn.clearTimeout&&n.clearTimeout,hn=xt&&xt.now!==dn.Date.now&&xt.now,gn=n.setTimeout!==dn.setTimeout&&n.setTimeout,mn=Ct.ceil,yn=Ct.floor,Mn=Ot.getOwnPropertySymbols,Hn=Wt?Wt.isBuffer:e,me=n.isFinite,ye=Et.join,_e=ce(Ot.keys,Ot),be=Ct.max,we=Ct.min,$e=xt.now,xe=n.parseInt,ke=Ct.random,Se=Et.reverse,Ce=hi(n,"DataView"),Oe=hi(n,"Map"),je=hi(n,"Promise"),Ae=hi(n,"Set"),De=hi(n,"WeakMap"),Ee=hi(Ot,"create"),Re=De&&new De,Te={},Ie=Ui(Ce),Pe=Ui(Oe),ze=Ui(je),Le=Ui(Ae),Me=Ui(De),Fe=qt?qt.prototype:e,Be=Fe?Fe.valueOf:e,Ue=Fe?Fe.toString:e;function Ne(t){if(ou(t)&&!Ja(t)&&!(t instanceof He)){if(t instanceof Ve)return t;if(zt.call(t,"__wrapped__"))return Ni(t)}return new Ve(t)}var We=function(){function t(){}return function(n){if(!ru(n))return{};if(Yt)return Yt(n);t.prototype=n;var r=new t;return t.prototype=e,r}}();function qe(){}function Ve(t,n){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!n,this.__index__=0,this.__values__=e}function He(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=h,this.__views__=[]}function Je(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}function Ye(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}function Ge(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}function Xe(t){var n=-1,e=null==t?0:t.length;for(this.__data__=new Ge;++n<e;)this.add(t[n])}function Ze(t){var n=this.__data__=new Ye(t);this.size=n.size}function Ke(t,n){var e=Ja(t),r=!e&&Ha(t),o=!e&&!r&&Za(t),i=!e&&!r&&!o&&pu(t),a=e||r||o||i,u=a?Gn(t.length,At):[],c=u.length;for(var s in t)!n&&!zt.call(t,s)||a&&("length"==s||o&&("offset"==s||"parent"==s)||i&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||wi(s,c))||u.push(s);return u}function Qe(t){var n=t.length;return n?t[Xr(0,n-1)]:e}function tr(t,n){return Mi(Ro(t),sr(n,0,t.length))}function nr(t){return Mi(Ro(t))}function er(t,n,r){(r!==e&&!Wa(t[n],r)||r===e&&!(n in t))&&ur(t,n,r)}function rr(t,n,r){var o=t[n];zt.call(t,n)&&Wa(o,r)&&(r!==e||n in t)||ur(t,n,r)}function or(t,n){for(var e=t.length;e--;)if(Wa(t[e][0],n))return e;return-1}function ir(t,n,e,r){return hr(t,(function(t,o,i){n(r,t,e(t),i)})),r}function ar(t,n){return t&&To(n,Iu(n),t)}function ur(t,n,e){"__proto__"==n&&fn?fn(t,n,{configurable:!0,enumerable:!0,value:e,writable:!0}):t[n]=e}function cr(t,n){for(var r=-1,o=n.length,i=ct(o),a=null==t;++r<o;)i[r]=a?e:Au(t,n[r]);return i}function sr(t,n,r){return t==t&&(r!==e&&(t=t<=r?t:r),n!==e&&(t=t>=n?t:n)),t}function lr(t,n,r,o,i,a){var u,c=1&n,s=2&n,l=4&n;if(r&&(u=i?r(t,o,i,a):r(t)),u!==e)return u;if(!ru(t))return t;var f=Ja(t);if(f){if(u=function(t){var n=t.length,e=new t.constructor(n);n&&"string"==typeof t[0]&&zt.call(t,"index")&&(e.index=t.index,e.input=t.input);return e}(t),!c)return Ro(t,u)}else{var p=mi(t),d=p==w||p==$;if(Za(t))return Co(t,c);if(p==S||p==v||d&&!i){if(u=s||d?{}:_i(t),!c)return s?function(t,n){return To(t,vi(t),n)}(t,function(t,n){return t&&To(n,Pu(n),t)}(u,t)):function(t,n){return To(t,gi(t),n)}(t,ar(u,t))}else{if(!un[p])return i?t:{};u=function(t,n,e){var r=t.constructor;switch(n){case R:return Oo(t);case y:case _:return new r(+t);case T:return function(t,n){var e=n?Oo(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.byteLength)}(t,e);case I:case P:case z:case L:case M:case F:case B:case U:case N:return jo(t,e);case x:return new r;case k:case A:return new r(t);case O:return function(t){var n=new t.constructor(t.source,ht.exec(t));return n.lastIndex=t.lastIndex,n}(t);case j:return new r;case D:return o=t,Be?Ot(Be.call(o)):{}}var o}(t,p,c)}}a||(a=new Ze);var h=a.get(t);if(h)return h;a.set(t,u),su(t)?t.forEach((function(e){u.add(lr(e,n,r,e,t,a))})):iu(t)&&t.forEach((function(e,o){u.set(o,lr(e,n,r,o,t,a))}));var g=f?e:(l?s?ui:ai:s?Pu:Iu)(t);return On(g||t,(function(e,o){g&&(e=t[o=e]),rr(u,o,lr(e,n,r,o,t,a))})),u}function fr(t,n,r){var o=r.length;if(null==t)return!o;for(t=Ot(t);o--;){var i=r[o],a=n[i],u=t[i];if(u===e&&!(i in t)||!a(u))return!1}return!0}function pr(t,n,o){if("function"!=typeof t)throw new Dt(r);return Ii((function(){t.apply(e,o)}),n)}function dr(t,n,e,r){var o=-1,i=En,a=!0,u=t.length,c=[],s=n.length;if(!u)return c;e&&(n=Tn(n,Zn(e))),r?(i=Rn,a=!1):n.length>=200&&(i=Qn,a=!1,n=new Xe(n));t:for(;++o<u;){var l=t[o],f=null==e?l:e(l);if(l=r||0!==l?l:0,a&&f==f){for(var p=s;p--;)if(n[p]===f)continue t;c.push(l)}else i(n,f,r)||c.push(l)}return c}Ne.templateSettings={escape:X,evaluate:Z,interpolate:K,variable:"",imports:{_:Ne}},Ne.prototype=qe.prototype,Ne.prototype.constructor=Ne,Ve.prototype=We(qe.prototype),Ve.prototype.constructor=Ve,He.prototype=We(qe.prototype),He.prototype.constructor=He,Je.prototype.clear=function(){this.__data__=Ee?Ee(null):{},this.size=0},Je.prototype.delete=function(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n},Je.prototype.get=function(t){var n=this.__data__;if(Ee){var r=n[t];return r===o?e:r}return zt.call(n,t)?n[t]:e},Je.prototype.has=function(t){var n=this.__data__;return Ee?n[t]!==e:zt.call(n,t)},Je.prototype.set=function(t,n){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Ee&&n===e?o:n,this},Ye.prototype.clear=function(){this.__data__=[],this.size=0},Ye.prototype.delete=function(t){var n=this.__data__,e=or(n,t);return!(e<0)&&(e==n.length-1?n.pop():Xt.call(n,e,1),--this.size,!0)},Ye.prototype.get=function(t){var n=this.__data__,r=or(n,t);return r<0?e:n[r][1]},Ye.prototype.has=function(t){return or(this.__data__,t)>-1},Ye.prototype.set=function(t,n){var e=this.__data__,r=or(e,t);return r<0?(++this.size,e.push([t,n])):e[r][1]=n,this},Ge.prototype.clear=function(){this.size=0,this.__data__={hash:new Je,map:new(Oe||Ye),string:new Je}},Ge.prototype.delete=function(t){var n=pi(this,t).delete(t);return this.size-=n?1:0,n},Ge.prototype.get=function(t){return pi(this,t).get(t)},Ge.prototype.has=function(t){return pi(this,t).has(t)},Ge.prototype.set=function(t,n){var e=pi(this,t),r=e.size;return e.set(t,n),this.size+=e.size==r?0:1,this},Xe.prototype.add=Xe.prototype.push=function(t){return this.__data__.set(t,o),this},Xe.prototype.has=function(t){return this.__data__.has(t)},Ze.prototype.clear=function(){this.__data__=new Ye,this.size=0},Ze.prototype.delete=function(t){var n=this.__data__,e=n.delete(t);return this.size=n.size,e},Ze.prototype.get=function(t){return this.__data__.get(t)},Ze.prototype.has=function(t){return this.__data__.has(t)},Ze.prototype.set=function(t,n){var e=this.__data__;if(e instanceof Ye){var r=e.__data__;if(!Oe||r.length<199)return r.push([t,n]),this.size=++e.size,this;e=this.__data__=new Ge(r)}return e.set(t,n),this.size=e.size,this};var hr=zo($r),gr=zo(xr,!0);function vr(t,n){var e=!0;return hr(t,(function(t,r,o){return e=!!n(t,r,o)})),e}function mr(t,n,r){for(var o=-1,i=t.length;++o<i;){var a=t[o],u=n(a);if(null!=u&&(c===e?u==u&&!fu(u):r(u,c)))var c=u,s=a}return s}function yr(t,n){var e=[];return hr(t,(function(t,r,o){n(t,r,o)&&e.push(t)})),e}function _r(t,n,e,r,o){var i=-1,a=t.length;for(e||(e=bi),o||(o=[]);++i<a;){var u=t[i];n>0&&e(u)?n>1?_r(u,n-1,e,r,o):In(o,u):r||(o[o.length]=u)}return o}var br=Lo(),wr=Lo(!0);function $r(t,n){return t&&br(t,n,Iu)}function xr(t,n){return t&&wr(t,n,Iu)}function kr(t,n){return Dn(n,(function(n){return tu(t[n])}))}function Sr(t,n){for(var r=0,o=(n=$o(n,t)).length;null!=t&&r<o;)t=t[Bi(n[r++])];return r&&r==o?t:e}function Cr(t,n,e){var r=n(t);return Ja(t)?r:In(r,e(t))}function Or(t){return null==t?t===e?"[object Undefined]":"[object Null]":cn&&cn in Ot(t)?function(t){var n=zt.call(t,cn),r=t[cn];try{t[cn]=e;var o=!0}catch(t){}var i=Ft.call(t);o&&(n?t[cn]=r:delete t[cn]);return i}(t):function(t){return Ft.call(t)}(t)}function jr(t,n){return t>n}function Ar(t,n){return null!=t&&zt.call(t,n)}function Dr(t,n){return null!=t&&n in Ot(t)}function Er(t,n,r){for(var o=r?Rn:En,i=t[0].length,a=t.length,u=a,c=ct(a),s=1/0,l=[];u--;){var f=t[u];u&&n&&(f=Tn(f,Zn(n))),s=we(f.length,s),c[u]=!r&&(n||i>=120&&f.length>=120)?new Xe(u&&f):e}f=t[0];var p=-1,d=c[0];t:for(;++p<i&&l.length<s;){var h=f[p],g=n?n(h):h;if(h=r||0!==h?h:0,!(d?Qn(d,g):o(l,g,r))){for(u=a;--u;){var v=c[u];if(!(v?Qn(v,g):o(t[u],g,r)))continue t}d&&d.push(g),l.push(h)}}return l}function Rr(t,n,r){var o=null==(t=Di(t,n=$o(n,t)))?t:t[Bi(Qi(n))];return null==o?e:Sn(o,t,r)}function Tr(t){return ou(t)&&Or(t)==v}function Ir(t,n,r,o,i){return t===n||(null==t||null==n||!ou(t)&&!ou(n)?t!=t&&n!=n:function(t,n,r,o,i,a){var u=Ja(t),c=Ja(n),s=u?m:mi(t),l=c?m:mi(n),f=(s=s==v?S:s)==S,p=(l=l==v?S:l)==S,d=s==l;if(d&&Za(t)){if(!Za(n))return!1;u=!0,f=!1}if(d&&!f)return a||(a=new Ze),u||pu(t)?oi(t,n,r,o,i,a):function(t,n,e,r,o,i,a){switch(e){case T:if(t.byteLength!=n.byteLength||t.byteOffset!=n.byteOffset)return!1;t=t.buffer,n=n.buffer;case R:return!(t.byteLength!=n.byteLength||!i(new Vt(t),new Vt(n)));case y:case _:case k:return Wa(+t,+n);case b:return t.name==n.name&&t.message==n.message;case O:case A:return t==n+"";case x:var u=ue;case j:var c=1&r;if(u||(u=le),t.size!=n.size&&!c)return!1;var s=a.get(t);if(s)return s==n;r|=2,a.set(t,n);var l=oi(u(t),u(n),r,o,i,a);return a.delete(t),l;case D:if(Be)return Be.call(t)==Be.call(n)}return!1}(t,n,s,r,o,i,a);if(!(1&r)){var h=f&&zt.call(t,"__wrapped__"),g=p&&zt.call(n,"__wrapped__");if(h||g){var w=h?t.value():t,$=g?n.value():n;return a||(a=new Ze),i(w,$,r,o,a)}}if(!d)return!1;return a||(a=new Ze),function(t,n,r,o,i,a){var u=1&r,c=ai(t),s=c.length,l=ai(n).length;if(s!=l&&!u)return!1;var f=s;for(;f--;){var p=c[f];if(!(u?p in n:zt.call(n,p)))return!1}var d=a.get(t),h=a.get(n);if(d&&h)return d==n&&h==t;var g=!0;a.set(t,n),a.set(n,t);var v=u;for(;++f<s;){var m=t[p=c[f]],y=n[p];if(o)var _=u?o(y,m,p,n,t,a):o(m,y,p,t,n,a);if(!(_===e?m===y||i(m,y,r,o,a):_)){g=!1;break}v||(v="constructor"==p)}if(g&&!v){var b=t.constructor,w=n.constructor;b==w||!("constructor"in t)||!("constructor"in n)||"function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w||(g=!1)}return a.delete(t),a.delete(n),g}(t,n,r,o,i,a)}(t,n,r,o,Ir,i))}function Pr(t,n,r,o){var i=r.length,a=i,u=!o;if(null==t)return!a;for(t=Ot(t);i--;){var c=r[i];if(u&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++i<a;){var s=(c=r[i])[0],l=t[s],f=c[1];if(u&&c[2]){if(l===e&&!(s in t))return!1}else{var p=new Ze;if(o)var d=o(l,f,s,t,n,p);if(!(d===e?Ir(f,l,3,o,p):d))return!1}}return!0}function zr(t){return!(!ru(t)||(n=t,Mt&&Mt in n))&&(tu(t)?Nt:mt).test(Ui(t));var n}function Lr(t){return"function"==typeof t?t:null==t?ac:"object"==typeof t?Ja(t)?Wr(t[0],t[1]):Nr(t):gc(t)}function Mr(t){if(!Ci(t))return _e(t);var n=[];for(var e in Ot(t))zt.call(t,e)&&"constructor"!=e&&n.push(e);return n}function Fr(t){if(!ru(t))return function(t){var n=[];if(null!=t)for(var e in Ot(t))n.push(e);return n}(t);var n=Ci(t),e=[];for(var r in t)("constructor"!=r||!n&&zt.call(t,r))&&e.push(r);return e}function Br(t,n){return t<n}function Ur(t,n){var e=-1,r=Ga(t)?ct(t.length):[];return hr(t,(function(t,o,i){r[++e]=n(t,o,i)})),r}function Nr(t){var n=di(t);return 1==n.length&&n[0][2]?ji(n[0][0],n[0][1]):function(e){return e===t||Pr(e,t,n)}}function Wr(t,n){return xi(t)&&Oi(n)?ji(Bi(t),n):function(r){var o=Au(r,t);return o===e&&o===n?Du(r,t):Ir(n,o,3)}}function qr(t,n,r,o,i){t!==n&&br(n,(function(a,u){if(i||(i=new Ze),ru(a))!function(t,n,r,o,i,a,u){var c=Ri(t,r),s=Ri(n,r),l=u.get(s);if(l)return void er(t,r,l);var f=a?a(c,s,r+"",t,n,u):e,p=f===e;if(p){var d=Ja(s),h=!d&&Za(s),g=!d&&!h&&pu(s);f=s,d||h||g?Ja(c)?f=c:Xa(c)?f=Ro(c):h?(p=!1,f=Co(s,!0)):g?(p=!1,f=jo(s,!0)):f=[]:uu(s)||Ha(s)?(f=c,Ha(c)?f=bu(c):ru(c)&&!tu(c)||(f=_i(s))):p=!1}p&&(u.set(s,f),i(f,s,o,a,u),u.delete(s));er(t,r,f)}(t,n,u,r,qr,o,i);else{var c=o?o(Ri(t,u),a,u+"",t,n,i):e;c===e&&(c=a),er(t,u,c)}}),Pu)}function Vr(t,n){var r=t.length;if(r)return wi(n+=n<0?r:0,r)?t[n]:e}function Hr(t,n,e){n=n.length?Tn(n,(function(t){return Ja(t)?function(n){return Sr(n,1===t.length?t[0]:t)}:t})):[ac];var r=-1;return n=Tn(n,Zn(fi())),function(t,n){var e=t.length;for(t.sort(n);e--;)t[e]=t[e].value;return t}(Ur(t,(function(t,e,o){return{criteria:Tn(n,(function(n){return n(t)})),index:++r,value:t}})),(function(t,n){return function(t,n,e){var r=-1,o=t.criteria,i=n.criteria,a=o.length,u=e.length;for(;++r<a;){var c=Ao(o[r],i[r]);if(c)return r>=u?c:c*("desc"==e[r]?-1:1)}return t.index-n.index}(t,n,e)}))}function Jr(t,n,e){for(var r=-1,o=n.length,i={};++r<o;){var a=n[r],u=Sr(t,a);e(u,a)&&no(i,$o(a,t),u)}return i}function Yr(t,n,e,r){var o=r?Nn:Un,i=-1,a=n.length,u=t;for(t===n&&(n=Ro(n)),e&&(u=Tn(t,Zn(e)));++i<a;)for(var c=0,s=n[i],l=e?e(s):s;(c=o(u,l,c,r))>-1;)u!==t&&Xt.call(u,c,1),Xt.call(t,c,1);return t}function Gr(t,n){for(var e=t?n.length:0,r=e-1;e--;){var o=n[e];if(e==r||o!==i){var i=o;wi(o)?Xt.call(t,o,1):ho(t,o)}}return t}function Xr(t,n){return t+yn(ke()*(n-t+1))}function Zr(t,n){var e="";if(!t||n<1||n>p)return e;do{n%2&&(e+=t),(n=yn(n/2))&&(t+=t)}while(n);return e}function Kr(t,n){return Pi(Ai(t,n,ac),t+"")}function Qr(t){return Qe(Wu(t))}function to(t,n){var e=Wu(t);return Mi(e,sr(n,0,e.length))}function no(t,n,r,o){if(!ru(t))return t;for(var i=-1,a=(n=$o(n,t)).length,u=a-1,c=t;null!=c&&++i<a;){var s=Bi(n[i]),l=r;if("__proto__"===s||"constructor"===s||"prototype"===s)return t;if(i!=u){var f=c[s];(l=o?o(f,s,c):e)===e&&(l=ru(f)?f:wi(n[i+1])?[]:{})}rr(c,s,l),c=c[s]}return t}var eo=Re?function(t,n){return Re.set(t,n),t}:ac,ro=fn?function(t,n){return fn(t,"toString",{configurable:!0,enumerable:!1,value:rc(n),writable:!0})}:ac;function oo(t){return Mi(Wu(t))}function io(t,n,e){var r=-1,o=t.length;n<0&&(n=-n>o?0:o+n),(e=e>o?o:e)<0&&(e+=o),o=n>e?0:e-n>>>0,n>>>=0;for(var i=ct(o);++r<o;)i[r]=t[r+n];return i}function ao(t,n){var e;return hr(t,(function(t,r,o){return!(e=n(t,r,o))})),!!e}function uo(t,n,e){var r=0,o=null==t?r:t.length;if("number"==typeof n&&n==n&&o<=2147483647){for(;r<o;){var i=r+o>>>1,a=t[i];null!==a&&!fu(a)&&(e?a<=n:a<n)?r=i+1:o=i}return o}return co(t,n,ac,e)}function co(t,n,r,o){var i=0,a=null==t?0:t.length;if(0===a)return 0;for(var u=(n=r(n))!=n,c=null===n,s=fu(n),l=n===e;i<a;){var f=yn((i+a)/2),p=r(t[f]),d=p!==e,h=null===p,g=p==p,v=fu(p);if(u)var m=o||g;else m=l?g&&(o||d):c?g&&d&&(o||!h):s?g&&d&&!h&&(o||!v):!h&&!v&&(o?p<=n:p<n);m?i=f+1:a=f}return we(a,4294967294)}function so(t,n){for(var e=-1,r=t.length,o=0,i=[];++e<r;){var a=t[e],u=n?n(a):a;if(!e||!Wa(u,c)){var c=u;i[o++]=0===a?0:a}}return i}function lo(t){return"number"==typeof t?t:fu(t)?d:+t}function fo(t){if("string"==typeof t)return t;if(Ja(t))return Tn(t,fo)+"";if(fu(t))return Ue?Ue.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}function po(t,n,e){var r=-1,o=En,i=t.length,a=!0,u=[],c=u;if(e)a=!1,o=Rn;else if(i>=200){var s=n?null:Ko(t);if(s)return le(s);a=!1,o=Qn,c=new Xe}else c=n?[]:u;t:for(;++r<i;){var l=t[r],f=n?n(l):l;if(l=e||0!==l?l:0,a&&f==f){for(var p=c.length;p--;)if(c[p]===f)continue t;n&&c.push(f),u.push(l)}else o(c,f,e)||(c!==u&&c.push(f),u.push(l))}return u}function ho(t,n){return null==(t=Di(t,n=$o(n,t)))||delete t[Bi(Qi(n))]}function go(t,n,e,r){return no(t,n,e(Sr(t,n)),r)}function vo(t,n,e,r){for(var o=t.length,i=r?o:-1;(r?i--:++i<o)&&n(t[i],i,t););return e?io(t,r?0:i,r?i+1:o):io(t,r?i+1:0,r?o:i)}function mo(t,n){var e=t;return e instanceof He&&(e=e.value()),Pn(n,(function(t,n){return n.func.apply(n.thisArg,In([t],n.args))}),e)}function yo(t,n,e){var r=t.length;if(r<2)return r?po(t[0]):[];for(var o=-1,i=ct(r);++o<r;)for(var a=t[o],u=-1;++u<r;)u!=o&&(i[o]=dr(i[o]||a,t[u],n,e));return po(_r(i,1),n,e)}function _o(t,n,r){for(var o=-1,i=t.length,a=n.length,u={};++o<i;){var c=o<a?n[o]:e;r(u,t[o],c)}return u}function bo(t){return Xa(t)?t:[]}function wo(t){return"function"==typeof t?t:ac}function $o(t,n){return Ja(t)?t:xi(t,n)?[t]:Fi(wu(t))}var xo=Kr;function ko(t,n,r){var o=t.length;return r=r===e?o:r,!n&&r>=o?t:io(t,n,r)}var So=pn||function(t){return dn.clearTimeout(t)};function Co(t,n){if(n)return t.slice();var e=t.length,r=Ht?Ht(e):new t.constructor(e);return t.copy(r),r}function Oo(t){var n=new t.constructor(t.byteLength);return new Vt(n).set(new Vt(t)),n}function jo(t,n){var e=n?Oo(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.length)}function Ao(t,n){if(t!==n){var r=t!==e,o=null===t,i=t==t,a=fu(t),u=n!==e,c=null===n,s=n==n,l=fu(n);if(!c&&!l&&!a&&t>n||a&&u&&s&&!c&&!l||o&&u&&s||!r&&s||!i)return 1;if(!o&&!a&&!l&&t<n||l&&r&&i&&!o&&!a||c&&r&&i||!u&&i||!s)return-1}return 0}function Do(t,n,e,r){for(var o=-1,i=t.length,a=e.length,u=-1,c=n.length,s=be(i-a,0),l=ct(c+s),f=!r;++u<c;)l[u]=n[u];for(;++o<a;)(f||o<i)&&(l[e[o]]=t[o]);for(;s--;)l[u++]=t[o++];return l}function Eo(t,n,e,r){for(var o=-1,i=t.length,a=-1,u=e.length,c=-1,s=n.length,l=be(i-u,0),f=ct(l+s),p=!r;++o<l;)f[o]=t[o];for(var d=o;++c<s;)f[d+c]=n[c];for(;++a<u;)(p||o<i)&&(f[d+e[a]]=t[o++]);return f}function Ro(t,n){var e=-1,r=t.length;for(n||(n=ct(r));++e<r;)n[e]=t[e];return n}function To(t,n,r,o){var i=!r;r||(r={});for(var a=-1,u=n.length;++a<u;){var c=n[a],s=o?o(r[c],t[c],c,r,t):e;s===e&&(s=t[c]),i?ur(r,c,s):rr(r,c,s)}return r}function Io(t,n){return function(e,r){var o=Ja(e)?Cn:ir,i=n?n():{};return o(e,t,fi(r,2),i)}}function Po(t){return Kr((function(n,r){var o=-1,i=r.length,a=i>1?r[i-1]:e,u=i>2?r[2]:e;for(a=t.length>3&&"function"==typeof a?(i--,a):e,u&&$i(r[0],r[1],u)&&(a=i<3?e:a,i=1),n=Ot(n);++o<i;){var c=r[o];c&&t(n,c,o,a)}return n}))}function zo(t,n){return function(e,r){if(null==e)return e;if(!Ga(e))return t(e,r);for(var o=e.length,i=n?o:-1,a=Ot(e);(n?i--:++i<o)&&!1!==r(a[i],i,a););return e}}function Lo(t){return function(n,e,r){for(var o=-1,i=Ot(n),a=r(n),u=a.length;u--;){var c=a[t?u:++o];if(!1===e(i[c],c,i))break}return n}}function Mo(t){return function(n){var r=ae(n=wu(n))?de(n):e,o=r?r[0]:n.charAt(0),i=r?ko(r,1).join(""):n.slice(1);return o[t]()+i}}function Fo(t){return function(n){return Pn(tc(Hu(n).replace(Zt,"")),t,"")}}function Bo(t){return function(){var n=arguments;switch(n.length){case 0:return new t;case 1:return new t(n[0]);case 2:return new t(n[0],n[1]);case 3:return new t(n[0],n[1],n[2]);case 4:return new t(n[0],n[1],n[2],n[3]);case 5:return new t(n[0],n[1],n[2],n[3],n[4]);case 6:return new t(n[0],n[1],n[2],n[3],n[4],n[5]);case 7:return new t(n[0],n[1],n[2],n[3],n[4],n[5],n[6])}var e=We(t.prototype),r=t.apply(e,n);return ru(r)?r:e}}function Uo(t){return function(n,r,o){var i=Ot(n);if(!Ga(n)){var a=fi(r,3);n=Iu(n),r=function(t){return a(i[t],t,i)}}var u=t(n,r,o);return u>-1?i[a?n[u]:u]:e}}function No(t){return ii((function(n){var o=n.length,i=o,a=Ve.prototype.thru;for(t&&n.reverse();i--;){var u=n[i];if("function"!=typeof u)throw new Dt(r);if(a&&!c&&"wrapper"==si(u))var c=new Ve([],!0)}for(i=c?i:o;++i<o;){var s=si(u=n[i]),l="wrapper"==s?ci(u):e;c=l&&ki(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?c[si(l[0])].apply(c,l[3]):1==u.length&&ki(u)?c[s]():c.thru(u)}return function(){var t=arguments,e=t[0];if(c&&1==t.length&&Ja(e))return c.plant(e).value();for(var r=0,i=o?n[r].apply(this,t):e;++r<o;)i=n[r].call(this,i);return i}}))}function Wo(t,n,r,o,i,a,u,c,l,f){var p=n&s,d=1&n,h=2&n,g=24&n,v=512&n,m=h?e:Bo(t);return function e(){for(var s=arguments.length,y=ct(s),_=s;_--;)y[_]=arguments[_];if(g)var b=li(e),w=ee(y,b);if(o&&(y=Do(y,o,i,g)),a&&(y=Eo(y,a,u,g)),s-=w,g&&s<f){var $=se(y,b);return Xo(t,n,Wo,e.placeholder,r,y,$,c,l,f-s)}var x=d?r:this,k=h?x[t]:t;return s=y.length,c?y=Ei(y,c):v&&s>1&&y.reverse(),p&&l<s&&(y.length=l),this&&this!==dn&&this instanceof e&&(k=m||Bo(k)),k.apply(x,y)}}function qo(t,n){return function(e,r){return function(t,n,e,r){return $r(t,(function(t,o,i){n(r,e(t),o,i)})),r}(e,t,n(r),{})}}function Vo(t,n){return function(r,o){var i;if(r===e&&o===e)return n;if(r!==e&&(i=r),o!==e){if(i===e)return o;"string"==typeof r||"string"==typeof o?(r=fo(r),o=fo(o)):(r=lo(r),o=lo(o)),i=t(r,o)}return i}}function Ho(t){return ii((function(n){return n=Tn(n,Zn(fi())),Kr((function(e){var r=this;return t(n,(function(t){return Sn(t,r,e)}))}))}))}function Jo(t,n){var r=(n=n===e?" ":fo(n)).length;if(r<2)return r?Zr(n,t):n;var o=Zr(n,mn(t/pe(n)));return ae(n)?ko(de(o),0,t).join(""):o.slice(0,t)}function Yo(t){return function(n,r,o){return o&&"number"!=typeof o&&$i(n,r,o)&&(r=o=e),n=vu(n),r===e?(r=n,n=0):r=vu(r),function(t,n,e,r){for(var o=-1,i=be(mn((n-t)/(e||1)),0),a=ct(i);i--;)a[r?i:++o]=t,t+=e;return a}(n,r,o=o===e?n<r?1:-1:vu(o),t)}}function Go(t){return function(n,e){return"string"==typeof n&&"string"==typeof e||(n=_u(n),e=_u(e)),t(n,e)}}function Xo(t,n,r,o,i,a,s,l,f,p){var d=8&n;n|=d?u:c,4&(n&=~(d?c:u))||(n&=-4);var h=[t,n,i,d?a:e,d?s:e,d?e:a,d?e:s,l,f,p],g=r.apply(e,h);return ki(t)&&Ti(g,h),g.placeholder=o,zi(g,t,n)}function Zo(t){var n=Ct[t];return function(t,e){if(t=_u(t),(e=null==e?0:we(mu(e),292))&&me(t)){var r=(wu(t)+"e").split("e");return+((r=(wu(n(r[0]+"e"+(+r[1]+e)))+"e").split("e"))[0]+"e"+(+r[1]-e))}return n(t)}}var Ko=Ae&&1/le(new Ae([,-0]))[1]==f?function(t){return new Ae(t)}:fc;function Qo(t){return function(n){var e=mi(n);return e==x?ue(n):e==j?fe(n):function(t,n){return Tn(n,(function(n){return[n,t[n]]}))}(n,t(n))}}function ti(t,n,o,f,p,d,h,g){var v=2&n;if(!v&&"function"!=typeof t)throw new Dt(r);var m=f?f.length:0;if(m||(n&=-97,f=p=e),h=h===e?h:be(mu(h),0),g=g===e?g:mu(g),m-=p?p.length:0,n&c){var y=f,_=p;f=p=e}var b=v?e:ci(t),w=[t,n,o,f,p,y,_,d,h,g];if(b&&function(t,n){var e=t[1],r=n[1],o=e|r,a=o<131,u=r==s&&8==e||r==s&&e==l&&t[7].length<=n[8]||384==r&&n[7].length<=n[8]&&8==e;if(!a&&!u)return t;1&r&&(t[2]=n[2],o|=1&e?0:4);var c=n[3];if(c){var f=t[3];t[3]=f?Do(f,c,n[4]):c,t[4]=f?se(t[3],i):n[4]}(c=n[5])&&(f=t[5],t[5]=f?Eo(f,c,n[6]):c,t[6]=f?se(t[5],i):n[6]);(c=n[7])&&(t[7]=c);r&s&&(t[8]=null==t[8]?n[8]:we(t[8],n[8]));null==t[9]&&(t[9]=n[9]);t[0]=n[0],t[1]=o}(w,b),t=w[0],n=w[1],o=w[2],f=w[3],p=w[4],!(g=w[9]=w[9]===e?v?0:t.length:be(w[9]-m,0))&&24&n&&(n&=-25),n&&1!=n)$=8==n||n==a?function(t,n,r){var o=Bo(t);return function i(){for(var a=arguments.length,u=ct(a),c=a,s=li(i);c--;)u[c]=arguments[c];var l=a<3&&u[0]!==s&&u[a-1]!==s?[]:se(u,s);return(a-=l.length)<r?Xo(t,n,Wo,i.placeholder,e,u,l,e,e,r-a):Sn(this&&this!==dn&&this instanceof i?o:t,this,u)}}(t,n,g):n!=u&&33!=n||p.length?Wo.apply(e,w):function(t,n,e,r){var o=1&n,i=Bo(t);return function n(){for(var a=-1,u=arguments.length,c=-1,s=r.length,l=ct(s+u),f=this&&this!==dn&&this instanceof n?i:t;++c<s;)l[c]=r[c];for(;u--;)l[c++]=arguments[++a];return Sn(f,o?e:this,l)}}(t,n,o,f);else var $=function(t,n,e){var r=1&n,o=Bo(t);return function n(){return(this&&this!==dn&&this instanceof n?o:t).apply(r?e:this,arguments)}}(t,n,o);return zi((b?eo:Ti)($,w),t,n)}function ni(t,n,r,o){return t===e||Wa(t,Tt[r])&&!zt.call(o,r)?n:t}function ei(t,n,r,o,i,a){return ru(t)&&ru(n)&&(a.set(n,t),qr(t,n,e,ei,a),a.delete(n)),t}function ri(t){return uu(t)?e:t}function oi(t,n,r,o,i,a){var u=1&r,c=t.length,s=n.length;if(c!=s&&!(u&&s>c))return!1;var l=a.get(t),f=a.get(n);if(l&&f)return l==n&&f==t;var p=-1,d=!0,h=2&r?new Xe:e;for(a.set(t,n),a.set(n,t);++p<c;){var g=t[p],v=n[p];if(o)var m=u?o(v,g,p,n,t,a):o(g,v,p,t,n,a);if(m!==e){if(m)continue;d=!1;break}if(h){if(!Ln(n,(function(t,n){if(!Qn(h,n)&&(g===t||i(g,t,r,o,a)))return h.push(n)}))){d=!1;break}}else if(g!==v&&!i(g,v,r,o,a)){d=!1;break}}return a.delete(t),a.delete(n),d}function ii(t){return Pi(Ai(t,e,Yi),t+"")}function ai(t){return Cr(t,Iu,gi)}function ui(t){return Cr(t,Pu,vi)}var ci=Re?function(t){return Re.get(t)}:fc;function si(t){for(var n=t.name+"",e=Te[n],r=zt.call(Te,n)?e.length:0;r--;){var o=e[r],i=o.func;if(null==i||i==t)return o.name}return n}function li(t){return(zt.call(Ne,"placeholder")?Ne:t).placeholder}function fi(){var t=Ne.iteratee||uc;return t=t===uc?Lr:t,arguments.length?t(arguments[0],arguments[1]):t}function pi(t,n){var e,r,o=t.__data__;return("string"==(r=typeof(e=n))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==e:null===e)?o["string"==typeof n?"string":"hash"]:o.map}function di(t){for(var n=Iu(t),e=n.length;e--;){var r=n[e],o=t[r];n[e]=[r,o,Oi(o)]}return n}function hi(t,n){var r=function(t,n){return null==t?e:t[n]}(t,n);return zr(r)?r:e}var gi=Mn?function(t){return null==t?[]:(t=Ot(t),Dn(Mn(t),(function(n){return Gt.call(t,n)})))}:yc,vi=Mn?function(t){for(var n=[];t;)In(n,gi(t)),t=Jt(t);return n}:yc,mi=Or;function yi(t,n,e){for(var r=-1,o=(n=$o(n,t)).length,i=!1;++r<o;){var a=Bi(n[r]);if(!(i=null!=t&&e(t,a)))break;t=t[a]}return i||++r!=o?i:!!(o=null==t?0:t.length)&&eu(o)&&wi(a,o)&&(Ja(t)||Ha(t))}function _i(t){return"function"!=typeof t.constructor||Ci(t)?{}:We(Jt(t))}function bi(t){return Ja(t)||Ha(t)||!!(Qt&&t&&t[Qt])}function wi(t,n){var e=typeof t;return!!(n=null==n?p:n)&&("number"==e||"symbol"!=e&&_t.test(t))&&t>-1&&t%1==0&&t<n}function $i(t,n,e){if(!ru(e))return!1;var r=typeof n;return!!("number"==r?Ga(e)&&wi(n,e.length):"string"==r&&n in e)&&Wa(e[n],t)}function xi(t,n){if(Ja(t))return!1;var e=typeof t;return!("number"!=e&&"symbol"!=e&&"boolean"!=e&&null!=t&&!fu(t))||(tt.test(t)||!Q.test(t)||null!=n&&t in Ot(n))}function ki(t){var n=si(t),e=Ne[n];if("function"!=typeof e||!(n in He.prototype))return!1;if(t===e)return!0;var r=ci(e);return!!r&&t===r[0]}(Ce&&mi(new Ce(new ArrayBuffer(1)))!=T||Oe&&mi(new Oe)!=x||je&&mi(je.resolve())!=C||Ae&&mi(new Ae)!=j||De&&mi(new De)!=E)&&(mi=function(t){var n=Or(t),r=n==S?t.constructor:e,o=r?Ui(r):"";if(o)switch(o){case Ie:return T;case Pe:return x;case ze:return C;case Le:return j;case Me:return E}return n});var Si=It?tu:_c;function Ci(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||Tt)}function Oi(t){return t==t&&!ru(t)}function ji(t,n){return function(r){return null!=r&&(r[t]===n&&(n!==e||t in Ot(r)))}}function Ai(t,n,r){return n=be(n===e?t.length-1:n,0),function(){for(var e=arguments,o=-1,i=be(e.length-n,0),a=ct(i);++o<i;)a[o]=e[n+o];o=-1;for(var u=ct(n+1);++o<n;)u[o]=e[o];return u[n]=r(a),Sn(t,this,u)}}function Di(t,n){return n.length<2?t:Sr(t,io(n,0,-1))}function Ei(t,n){for(var r=t.length,o=we(n.length,r),i=Ro(t);o--;){var a=n[o];t[o]=wi(a,r)?i[a]:e}return t}function Ri(t,n){if(("constructor"!==n||"function"!=typeof t[n])&&"__proto__"!=n)return t[n]}var Ti=Li(eo),Ii=gn||function(t,n){return dn.setTimeout(t,n)},Pi=Li(ro);function zi(t,n,e){var r=n+"";return Pi(t,function(t,n){var e=n.length;if(!e)return t;var r=e-1;return n[r]=(e>1?"& ":"")+n[r],n=n.join(e>2?", ":" "),t.replace(at,"{\n/* [wrapped with "+n+"] */\n")}(r,function(t,n){return On(g,(function(e){var r="_."+e[0];n&e[1]&&!En(t,r)&&t.push(r)})),t.sort()}(function(t){var n=t.match(ut);return n?n[1].split(st):[]}(r),e)))}function Li(t){var n=0,r=0;return function(){var o=$e(),i=16-(o-r);if(r=o,i>0){if(++n>=800)return arguments[0]}else n=0;return t.apply(e,arguments)}}function Mi(t,n){var r=-1,o=t.length,i=o-1;for(n=n===e?o:n;++r<n;){var a=Xr(r,i),u=t[a];t[a]=t[r],t[r]=u}return t.length=n,t}var Fi=function(t){var n=La(t,(function(t){return 500===e.size&&e.clear(),t})),e=n.cache;return n}((function(t){var n=[];return 46===t.charCodeAt(0)&&n.push(""),t.replace(nt,(function(t,e,r,o){n.push(r?o.replace(pt,"$1"):e||t)})),n}));function Bi(t){if("string"==typeof t||fu(t))return t;var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}function Ui(t){if(null!=t){try{return Pt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Ni(t){if(t instanceof He)return t.clone();var n=new Ve(t.__wrapped__,t.__chain__);return n.__actions__=Ro(t.__actions__),n.__index__=t.__index__,n.__values__=t.__values__,n}var Wi=Kr((function(t,n){return Xa(t)?dr(t,_r(n,1,Xa,!0)):[]})),qi=Kr((function(t,n){var r=Qi(n);return Xa(r)&&(r=e),Xa(t)?dr(t,_r(n,1,Xa,!0),fi(r,2)):[]})),Vi=Kr((function(t,n){var r=Qi(n);return Xa(r)&&(r=e),Xa(t)?dr(t,_r(n,1,Xa,!0),e,r):[]}));function Hi(t,n,e){var r=null==t?0:t.length;if(!r)return-1;var o=null==e?0:mu(e);return o<0&&(o=be(r+o,0)),Bn(t,fi(n,3),o)}function Ji(t,n,r){var o=null==t?0:t.length;if(!o)return-1;var i=o-1;return r!==e&&(i=mu(r),i=r<0?be(o+i,0):we(i,o-1)),Bn(t,fi(n,3),i,!0)}function Yi(t){return(null==t?0:t.length)?_r(t,1):[]}function Gi(t){return t&&t.length?t[0]:e}var Xi=Kr((function(t){var n=Tn(t,bo);return n.length&&n[0]===t[0]?Er(n):[]})),Zi=Kr((function(t){var n=Qi(t),r=Tn(t,bo);return n===Qi(r)?n=e:r.pop(),r.length&&r[0]===t[0]?Er(r,fi(n,2)):[]})),Ki=Kr((function(t){var n=Qi(t),r=Tn(t,bo);return(n="function"==typeof n?n:e)&&r.pop(),r.length&&r[0]===t[0]?Er(r,e,n):[]}));function Qi(t){var n=null==t?0:t.length;return n?t[n-1]:e}var ta=Kr(na);function na(t,n){return t&&t.length&&n&&n.length?Yr(t,n):t}var ea=ii((function(t,n){var e=null==t?0:t.length,r=cr(t,n);return Gr(t,Tn(n,(function(t){return wi(t,e)?+t:t})).sort(Ao)),r}));function ra(t){return null==t?t:Se.call(t)}var oa=Kr((function(t){return po(_r(t,1,Xa,!0))})),ia=Kr((function(t){var n=Qi(t);return Xa(n)&&(n=e),po(_r(t,1,Xa,!0),fi(n,2))})),aa=Kr((function(t){var n=Qi(t);return n="function"==typeof n?n:e,po(_r(t,1,Xa,!0),e,n)}));function ua(t){if(!t||!t.length)return[];var n=0;return t=Dn(t,(function(t){if(Xa(t))return n=be(t.length,n),!0})),Gn(n,(function(n){return Tn(t,Vn(n))}))}function ca(t,n){if(!t||!t.length)return[];var r=ua(t);return null==n?r:Tn(r,(function(t){return Sn(n,e,t)}))}var sa=Kr((function(t,n){return Xa(t)?dr(t,n):[]})),la=Kr((function(t){return yo(Dn(t,Xa))})),fa=Kr((function(t){var n=Qi(t);return Xa(n)&&(n=e),yo(Dn(t,Xa),fi(n,2))})),pa=Kr((function(t){var n=Qi(t);return n="function"==typeof n?n:e,yo(Dn(t,Xa),e,n)})),da=Kr(ua);var ha=Kr((function(t){var n=t.length,r=n>1?t[n-1]:e;return r="function"==typeof r?(t.pop(),r):e,ca(t,r)}));function ga(t){var n=Ne(t);return n.__chain__=!0,n}function va(t,n){return n(t)}var ma=ii((function(t){var n=t.length,r=n?t[0]:0,o=this.__wrapped__,i=function(n){return cr(n,t)};return!(n>1||this.__actions__.length)&&o instanceof He&&wi(r)?((o=o.slice(r,+r+(n?1:0))).__actions__.push({func:va,args:[i],thisArg:e}),new Ve(o,this.__chain__).thru((function(t){return n&&!t.length&&t.push(e),t}))):this.thru(i)}));var ya=Io((function(t,n,e){zt.call(t,e)?++t[e]:ur(t,e,1)}));var _a=Uo(Hi),ba=Uo(Ji);function wa(t,n){return(Ja(t)?On:hr)(t,fi(n,3))}function $a(t,n){return(Ja(t)?jn:gr)(t,fi(n,3))}var xa=Io((function(t,n,e){zt.call(t,e)?t[e].push(n):ur(t,e,[n])}));var ka=Kr((function(t,n,e){var r=-1,o="function"==typeof n,i=Ga(t)?ct(t.length):[];return hr(t,(function(t){i[++r]=o?Sn(n,t,e):Rr(t,n,e)})),i})),Sa=Io((function(t,n,e){ur(t,e,n)}));function Ca(t,n){return(Ja(t)?Tn:Ur)(t,fi(n,3))}var Oa=Io((function(t,n,e){t[e?0:1].push(n)}),(function(){return[[],[]]}));var ja=Kr((function(t,n){if(null==t)return[];var e=n.length;return e>1&&$i(t,n[0],n[1])?n=[]:e>2&&$i(n[0],n[1],n[2])&&(n=[n[0]]),Hr(t,_r(n,1),[])})),Aa=hn||function(){return dn.Date.now()};function Da(t,n,r){return n=r?e:n,n=t&&null==n?t.length:n,ti(t,s,e,e,e,e,n)}function Ea(t,n){var o;if("function"!=typeof n)throw new Dt(r);return t=mu(t),function(){return--t>0&&(o=n.apply(this,arguments)),t<=1&&(n=e),o}}var Ra=Kr((function(t,n,e){var r=1;if(e.length){var o=se(e,li(Ra));r|=u}return ti(t,r,n,e,o)})),Ta=Kr((function(t,n,e){var r=3;if(e.length){var o=se(e,li(Ta));r|=u}return ti(n,r,t,e,o)}));function Ia(t,n,o){var i,a,u,c,s,l,f=0,p=!1,d=!1,h=!0;if("function"!=typeof t)throw new Dt(r);function g(n){var r=i,o=a;return i=a=e,f=n,c=t.apply(o,r)}function v(t){return f=t,s=Ii(y,n),p?g(t):c}function m(t){var r=t-l;return l===e||r>=n||r<0||d&&t-f>=u}function y(){var t=Aa();if(m(t))return _(t);s=Ii(y,function(t){var e=n-(t-l);return d?we(e,u-(t-f)):e}(t))}function _(t){return s=e,h&&i?g(t):(i=a=e,c)}function b(){var t=Aa(),r=m(t);if(i=arguments,a=this,l=t,r){if(s===e)return v(l);if(d)return So(s),s=Ii(y,n),g(l)}return s===e&&(s=Ii(y,n)),c}return n=_u(n)||0,ru(o)&&(p=!!o.leading,u=(d="maxWait"in o)?be(_u(o.maxWait)||0,n):u,h="trailing"in o?!!o.trailing:h),b.cancel=function(){s!==e&&So(s),f=0,i=l=a=s=e},b.flush=function(){return s===e?c:_(Aa())},b}var Pa=Kr((function(t,n){return pr(t,1,n)})),za=Kr((function(t,n,e){return pr(t,_u(n)||0,e)}));function La(t,n){if("function"!=typeof t||null!=n&&"function"!=typeof n)throw new Dt(r);var e=function(){var r=arguments,o=n?n.apply(this,r):r[0],i=e.cache;if(i.has(o))return i.get(o);var a=t.apply(this,r);return e.cache=i.set(o,a)||i,a};return e.cache=new(La.Cache||Ge),e}function Ma(t){if("function"!=typeof t)throw new Dt(r);return function(){var n=arguments;switch(n.length){case 0:return!t.call(this);case 1:return!t.call(this,n[0]);case 2:return!t.call(this,n[0],n[1]);case 3:return!t.call(this,n[0],n[1],n[2])}return!t.apply(this,n)}}La.Cache=Ge;var Fa=xo((function(t,n){var e=(n=1==n.length&&Ja(n[0])?Tn(n[0],Zn(fi())):Tn(_r(n,1),Zn(fi()))).length;return Kr((function(r){for(var o=-1,i=we(r.length,e);++o<i;)r[o]=n[o].call(this,r[o]);return Sn(t,this,r)}))})),Ba=Kr((function(t,n){var r=se(n,li(Ba));return ti(t,u,e,n,r)})),Ua=Kr((function(t,n){var r=se(n,li(Ua));return ti(t,c,e,n,r)})),Na=ii((function(t,n){return ti(t,l,e,e,e,n)}));function Wa(t,n){return t===n||t!=t&&n!=n}var qa=Go(jr),Va=Go((function(t,n){return t>=n})),Ha=Tr(function(){return arguments}())?Tr:function(t){return ou(t)&&zt.call(t,"callee")&&!Gt.call(t,"callee")},Ja=ct.isArray,Ya=_n?Zn(_n):function(t){return ou(t)&&Or(t)==R};function Ga(t){return null!=t&&eu(t.length)&&!tu(t)}function Xa(t){return ou(t)&&Ga(t)}var Za=Hn||_c,Ka=bn?Zn(bn):function(t){return ou(t)&&Or(t)==_};function Qa(t){if(!ou(t))return!1;var n=Or(t);return n==b||"[object DOMException]"==n||"string"==typeof t.message&&"string"==typeof t.name&&!uu(t)}function tu(t){if(!ru(t))return!1;var n=Or(t);return n==w||n==$||"[object AsyncFunction]"==n||"[object Proxy]"==n}function nu(t){return"number"==typeof t&&t==mu(t)}function eu(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=p}function ru(t){var n=typeof t;return null!=t&&("object"==n||"function"==n)}function ou(t){return null!=t&&"object"==typeof t}var iu=wn?Zn(wn):function(t){return ou(t)&&mi(t)==x};function au(t){return"number"==typeof t||ou(t)&&Or(t)==k}function uu(t){if(!ou(t)||Or(t)!=S)return!1;var n=Jt(t);if(null===n)return!0;var e=zt.call(n,"constructor")&&n.constructor;return"function"==typeof e&&e instanceof e&&Pt.call(e)==Bt}var cu=$n?Zn($n):function(t){return ou(t)&&Or(t)==O};var su=xn?Zn(xn):function(t){return ou(t)&&mi(t)==j};function lu(t){return"string"==typeof t||!Ja(t)&&ou(t)&&Or(t)==A}function fu(t){return"symbol"==typeof t||ou(t)&&Or(t)==D}var pu=kn?Zn(kn):function(t){return ou(t)&&eu(t.length)&&!!an[Or(t)]};var du=Go(Br),hu=Go((function(t,n){return t<=n}));function gu(t){if(!t)return[];if(Ga(t))return lu(t)?de(t):Ro(t);if(nn&&t[nn])return function(t){for(var n,e=[];!(n=t.next()).done;)e.push(n.value);return e}(t[nn]());var n=mi(t);return(n==x?ue:n==j?le:Wu)(t)}function vu(t){return t?(t=_u(t))===f||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function mu(t){var n=vu(t),e=n%1;return n==n?e?n-e:n:0}function yu(t){return t?sr(mu(t),0,h):0}function _u(t){if("number"==typeof t)return t;if(fu(t))return d;if(ru(t)){var n="function"==typeof t.valueOf?t.valueOf():t;t=ru(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=Xn(t);var e=vt.test(t);return e||yt.test(t)?ln(t.slice(2),e?2:8):gt.test(t)?d:+t}function bu(t){return To(t,Pu(t))}function wu(t){return null==t?"":fo(t)}var $u=Po((function(t,n){if(Ci(n)||Ga(n))To(n,Iu(n),t);else for(var e in n)zt.call(n,e)&&rr(t,e,n[e])})),xu=Po((function(t,n){To(n,Pu(n),t)})),ku=Po((function(t,n,e,r){To(n,Pu(n),t,r)})),Su=Po((function(t,n,e,r){To(n,Iu(n),t,r)})),Cu=ii(cr);var Ou=Kr((function(t,n){t=Ot(t);var r=-1,o=n.length,i=o>2?n[2]:e;for(i&&$i(n[0],n[1],i)&&(o=1);++r<o;)for(var a=n[r],u=Pu(a),c=-1,s=u.length;++c<s;){var l=u[c],f=t[l];(f===e||Wa(f,Tt[l])&&!zt.call(t,l))&&(t[l]=a[l])}return t})),ju=Kr((function(t){return t.push(e,ei),Sn(Lu,e,t)}));function Au(t,n,r){var o=null==t?e:Sr(t,n);return o===e?r:o}function Du(t,n){return null!=t&&yi(t,n,Dr)}var Eu=qo((function(t,n,e){null!=n&&"function"!=typeof n.toString&&(n=Ft.call(n)),t[n]=e}),rc(ac)),Ru=qo((function(t,n,e){null!=n&&"function"!=typeof n.toString&&(n=Ft.call(n)),zt.call(t,n)?t[n].push(e):t[n]=[e]}),fi),Tu=Kr(Rr);function Iu(t){return Ga(t)?Ke(t):Mr(t)}function Pu(t){return Ga(t)?Ke(t,!0):Fr(t)}var zu=Po((function(t,n,e){qr(t,n,e)})),Lu=Po((function(t,n,e,r){qr(t,n,e,r)})),Mu=ii((function(t,n){var e={};if(null==t)return e;var r=!1;n=Tn(n,(function(n){return n=$o(n,t),r||(r=n.length>1),n})),To(t,ui(t),e),r&&(e=lr(e,7,ri));for(var o=n.length;o--;)ho(e,n[o]);return e}));var Fu=ii((function(t,n){return null==t?{}:function(t,n){return Jr(t,n,(function(n,e){return Du(t,e)}))}(t,n)}));function Bu(t,n){if(null==t)return{};var e=Tn(ui(t),(function(t){return[t]}));return n=fi(n),Jr(t,e,(function(t,e){return n(t,e[0])}))}var Uu=Qo(Iu),Nu=Qo(Pu);function Wu(t){return null==t?[]:Kn(t,Iu(t))}var qu=Fo((function(t,n,e){return n=n.toLowerCase(),t+(e?Vu(n):n)}));function Vu(t){return Qu(wu(t).toLowerCase())}function Hu(t){return(t=wu(t))&&t.replace(bt,re).replace(Kt,"")}var Ju=Fo((function(t,n,e){return t+(e?"-":"")+n.toLowerCase()})),Yu=Fo((function(t,n,e){return t+(e?" ":"")+n.toLowerCase()})),Gu=Mo("toLowerCase");var Xu=Fo((function(t,n,e){return t+(e?"_":"")+n.toLowerCase()}));var Zu=Fo((function(t,n,e){return t+(e?" ":"")+Qu(n)}));var Ku=Fo((function(t,n,e){return t+(e?" ":"")+n.toUpperCase()})),Qu=Mo("toUpperCase");function tc(t,n,r){return t=wu(t),(n=r?e:n)===e?function(t){return en.test(t)}(t)?function(t){return t.match(tn)||[]}(t):function(t){return t.match(lt)||[]}(t):t.match(n)||[]}var nc=Kr((function(t,n){try{return Sn(t,e,n)}catch(t){return Qa(t)?t:new kt(t)}})),ec=ii((function(t,n){return On(n,(function(n){n=Bi(n),ur(t,n,Ra(t[n],t))})),t}));function rc(t){return function(){return t}}var oc=No(),ic=No(!0);function ac(t){return t}function uc(t){return Lr("function"==typeof t?t:lr(t,1))}var cc=Kr((function(t,n){return function(e){return Rr(e,t,n)}})),sc=Kr((function(t,n){return function(e){return Rr(t,e,n)}}));function lc(t,n,e){var r=Iu(n),o=kr(n,r);null!=e||ru(n)&&(o.length||!r.length)||(e=n,n=t,t=this,o=kr(n,Iu(n)));var i=!(ru(e)&&"chain"in e&&!e.chain),a=tu(t);return On(o,(function(e){var r=n[e];t[e]=r,a&&(t.prototype[e]=function(){var n=this.__chain__;if(i||n){var e=t(this.__wrapped__),o=e.__actions__=Ro(this.__actions__);return o.push({func:r,args:arguments,thisArg:t}),e.__chain__=n,e}return r.apply(t,In([this.value()],arguments))})})),t}function fc(){}var pc=Ho(Tn),dc=Ho(An),hc=Ho(Ln);function gc(t){return xi(t)?Vn(Bi(t)):function(t){return function(n){return Sr(n,t)}}(t)}var vc=Yo(),mc=Yo(!0);function yc(){return[]}function _c(){return!1}var bc=Vo((function(t,n){return t+n}),0),wc=Zo("ceil"),$c=Vo((function(t,n){return t/n}),1),xc=Zo("floor");var kc,Sc=Vo((function(t,n){return t*n}),1),Cc=Zo("round"),Oc=Vo((function(t,n){return t-n}),0);return Ne.after=function(t,n){if("function"!=typeof n)throw new Dt(r);return t=mu(t),function(){if(--t<1)return n.apply(this,arguments)}},Ne.ary=Da,Ne.assign=$u,Ne.assignIn=xu,Ne.assignInWith=ku,Ne.assignWith=Su,Ne.at=Cu,Ne.before=Ea,Ne.bind=Ra,Ne.bindAll=ec,Ne.bindKey=Ta,Ne.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Ja(t)?t:[t]},Ne.chain=ga,Ne.chunk=function(t,n,r){n=(r?$i(t,n,r):n===e)?1:be(mu(n),0);var o=null==t?0:t.length;if(!o||n<1)return[];for(var i=0,a=0,u=ct(mn(o/n));i<o;)u[a++]=io(t,i,i+=n);return u},Ne.compact=function(t){for(var n=-1,e=null==t?0:t.length,r=0,o=[];++n<e;){var i=t[n];i&&(o[r++]=i)}return o},Ne.concat=function(){var t=arguments.length;if(!t)return[];for(var n=ct(t-1),e=arguments[0],r=t;r--;)n[r-1]=arguments[r];return In(Ja(e)?Ro(e):[e],_r(n,1))},Ne.cond=function(t){var n=null==t?0:t.length,e=fi();return t=n?Tn(t,(function(t){if("function"!=typeof t[1])throw new Dt(r);return[e(t[0]),t[1]]})):[],Kr((function(e){for(var r=-1;++r<n;){var o=t[r];if(Sn(o[0],this,e))return Sn(o[1],this,e)}}))},Ne.conforms=function(t){return function(t){var n=Iu(t);return function(e){return fr(e,t,n)}}(lr(t,1))},Ne.constant=rc,Ne.countBy=ya,Ne.create=function(t,n){var e=We(t);return null==n?e:ar(e,n)},Ne.curry=function t(n,r,o){var i=ti(n,8,e,e,e,e,e,r=o?e:r);return i.placeholder=t.placeholder,i},Ne.curryRight=function t(n,r,o){var i=ti(n,a,e,e,e,e,e,r=o?e:r);return i.placeholder=t.placeholder,i},Ne.debounce=Ia,Ne.defaults=Ou,Ne.defaultsDeep=ju,Ne.defer=Pa,Ne.delay=za,Ne.difference=Wi,Ne.differenceBy=qi,Ne.differenceWith=Vi,Ne.drop=function(t,n,r){var o=null==t?0:t.length;return o?io(t,(n=r||n===e?1:mu(n))<0?0:n,o):[]},Ne.dropRight=function(t,n,r){var o=null==t?0:t.length;return o?io(t,0,(n=o-(n=r||n===e?1:mu(n)))<0?0:n):[]},Ne.dropRightWhile=function(t,n){return t&&t.length?vo(t,fi(n,3),!0,!0):[]},Ne.dropWhile=function(t,n){return t&&t.length?vo(t,fi(n,3),!0):[]},Ne.fill=function(t,n,r,o){var i=null==t?0:t.length;return i?(r&&"number"!=typeof r&&$i(t,n,r)&&(r=0,o=i),function(t,n,r,o){var i=t.length;for((r=mu(r))<0&&(r=-r>i?0:i+r),(o=o===e||o>i?i:mu(o))<0&&(o+=i),o=r>o?0:yu(o);r<o;)t[r++]=n;return t}(t,n,r,o)):[]},Ne.filter=function(t,n){return(Ja(t)?Dn:yr)(t,fi(n,3))},Ne.flatMap=function(t,n){return _r(Ca(t,n),1)},Ne.flatMapDeep=function(t,n){return _r(Ca(t,n),f)},Ne.flatMapDepth=function(t,n,r){return r=r===e?1:mu(r),_r(Ca(t,n),r)},Ne.flatten=Yi,Ne.flattenDeep=function(t){return(null==t?0:t.length)?_r(t,f):[]},Ne.flattenDepth=function(t,n){return(null==t?0:t.length)?_r(t,n=n===e?1:mu(n)):[]},Ne.flip=function(t){return ti(t,512)},Ne.flow=oc,Ne.flowRight=ic,Ne.fromPairs=function(t){for(var n=-1,e=null==t?0:t.length,r={};++n<e;){var o=t[n];r[o[0]]=o[1]}return r},Ne.functions=function(t){return null==t?[]:kr(t,Iu(t))},Ne.functionsIn=function(t){return null==t?[]:kr(t,Pu(t))},Ne.groupBy=xa,Ne.initial=function(t){return(null==t?0:t.length)?io(t,0,-1):[]},Ne.intersection=Xi,Ne.intersectionBy=Zi,Ne.intersectionWith=Ki,Ne.invert=Eu,Ne.invertBy=Ru,Ne.invokeMap=ka,Ne.iteratee=uc,Ne.keyBy=Sa,Ne.keys=Iu,Ne.keysIn=Pu,Ne.map=Ca,Ne.mapKeys=function(t,n){var e={};return n=fi(n,3),$r(t,(function(t,r,o){ur(e,n(t,r,o),t)})),e},Ne.mapValues=function(t,n){var e={};return n=fi(n,3),$r(t,(function(t,r,o){ur(e,r,n(t,r,o))})),e},Ne.matches=function(t){return Nr(lr(t,1))},Ne.matchesProperty=function(t,n){return Wr(t,lr(n,1))},Ne.memoize=La,Ne.merge=zu,Ne.mergeWith=Lu,Ne.method=cc,Ne.methodOf=sc,Ne.mixin=lc,Ne.negate=Ma,Ne.nthArg=function(t){return t=mu(t),Kr((function(n){return Vr(n,t)}))},Ne.omit=Mu,Ne.omitBy=function(t,n){return Bu(t,Ma(fi(n)))},Ne.once=function(t){return Ea(2,t)},Ne.orderBy=function(t,n,r,o){return null==t?[]:(Ja(n)||(n=null==n?[]:[n]),Ja(r=o?e:r)||(r=null==r?[]:[r]),Hr(t,n,r))},Ne.over=pc,Ne.overArgs=Fa,Ne.overEvery=dc,Ne.overSome=hc,Ne.partial=Ba,Ne.partialRight=Ua,Ne.partition=Oa,Ne.pick=Fu,Ne.pickBy=Bu,Ne.property=gc,Ne.propertyOf=function(t){return function(n){return null==t?e:Sr(t,n)}},Ne.pull=ta,Ne.pullAll=na,Ne.pullAllBy=function(t,n,e){return t&&t.length&&n&&n.length?Yr(t,n,fi(e,2)):t},Ne.pullAllWith=function(t,n,r){return t&&t.length&&n&&n.length?Yr(t,n,e,r):t},Ne.pullAt=ea,Ne.range=vc,Ne.rangeRight=mc,Ne.rearg=Na,Ne.reject=function(t,n){return(Ja(t)?Dn:yr)(t,Ma(fi(n,3)))},Ne.remove=function(t,n){var e=[];if(!t||!t.length)return e;var r=-1,o=[],i=t.length;for(n=fi(n,3);++r<i;){var a=t[r];n(a,r,t)&&(e.push(a),o.push(r))}return Gr(t,o),e},Ne.rest=function(t,n){if("function"!=typeof t)throw new Dt(r);return Kr(t,n=n===e?n:mu(n))},Ne.reverse=ra,Ne.sampleSize=function(t,n,r){return n=(r?$i(t,n,r):n===e)?1:mu(n),(Ja(t)?tr:to)(t,n)},Ne.set=function(t,n,e){return null==t?t:no(t,n,e)},Ne.setWith=function(t,n,r,o){return o="function"==typeof o?o:e,null==t?t:no(t,n,r,o)},Ne.shuffle=function(t){return(Ja(t)?nr:oo)(t)},Ne.slice=function(t,n,r){var o=null==t?0:t.length;return o?(r&&"number"!=typeof r&&$i(t,n,r)?(n=0,r=o):(n=null==n?0:mu(n),r=r===e?o:mu(r)),io(t,n,r)):[]},Ne.sortBy=ja,Ne.sortedUniq=function(t){return t&&t.length?so(t):[]},Ne.sortedUniqBy=function(t,n){return t&&t.length?so(t,fi(n,2)):[]},Ne.split=function(t,n,r){return r&&"number"!=typeof r&&$i(t,n,r)&&(n=r=e),(r=r===e?h:r>>>0)?(t=wu(t))&&("string"==typeof n||null!=n&&!cu(n))&&!(n=fo(n))&&ae(t)?ko(de(t),0,r):t.split(n,r):[]},Ne.spread=function(t,n){if("function"!=typeof t)throw new Dt(r);return n=null==n?0:be(mu(n),0),Kr((function(e){var r=e[n],o=ko(e,0,n);return r&&In(o,r),Sn(t,this,o)}))},Ne.tail=function(t){var n=null==t?0:t.length;return n?io(t,1,n):[]},Ne.take=function(t,n,r){return t&&t.length?io(t,0,(n=r||n===e?1:mu(n))<0?0:n):[]},Ne.takeRight=function(t,n,r){var o=null==t?0:t.length;return o?io(t,(n=o-(n=r||n===e?1:mu(n)))<0?0:n,o):[]},Ne.takeRightWhile=function(t,n){return t&&t.length?vo(t,fi(n,3),!1,!0):[]},Ne.takeWhile=function(t,n){return t&&t.length?vo(t,fi(n,3)):[]},Ne.tap=function(t,n){return n(t),t},Ne.throttle=function(t,n,e){var o=!0,i=!0;if("function"!=typeof t)throw new Dt(r);return ru(e)&&(o="leading"in e?!!e.leading:o,i="trailing"in e?!!e.trailing:i),Ia(t,n,{leading:o,maxWait:n,trailing:i})},Ne.thru=va,Ne.toArray=gu,Ne.toPairs=Uu,Ne.toPairsIn=Nu,Ne.toPath=function(t){return Ja(t)?Tn(t,Bi):fu(t)?[t]:Ro(Fi(wu(t)))},Ne.toPlainObject=bu,Ne.transform=function(t,n,e){var r=Ja(t),o=r||Za(t)||pu(t);if(n=fi(n,4),null==e){var i=t&&t.constructor;e=o?r?new i:[]:ru(t)&&tu(i)?We(Jt(t)):{}}return(o?On:$r)(t,(function(t,r,o){return n(e,t,r,o)})),e},Ne.unary=function(t){return Da(t,1)},Ne.union=oa,Ne.unionBy=ia,Ne.unionWith=aa,Ne.uniq=function(t){return t&&t.length?po(t):[]},Ne.uniqBy=function(t,n){return t&&t.length?po(t,fi(n,2)):[]},Ne.uniqWith=function(t,n){return n="function"==typeof n?n:e,t&&t.length?po(t,e,n):[]},Ne.unset=function(t,n){return null==t||ho(t,n)},Ne.unzip=ua,Ne.unzipWith=ca,Ne.update=function(t,n,e){return null==t?t:go(t,n,wo(e))},Ne.updateWith=function(t,n,r,o){return o="function"==typeof o?o:e,null==t?t:go(t,n,wo(r),o)},Ne.values=Wu,Ne.valuesIn=function(t){return null==t?[]:Kn(t,Pu(t))},Ne.without=sa,Ne.words=tc,Ne.wrap=function(t,n){return Ba(wo(n),t)},Ne.xor=la,Ne.xorBy=fa,Ne.xorWith=pa,Ne.zip=da,Ne.zipObject=function(t,n){return _o(t||[],n||[],rr)},Ne.zipObjectDeep=function(t,n){return _o(t||[],n||[],no)},Ne.zipWith=ha,Ne.entries=Uu,Ne.entriesIn=Nu,Ne.extend=xu,Ne.extendWith=ku,lc(Ne,Ne),Ne.add=bc,Ne.attempt=nc,Ne.camelCase=qu,Ne.capitalize=Vu,Ne.ceil=wc,Ne.clamp=function(t,n,r){return r===e&&(r=n,n=e),r!==e&&(r=(r=_u(r))==r?r:0),n!==e&&(n=(n=_u(n))==n?n:0),sr(_u(t),n,r)},Ne.clone=function(t){return lr(t,4)},Ne.cloneDeep=function(t){return lr(t,5)},Ne.cloneDeepWith=function(t,n){return lr(t,5,n="function"==typeof n?n:e)},Ne.cloneWith=function(t,n){return lr(t,4,n="function"==typeof n?n:e)},Ne.conformsTo=function(t,n){return null==n||fr(t,n,Iu(n))},Ne.deburr=Hu,Ne.defaultTo=function(t,n){return null==t||t!=t?n:t},Ne.divide=$c,Ne.endsWith=function(t,n,r){t=wu(t),n=fo(n);var o=t.length,i=r=r===e?o:sr(mu(r),0,o);return(r-=n.length)>=0&&t.slice(r,i)==n},Ne.eq=Wa,Ne.escape=function(t){return(t=wu(t))&&G.test(t)?t.replace(J,oe):t},Ne.escapeRegExp=function(t){return(t=wu(t))&&rt.test(t)?t.replace(et,"\\$&"):t},Ne.every=function(t,n,r){var o=Ja(t)?An:vr;return r&&$i(t,n,r)&&(n=e),o(t,fi(n,3))},Ne.find=_a,Ne.findIndex=Hi,Ne.findKey=function(t,n){return Fn(t,fi(n,3),$r)},Ne.findLast=ba,Ne.findLastIndex=Ji,Ne.findLastKey=function(t,n){return Fn(t,fi(n,3),xr)},Ne.floor=xc,Ne.forEach=wa,Ne.forEachRight=$a,Ne.forIn=function(t,n){return null==t?t:br(t,fi(n,3),Pu)},Ne.forInRight=function(t,n){return null==t?t:wr(t,fi(n,3),Pu)},Ne.forOwn=function(t,n){return t&&$r(t,fi(n,3))},Ne.forOwnRight=function(t,n){return t&&xr(t,fi(n,3))},Ne.get=Au,Ne.gt=qa,Ne.gte=Va,Ne.has=function(t,n){return null!=t&&yi(t,n,Ar)},Ne.hasIn=Du,Ne.head=Gi,Ne.identity=ac,Ne.includes=function(t,n,e,r){t=Ga(t)?t:Wu(t),e=e&&!r?mu(e):0;var o=t.length;return e<0&&(e=be(o+e,0)),lu(t)?e<=o&&t.indexOf(n,e)>-1:!!o&&Un(t,n,e)>-1},Ne.indexOf=function(t,n,e){var r=null==t?0:t.length;if(!r)return-1;var o=null==e?0:mu(e);return o<0&&(o=be(r+o,0)),Un(t,n,o)},Ne.inRange=function(t,n,r){return n=vu(n),r===e?(r=n,n=0):r=vu(r),function(t,n,e){return t>=we(n,e)&&t<be(n,e)}(t=_u(t),n,r)},Ne.invoke=Tu,Ne.isArguments=Ha,Ne.isArray=Ja,Ne.isArrayBuffer=Ya,Ne.isArrayLike=Ga,Ne.isArrayLikeObject=Xa,Ne.isBoolean=function(t){return!0===t||!1===t||ou(t)&&Or(t)==y},Ne.isBuffer=Za,Ne.isDate=Ka,Ne.isElement=function(t){return ou(t)&&1===t.nodeType&&!uu(t)},Ne.isEmpty=function(t){if(null==t)return!0;if(Ga(t)&&(Ja(t)||"string"==typeof t||"function"==typeof t.splice||Za(t)||pu(t)||Ha(t)))return!t.length;var n=mi(t);if(n==x||n==j)return!t.size;if(Ci(t))return!Mr(t).length;for(var e in t)if(zt.call(t,e))return!1;return!0},Ne.isEqual=function(t,n){return Ir(t,n)},Ne.isEqualWith=function(t,n,r){var o=(r="function"==typeof r?r:e)?r(t,n):e;return o===e?Ir(t,n,e,r):!!o},Ne.isError=Qa,Ne.isFinite=function(t){return"number"==typeof t&&me(t)},Ne.isFunction=tu,Ne.isInteger=nu,Ne.isLength=eu,Ne.isMap=iu,Ne.isMatch=function(t,n){return t===n||Pr(t,n,di(n))},Ne.isMatchWith=function(t,n,r){return r="function"==typeof r?r:e,Pr(t,n,di(n),r)},Ne.isNaN=function(t){return au(t)&&t!=+t},Ne.isNative=function(t){if(Si(t))throw new kt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return zr(t)},Ne.isNil=function(t){return null==t},Ne.isNull=function(t){return null===t},Ne.isNumber=au,Ne.isObject=ru,Ne.isObjectLike=ou,Ne.isPlainObject=uu,Ne.isRegExp=cu,Ne.isSafeInteger=function(t){return nu(t)&&t>=-9007199254740991&&t<=p},Ne.isSet=su,Ne.isString=lu,Ne.isSymbol=fu,Ne.isTypedArray=pu,Ne.isUndefined=function(t){return t===e},Ne.isWeakMap=function(t){return ou(t)&&mi(t)==E},Ne.isWeakSet=function(t){return ou(t)&&"[object WeakSet]"==Or(t)},Ne.join=function(t,n){return null==t?"":ye.call(t,n)},Ne.kebabCase=Ju,Ne.last=Qi,Ne.lastIndexOf=function(t,n,r){var o=null==t?0:t.length;if(!o)return-1;var i=o;return r!==e&&(i=(i=mu(r))<0?be(o+i,0):we(i,o-1)),n==n?function(t,n,e){for(var r=e+1;r--;)if(t[r]===n)return r;return r}(t,n,i):Bn(t,Wn,i,!0)},Ne.lowerCase=Yu,Ne.lowerFirst=Gu,Ne.lt=du,Ne.lte=hu,Ne.max=function(t){return t&&t.length?mr(t,ac,jr):e},Ne.maxBy=function(t,n){return t&&t.length?mr(t,fi(n,2),jr):e},Ne.mean=function(t){return qn(t,ac)},Ne.meanBy=function(t,n){return qn(t,fi(n,2))},Ne.min=function(t){return t&&t.length?mr(t,ac,Br):e},Ne.minBy=function(t,n){return t&&t.length?mr(t,fi(n,2),Br):e},Ne.stubArray=yc,Ne.stubFalse=_c,Ne.stubObject=function(){return{}},Ne.stubString=function(){return""},Ne.stubTrue=function(){return!0},Ne.multiply=Sc,Ne.nth=function(t,n){return t&&t.length?Vr(t,mu(n)):e},Ne.noConflict=function(){return dn._===this&&(dn._=Ut),this},Ne.noop=fc,Ne.now=Aa,Ne.pad=function(t,n,e){t=wu(t);var r=(n=mu(n))?pe(t):0;if(!n||r>=n)return t;var o=(n-r)/2;return Jo(yn(o),e)+t+Jo(mn(o),e)},Ne.padEnd=function(t,n,e){t=wu(t);var r=(n=mu(n))?pe(t):0;return n&&r<n?t+Jo(n-r,e):t},Ne.padStart=function(t,n,e){t=wu(t);var r=(n=mu(n))?pe(t):0;return n&&r<n?Jo(n-r,e)+t:t},Ne.parseInt=function(t,n,e){return e||null==n?n=0:n&&(n=+n),xe(wu(t).replace(ot,""),n||0)},Ne.random=function(t,n,r){if(r&&"boolean"!=typeof r&&$i(t,n,r)&&(n=r=e),r===e&&("boolean"==typeof n?(r=n,n=e):"boolean"==typeof t&&(r=t,t=e)),t===e&&n===e?(t=0,n=1):(t=vu(t),n===e?(n=t,t=0):n=vu(n)),t>n){var o=t;t=n,n=o}if(r||t%1||n%1){var i=ke();return we(t+i*(n-t+sn("1e-"+((i+"").length-1))),n)}return Xr(t,n)},Ne.reduce=function(t,n,e){var r=Ja(t)?Pn:Jn,o=arguments.length<3;return r(t,fi(n,4),e,o,hr)},Ne.reduceRight=function(t,n,e){var r=Ja(t)?zn:Jn,o=arguments.length<3;return r(t,fi(n,4),e,o,gr)},Ne.repeat=function(t,n,r){return n=(r?$i(t,n,r):n===e)?1:mu(n),Zr(wu(t),n)},Ne.replace=function(){var t=arguments,n=wu(t[0]);return t.length<3?n:n.replace(t[1],t[2])},Ne.result=function(t,n,r){var o=-1,i=(n=$o(n,t)).length;for(i||(i=1,t=e);++o<i;){var a=null==t?e:t[Bi(n[o])];a===e&&(o=i,a=r),t=tu(a)?a.call(t):a}return t},Ne.round=Cc,Ne.runInContext=t,Ne.sample=function(t){return(Ja(t)?Qe:Qr)(t)},Ne.size=function(t){if(null==t)return 0;if(Ga(t))return lu(t)?pe(t):t.length;var n=mi(t);return n==x||n==j?t.size:Mr(t).length},Ne.snakeCase=Xu,Ne.some=function(t,n,r){var o=Ja(t)?Ln:ao;return r&&$i(t,n,r)&&(n=e),o(t,fi(n,3))},Ne.sortedIndex=function(t,n){return uo(t,n)},Ne.sortedIndexBy=function(t,n,e){return co(t,n,fi(e,2))},Ne.sortedIndexOf=function(t,n){var e=null==t?0:t.length;if(e){var r=uo(t,n);if(r<e&&Wa(t[r],n))return r}return-1},Ne.sortedLastIndex=function(t,n){return uo(t,n,!0)},Ne.sortedLastIndexBy=function(t,n,e){return co(t,n,fi(e,2),!0)},Ne.sortedLastIndexOf=function(t,n){if(null==t?0:t.length){var e=uo(t,n,!0)-1;if(Wa(t[e],n))return e}return-1},Ne.startCase=Zu,Ne.startsWith=function(t,n,e){return t=wu(t),e=null==e?0:sr(mu(e),0,t.length),n=fo(n),t.slice(e,e+n.length)==n},Ne.subtract=Oc,Ne.sum=function(t){return t&&t.length?Yn(t,ac):0},Ne.sumBy=function(t,n){return t&&t.length?Yn(t,fi(n,2)):0},Ne.template=function(t,n,r){var o=Ne.templateSettings;r&&$i(t,n,r)&&(n=e),t=wu(t),n=ku({},n,o,ni);var i,a,u=ku({},n.imports,o.imports,ni),c=Iu(u),s=Kn(u,c),l=0,f=n.interpolate||wt,p="__p += '",d=jt((n.escape||wt).source+"|"+f.source+"|"+(f===K?dt:wt).source+"|"+(n.evaluate||wt).source+"|$","g"),h="//# sourceURL="+(zt.call(n,"sourceURL")?(n.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++on+"]")+"\n";t.replace(d,(function(n,e,r,o,u,c){return r||(r=o),p+=t.slice(l,c).replace($t,ie),e&&(i=!0,p+="' +\n__e("+e+") +\n'"),u&&(a=!0,p+="';\n"+u+";\n__p += '"),r&&(p+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=c+n.length,n})),p+="';\n";var g=zt.call(n,"variable")&&n.variable;if(g){if(ft.test(g))throw new kt("Invalid `variable` option passed into `_.template`")}else p="with (obj) {\n"+p+"\n}\n";p=(a?p.replace(W,""):p).replace(q,"$1").replace(V,"$1;"),p="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var v=nc((function(){return St(c,h+"return "+p).apply(e,s)}));if(v.source=p,Qa(v))throw v;return v},Ne.times=function(t,n){if((t=mu(t))<1||t>p)return[];var e=h,r=we(t,h);n=fi(n),t-=h;for(var o=Gn(r,n);++e<t;)n(e);return o},Ne.toFinite=vu,Ne.toInteger=mu,Ne.toLength=yu,Ne.toLower=function(t){return wu(t).toLowerCase()},Ne.toNumber=_u,Ne.toSafeInteger=function(t){return t?sr(mu(t),-9007199254740991,p):0===t?t:0},Ne.toString=wu,Ne.toUpper=function(t){return wu(t).toUpperCase()},Ne.trim=function(t,n,r){if((t=wu(t))&&(r||n===e))return Xn(t);if(!t||!(n=fo(n)))return t;var o=de(t),i=de(n);return ko(o,te(o,i),ne(o,i)+1).join("")},Ne.trimEnd=function(t,n,r){if((t=wu(t))&&(r||n===e))return t.slice(0,he(t)+1);if(!t||!(n=fo(n)))return t;var o=de(t);return ko(o,0,ne(o,de(n))+1).join("")},Ne.trimStart=function(t,n,r){if((t=wu(t))&&(r||n===e))return t.replace(ot,"");if(!t||!(n=fo(n)))return t;var o=de(t);return ko(o,te(o,de(n))).join("")},Ne.truncate=function(t,n){var r=30,o="...";if(ru(n)){var i="separator"in n?n.separator:i;r="length"in n?mu(n.length):r,o="omission"in n?fo(n.omission):o}var a=(t=wu(t)).length;if(ae(t)){var u=de(t);a=u.length}if(r>=a)return t;var c=r-pe(o);if(c<1)return o;var s=u?ko(u,0,c).join(""):t.slice(0,c);if(i===e)return s+o;if(u&&(c+=s.length-c),cu(i)){if(t.slice(c).search(i)){var l,f=s;for(i.global||(i=jt(i.source,wu(ht.exec(i))+"g")),i.lastIndex=0;l=i.exec(f);)var p=l.index;s=s.slice(0,p===e?c:p)}}else if(t.indexOf(fo(i),c)!=c){var d=s.lastIndexOf(i);d>-1&&(s=s.slice(0,d))}return s+o},Ne.unescape=function(t){return(t=wu(t))&&Y.test(t)?t.replace(H,ge):t},Ne.uniqueId=function(t){var n=++Lt;return wu(t)+n},Ne.upperCase=Ku,Ne.upperFirst=Qu,Ne.each=wa,Ne.eachRight=$a,Ne.first=Gi,lc(Ne,(kc={},$r(Ne,(function(t,n){zt.call(Ne.prototype,n)||(kc[n]=t)})),kc),{chain:!1}),Ne.VERSION="4.17.21",On(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){Ne[t].placeholder=Ne})),On(["drop","take"],(function(t,n){He.prototype[t]=function(r){r=r===e?1:be(mu(r),0);var o=this.__filtered__&&!n?new He(this):this.clone();return o.__filtered__?o.__takeCount__=we(r,o.__takeCount__):o.__views__.push({size:we(r,h),type:t+(o.__dir__<0?"Right":"")}),o},He.prototype[t+"Right"]=function(n){return this.reverse()[t](n).reverse()}})),On(["filter","map","takeWhile"],(function(t,n){var e=n+1,r=1==e||3==e;He.prototype[t]=function(t){var n=this.clone();return n.__iteratees__.push({iteratee:fi(t,3),type:e}),n.__filtered__=n.__filtered__||r,n}})),On(["head","last"],(function(t,n){var e="take"+(n?"Right":"");He.prototype[t]=function(){return this[e](1).value()[0]}})),On(["initial","tail"],(function(t,n){var e="drop"+(n?"":"Right");He.prototype[t]=function(){return this.__filtered__?new He(this):this[e](1)}})),He.prototype.compact=function(){return this.filter(ac)},He.prototype.find=function(t){return this.filter(t).head()},He.prototype.findLast=function(t){return this.reverse().find(t)},He.prototype.invokeMap=Kr((function(t,n){return"function"==typeof t?new He(this):this.map((function(e){return Rr(e,t,n)}))})),He.prototype.reject=function(t){return this.filter(Ma(fi(t)))},He.prototype.slice=function(t,n){t=mu(t);var r=this;return r.__filtered__&&(t>0||n<0)?new He(r):(t<0?r=r.takeRight(-t):t&&(r=r.drop(t)),n!==e&&(r=(n=mu(n))<0?r.dropRight(-n):r.take(n-t)),r)},He.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},He.prototype.toArray=function(){return this.take(h)},$r(He.prototype,(function(t,n){var r=/^(?:filter|find|map|reject)|While$/.test(n),o=/^(?:head|last)$/.test(n),i=Ne[o?"take"+("last"==n?"Right":""):n],a=o||/^find/.test(n);i&&(Ne.prototype[n]=function(){var n=this.__wrapped__,u=o?[1]:arguments,c=n instanceof He,s=u[0],l=c||Ja(n),f=function(t){var n=i.apply(Ne,In([t],u));return o&&p?n[0]:n};l&&r&&"function"==typeof s&&1!=s.length&&(c=l=!1);var p=this.__chain__,d=!!this.__actions__.length,h=a&&!p,g=c&&!d;if(!a&&l){n=g?n:new He(this);var v=t.apply(n,u);return v.__actions__.push({func:va,args:[f],thisArg:e}),new Ve(v,p)}return h&&g?t.apply(this,u):(v=this.thru(f),h?o?v.value()[0]:v.value():v)})})),On(["pop","push","shift","sort","splice","unshift"],(function(t){var n=Et[t],e=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);Ne.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var o=this.value();return n.apply(Ja(o)?o:[],t)}return this[e]((function(e){return n.apply(Ja(e)?e:[],t)}))}})),$r(He.prototype,(function(t,n){var e=Ne[n];if(e){var r=e.name+"";zt.call(Te,r)||(Te[r]=[]),Te[r].push({name:n,func:e})}})),Te[Wo(e,2).name]=[{name:"wrapper",func:e}],He.prototype.clone=function(){var t=new He(this.__wrapped__);return t.__actions__=Ro(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Ro(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Ro(this.__views__),t},He.prototype.reverse=function(){if(this.__filtered__){var t=new He(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},He.prototype.value=function(){var t=this.__wrapped__.value(),n=this.__dir__,e=Ja(t),r=n<0,o=e?t.length:0,i=function(t,n,e){var r=-1,o=e.length;for(;++r<o;){var i=e[r],a=i.size;switch(i.type){case"drop":t+=a;break;case"dropRight":n-=a;break;case"take":n=we(n,t+a);break;case"takeRight":t=be(t,n-a)}}return{start:t,end:n}}(0,o,this.__views__),a=i.start,u=i.end,c=u-a,s=r?u:a-1,l=this.__iteratees__,f=l.length,p=0,d=we(c,this.__takeCount__);if(!e||!r&&o==c&&d==c)return mo(t,this.__actions__);var h=[];t:for(;c--&&p<d;){for(var g=-1,v=t[s+=n];++g<f;){var m=l[g],y=m.iteratee,_=m.type,b=y(v);if(2==_)v=b;else if(!b){if(1==_)continue t;break t}}h[p++]=v}return h},Ne.prototype.at=ma,Ne.prototype.chain=function(){return ga(this)},Ne.prototype.commit=function(){return new Ve(this.value(),this.__chain__)},Ne.prototype.next=function(){this.__values__===e&&(this.__values__=gu(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?e:this.__values__[this.__index__++]}},Ne.prototype.plant=function(t){for(var n,r=this;r instanceof qe;){var o=Ni(r);o.__index__=0,o.__values__=e,n?i.__wrapped__=o:n=o;var i=o;r=r.__wrapped__}return i.__wrapped__=t,n},Ne.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof He){var n=t;return this.__actions__.length&&(n=new He(this)),(n=n.reverse()).__actions__.push({func:va,args:[ra],thisArg:e}),new Ve(n,this.__chain__)}return this.thru(ra)},Ne.prototype.toJSON=Ne.prototype.valueOf=Ne.prototype.value=function(){return mo(this.__wrapped__,this.__actions__)},Ne.prototype.first=Ne.prototype.head,nn&&(Ne.prototype[nn]=function(){return this}),Ne}();gn?((gn.exports=ve)._=ve,hn._=ve):dn._=ve}).call(ct)}));const _t=[];function bt(n,e=t){let r;const o=new Set;function i(t){if(a(n,t)&&(n=t,r)){const t=!_t.length;for(const t of o)t[1](),_t.push(t,n);if(t){for(let t=0;t<_t.length;t+=2)_t[t][0](_t[t+1]);_t.length=0}}}return{set:i,update:function(t){i(t(n))},subscribe:function(a,u=t){const c=[a,u];return o.add(c),1===o.size&&(r=e(i)||t),a(n),()=>{o.delete(c),0===o.size&&(r(),r=null)}}}}let wt=bt(!1),$t=bt(),xt=bt(),kt="en",St="",Ct=bt();(async()=>{let t=await(await fetch("../assets/dict.json")).json();Ct.set(t)})(),(async()=>{try{kt=JSON.parse(localStorage.getItem("kolmit")).lang,St=JSON.parse(localStorage.getItem("kolmit")).psw}catch(t){localStorage.setItem("kolmit",JSON.stringify({lang:kt}))}$t.set(kt),xt.set(St)})();let Ot=bt(),jt=bt(),At=bt();function Dt(n){let e,r,i;return{c(){e=y("input"),S(e,"class","file-upload svelte-kknszv"),S(e,"accept","image/png, image/jpeg"),S(e,"id","avatar"),S(e,"name","avatar"),S(e,"type","file"),j(e,"display","none")},m(t,o){g(t,e,o),n[24](e),r||(i=[x(e,"change",n[17]),x(e,"change",n[25])],r=!0)},p:t,d(t){t&&v(e),n[24](null),r=!1,o(i)}}}function Et(t){let n,e=t[1].email&&t[3].email!==t[1].email&&Rt(t);return{c(){e&&e.c(),n=$()},m(t,r){e&&e.m(t,r),g(t,n,r)},p(t,r){t[1].email&&t[3].email!==t[1].email?e?e.p(t,r):(e=Rt(t),e.c(),e.m(n.parentNode,n)):e&&(e.d(1),e=null)},d(t){e&&e.d(t),t&&v(n)}}}function Rt(t){let n,e;return{c(){n=y("iframe"),S(n,"crossorigin","anonymous"),S(n,"class","user_frame"),s(n.src,e="/kolmit/user/iframe.html?em="+t[1].email+"&abonent="+t[4])||S(n,"src",e),S(n,"scrolling","no"),S(n,"frameborder","0"),j(n,"position","absolute"),j(n,"top","0px"),j(n,"left","-10px"),j(n,"width","100%"),S(n,"title","User Frame")},m(t,e){g(t,n,e)},p(t,r){18&r[0]&&!s(n.src,e="/kolmit/user/iframe.html?em="+t[1].email+"&abonent="+t[4])&&S(n,"src",e)},d(t){t&&v(n)}}}function Tt(t){let n,e=t[3].email!==t[1].email&&"operator"===t[1].role&&It(t);return{c(){e&&e.c(),n=$()},m(t,r){e&&e.m(t,r),g(t,n,r)},p(t,r){t[3].email!==t[1].email&&"operator"===t[1].role?e?e.p(t,r):(e=It(t),e.c(),e.m(n.parentNode,n)):e&&(e.d(1),e=null)},d(t){e&&e.d(t),t&&v(n)}}}function It(t){let n,e,r,o,a,u;return{c(){n=_("svg"),e=_("glyph"),r=_("g"),o=_("path"),S(e,"glyph-name","minus-circle"),S(e,"unicode",""),S(e,"horiz-adv-x","50"),S(o,"d","M500.2 62.5c-241.8 0-437.7 195.89999999999998-437.7 437.3 0 241.8 195.89999999999998 437.7 437.7 437.7 241.40000000000003 0 437.3-195.89999999999998 437.3-437.7 0-241.40000000000003-195.89999999999998-437.3-437.3-437.3z m301.59999999999997 466.5c-0.6999999999999318 9-2.199999999999932 19.100000000000023-4.699999999999932 30.299999999999955h-593.9000000000001c-2.499999999999943-11.199999999999932-4.299999999999926-21.699999999999932-5.0999999999999375-31.399999999999977-0.6999999999999886-9.699999999999932-1.0999999999999943-19.799999999999955-1.0999999999999943-30.299999999999955 0-9 0.4000000000000057-18 1.0999999999999943-26.700000000000045 0.700000000000017-9 2.5-19.099999999999966 5.099999999999994-30.299999999999955h593.9000000000001c2.4999999999998863 11.199999999999989 3.9999999999998863 21.599999999999966 4.699999999999818 31.399999999999977 1.1000000000000227 9.699999999999989 1.400000000000091 19.80000000000001 1.400000000000091 30.30000000000001 0.09999999999990905 9.099999999999966-0.3000000000000682 17.69999999999999-1.400000000000091 26.69999999999999z"),S(o,"transform","scale(.03)"),j(o,"fill","lightgrey"),j(o,"stroke","black"),j(o,"stroke-width","20px"),S(r,"class","currentLayer"),S(n,"height","30"),S(n,"width","30"),j(n,"position","absolute"),j(n,"bottom","-15px"),j(n,"left","0")},m(c,s){g(c,n,s),h(n,e),h(n,r),h(r,o),a||(u=x(n,"click",(function(){i(t[19](t[1]))&&t[19](t[1]).apply(this,arguments)})),a=!0)},p(n,e){t=n},d(t){t&&v(n),a=!1,u()}}}function Pt(t){let n,e,r;function o(n){t[29](n)}let i={rtc:t[5],operator:t[1].email,$$slots:{default:[zt]},$$scope:{ctx:t}};return void 0!==t[0]&&(i.status=t[0]),n=new dt({props:i}),z.push((()=>nt(n,"status",o))),{c(){et(n.$$.fragment)},m(t,e){rt(n,t,e),r=!0},p(t,r){const o={};32&r[0]&&(o.rtc=t[5]),2&r[0]&&(o.operator=t[1].email),4096&r[1]&&(o.$$scope={dirty:r,ctx:t}),!e&&1&r[0]&&(e=!0,o.status=t[0],N((()=>e=!1))),n.$set(o)},i(t){r||(Z(n.$$.fragment,t),r=!0)},o(t){K(n.$$.fragment,t),r=!1},d(t){ot(n,t)}}}function zt(t){let n,e;return{c(){n=y("img"),s(n.src,e="../assets/call-forward.svg")||S(n,"src","../assets/call-forward.svg"),S(n,"alt","call-forward"),S(n,"width","30px"),S(n,"height","30px")},m(t,e){g(t,n,e)},d(t){t&&v(n)}}}function Lt(t){let n,e;return n=new mt({props:{status:t[0],rtc:t[5],operator:t[1].email,$$slots:{default:[Mt]},$$scope:{ctx:t}}}),{c(){et(n.$$.fragment)},m(t,r){rt(n,t,r),e=!0},p(t,e){const r={};1&e[0]&&(r.status=t[0]),32&e[0]&&(r.rtc=t[5]),2&e[0]&&(r.operator=t[1].email),4096&e[1]&&(r.$$scope={dirty:e,ctx:t}),n.$set(r)},i(t){e||(Z(n.$$.fragment,t),e=!0)},o(t){K(n.$$.fragment,t),e=!1},d(t){ot(n,t)}}}function Mt(t){let n,e;return{c(){n=y("img"),s(n.src,e="../assets/file-transfer.svg")||S(n,"src","../assets/file-transfer.svg"),S(n,"alt","file-transfer"),S(n,"width","30px"),S(n,"height","30px")},m(t,e){g(t,n,e)},d(t){t&&v(n)}}}function Ft(t){let n,e,r,i,a,u,c,l,f,p,d,m,_,b,$,k,C,A=t[2]&&Dt(t),D=!t[2]&&Et(t),E=t[2]&&Tt(t),R=t[15]&&function(t){let n,e,r,i,a;return{c(){n=y("input"),e=w(),r=y("input"),S(n,"type","text"),S(n,"class","user_name svelte-kknszv"),S(n,"placeholder",t[8]),n.readOnly=t[12],j(n,"width","80%"),j(n,"font-weight","800"),S(r,"type","text"),S(r,"class","user_email svelte-kknszv"),S(r,"placeholder",t[9]),r.readOnly=t[13],j(r,"width","100%"),j(r,"max-height","100px")},m(o,u){g(o,n,u),O(n,t[1].name),g(o,e,u),g(o,r,u),O(r,t[1].email),i||(a=[x(n,"change",t[18]),x(n,"input",t[26]),x(r,"change",t[18]),x(r,"input",t[27])],i=!0)},p(t,e){256&e[0]&&S(n,"placeholder",t[8]),4096&e[0]&&(n.readOnly=t[12]),2&e[0]&&n.value!==t[1].name&&O(n,t[1].name),512&e[0]&&S(r,"placeholder",t[9]),8192&e[0]&&(r.readOnly=t[13]),2&e[0]&&r.value!==t[1].email&&O(r,t[1].email)},d(t){t&&v(n),t&&v(e),t&&v(r),i=!1,o(a)}}}(t),T="talk"===t[0]&&"active"===t[7]&&t[1].email!==t[3].email&&Pt(t),I=("talk"===t[7]||"talk"===t[0]&&t[1].email===t[3].email)&&Lt(t);return{c(){n=y("div"),e=y("div"),r=y("img"),a=w(),A&&A.c(),u=w(),D&&D.c(),c=w(),E&&E.c(),l=w(),f=y("div"),R&&R.c(),p=w(),d=y("textarea"),m=w(),_=y("div"),T&&T.c(),b=w(),I&&I.c(),S(r,"class","user_pic is-rounded"),s(r.src,i=t[1].picture.medium)||S(r,"src",i),S(r,"alt",""),j(r,"border-radius","5px"),j(r,"float","right"),S(e,"class","user_pic_div"),j(e,"position","relative"),j(e,"width","80px"),j(e,"height","80px"),S(d,"type","text"),S(d,"rows","3"),S(d,"class","user_desc svelte-kknszv"),S(d,"placeholder",t[10]),d.readOnly=t[12],j(d,"width","85%"),j(d,"overflow","auto"),j(d,"max-height","100px"),j(d,"resize","none"),j(f,"flex","1"),j(f,"margin-left","10px"),j(f,"font-size","xx-small"),j(_,"display","flex"),j(_,"flex-flow","row nowrap"),j(_,"align-items","flex-start"),j(_,"flex-direction","column"),j(n,"display","flex"),j(n,"flex-wrap","nowrap"),j(n,"justify-content","space-between"),j(n,"margin-bottom","10px")},m(o,i){g(o,n,i),h(n,e),h(e,r),h(e,a),A&&A.m(e,null),h(e,u),D&&D.m(e,null),h(e,c),E&&E.m(e,null),h(n,l),h(n,f),R&&R.m(f,null),h(f,p),h(f,d),O(d,t[1].desc),h(n,m),h(n,_),T&&T.m(_,null),h(_,b),I&&I.m(_,null),t[30](n),$=!0,k||(C=[x(r,"click",t[16]),x(d,"change",t[18]),x(d,"input",t[28])],k=!0)},p(t,n){(!$||2&n[0]&&!s(r.src,i=t[1].picture.medium))&&S(r,"src",i),t[2]?A?A.p(t,n):(A=Dt(t),A.c(),A.m(e,u)):A&&(A.d(1),A=null),t[2]?D&&(D.d(1),D=null):D?D.p(t,n):(D=Et(t),D.c(),D.m(e,c)),t[2]?E?E.p(t,n):(E=Tt(t),E.c(),E.m(e,null)):E&&(E.d(1),E=null),t[15]&&R.p(t,n),(!$||1024&n[0])&&S(d,"placeholder",t[10]),(!$||4096&n[0])&&(d.readOnly=t[12]),2&n[0]&&O(d,t[1].desc),"talk"===t[0]&&"active"===t[7]&&t[1].email!==t[3].email?T?(T.p(t,n),139&n[0]&&Z(T,1)):(T=Pt(t),T.c(),Z(T,1),T.m(_,b)):T&&(G(),K(T,1,1,(()=>{T=null})),X()),"talk"===t[7]||"talk"===t[0]&&t[1].email===t[3].email?I?(I.p(t,n),139&n[0]&&Z(I,1)):(I=Lt(t),I.c(),Z(I,1),I.m(_,null)):I&&(G(),K(I,1,1,(()=>{I=null})),X())},i(t){$||(Z(T),Z(I),$=!0)},o(t){K(T),K(I),$=!1},d(e){e&&v(n),A&&A.d(),D&&D.d(),E&&E.d(),R&&R.d(),T&&T.d(),I&&I.d(),t[30](null),k=!1,o(C)}}}function Bt(t,n,e){let r,o,i;l(t,xt,(t=>e(33,r=t))),l(t,At,(t=>e(34,o=t))),l(t,Ct,(t=>e(35,i=t)));let a="en";const u=$t.subscribe((t=>{e(23,a=t)}));let c,s,f,p,d,{operator:h}=n,{id:g}=n,{status:v}=n,{dep:m}=n,{user:y}=n,{abonent:_}=n,{update:b}=n,{rtc:w}=n,$=i;const x=o,k=r;T(u);let{edited_display:S}=n,C=!0,O=!0;wt.subscribe((t=>{e(2,S=t),e(12,C=!S),e(13,O=!S)})),y.email=y.email?y.email:"";var j;let A,D,E;async function I(t){let n={proj:"kolmit",func:"changeoper"};n.abonent=_,n.em=h.email,n.dep_id=m.id,n.psw=k,n.data=y,n.lang=a,n.host=x.host,await new Promise(((t,e)=>{x.SendMessage(n,(n=>{t(n)}))}))}return y.name=(j=y.name)?j.replace(/^([a-z])/,((t,n)=>n.toUpperCase())):"",R((()=>{y.email&&h.email===y.email&&Ot.set(A)})),t.$$set=t=>{"operator"in t&&e(3,h=t.operator),"id"in t&&e(21,g=t.id),"status"in t&&e(0,v=t.status),"dep"in t&&e(20,m=t.dep),"user"in t&&e(1,y=t.user),"abonent"in t&&e(4,_=t.abonent),"update"in t&&e(22,b=t.update),"rtc"in t&&e(5,w=t.rtc),"edited_display"in t&&e(2,S=t.edited_display)},t.$$.update=()=>{8388608&t.$$.dirty[0]&&$&&a&&(e(8,s=$["input operator name"][a]),e(9,f=$["input operator email"][a]),e(10,p=$["input description"][a]))},[v,y,S,h,_,w,c,undefined,s,f,p,d,C,O,A,$,function(t){let n=new MouseEvent("click",{bubbles:!1,cancelable:!0,view:window});d&&d.dispatchEvent(n)},function(t){try{lt(t.target.files[0],(function(t,n){"error"===t.type?console.error("Error loading image "):(D=t.width,E=t.height,e(1,y.picture.medium=t.toDataURL(),y),I())}),{orientation:!0,maxWidth:100,maxHeight:100,minWidth:50,minHeight:50,canvas:!0})}catch(t){}},I,async function(t){let n=m.staff[g];if(n&&confirm("Delete "+n.name)){let t={proj:"kolmit",func:"remoper"};t.em=h.email,t.id=n.id,t.dep=m.id,t.lang=a,t.abonent=_,t.psw=k;let r=await new Promise(((n,e)=>{x.SendMessage(t,(t=>{n(t)}))}));e(20,m.staff=r.dep.staff,m),b()}},m,g,b,a,function(t){z[t?"unshift":"push"]((()=>{d=t,e(11,d)}))},function(){c=this.files,e(6,c)},function(){y.name=this.value,e(1,y)},function(){y.email=this.value,e(1,y)},function(){y.desc=this.value,e(1,y)},function(t){v=t,e(0,v)},function(t){z[t?"unshift":"push"]((()=>{A=t,e(14,A)}))}]}class Ut extends ut{constructor(t){super(),at(this,t,Bt,Ft,a,{operator:3,id:21,status:0,dep:20,user:1,abonent:4,update:22,rtc:5,edited_display:2},null,[-1,-1])}}var Nt=(t,n)=>{(Date.now()/1e3).toFixed(3);try{window.parent.document.getElementById("console").innerHTML+="<div>"+JSON.stringify(t)+"<div/>"}catch(t){}};class Wt{constructor(t,n,e){this.con=new RTCPeerConnection(n),this.rtc=t,this.pc_key=e,this.params={}}async SendDesc(t){let n={proj:"kolmit",func:"call"};return n.abonent=this.rtc.abonent,n.type=this.rtc.type,n.em=this.rtc.operator,n.uid=this.rtc.uid,n.desc=t,n.status="call",n.oper_uid=this.rtc.oper_uid,await this.signch.SendMessage(n)}async SendCand(t){let n={proj:"kolmit",func:"call"};return n.type=this.rtc.type,n.uid=this.rtc.uid,n.em=this.rtc.operator,n.cand=t,n.status="call",n.abonent=this.rtc.abonent,n.oper_uid=this.rtc.oper_uid,await this.signch.SendMessage(n)}async SendOffer(t){let n={proj:"kolmit",func:"offer"};n.abonent=this.rtc.abonent,n.type=this.rtc.type,n.uid=this.rtc.uid,n.em=this.rtc.email,n.desc=this.params.loc_desc,n.cand=this.params.loc_cand,n.status="offer",this.signch.SendMessage(n,(t=>{console.log(t)}))}StartEvents(){let t,n=this;this.con.ontrack=function(t){"reserve"!==n.pc_key&&(n.rtc.GetRemoteAudio()!==t.streams[0]&&(n.rtc.remoteStream=t.streams[0],n.rtc.remoteStream.onaddtrack=function(t){Nt("addtrack in remote stream",n)}),n.rtc.remoteStream&&("audio"===t.track.kind&&(n.rtc.SetRemoteAudio(null),n.rtc.SetRemoteAudio(n.rtc.remoteStream)),"video"===t.track.kind&&(n.rtc.SetRemoteVideo(null),n.rtc.SetRemoteVideo(n.rtc.remoteStream),n.rtc.DC.SendDCVideoOK((()=>{})))))},this.con.onicecandidate=n=>{let e=this;n.candidate&&(this.params.loc_cand||(this.params.loc_cand=[]),this.params.loc_cand.push(n.candidate),t||(t=setTimeout((()=>{if(this.rtc.DC&&"open"===this.rtc.DC.dc.readyState){let n="";this.rtc.type&&1===this.rtc.type.offerToReceiveVideo&&(n={confirm:"Do you mind to turn on the cameras?"}),this.rtc.DC.SendDCOffer(e.pc_key,n),clearTimeout(t)}else this.rtc.DC&&"open"!==this.rtc.DC.dc.readyState&&(this.SendOffer(n.candidate),clearTimeout(t))}),200)))},this.con.oniceconnectionstatechange=function(t){n.rtc.onIceStateChange(n,t)},this.con.onremovestream=function(t){},this.con.onsignalingstatechange=function(t){},this.con.onconnectionstatechange=function(t){console.log()}}onCreateAnswerSuccess(t){let n=this;Nt("Answer from pcPull 2:",this),Nt("setLocalDescription start",n),n.con.setLocalDescription(t).then((function(){n.params.loc_desc=n.con.localDescription,Nt("onSetLocalDescriptionSuccess",n),n.SendDesc(t)}),n.onSetAnswerError)}setRemoteDesc(t){Nt("setRemoteDescription start",this),Nt("Peer connectionState:"+this.con.connectionState,this),this.con.setRemoteDescription(t).then((()=>{if(this.params.rem_desc=this.con.remoteDescription,"offer"===this.con.remoteDescription.type)try{this.con.createAnswer().then((t=>this.onCreateAnswerSuccess(t)),this.onCreateAnswerError)}catch(t){console.log(t)}}),(function(t){Nt("Failed to set remote description: "+t.toString(),this)}))}onCreateAnswerError(t){Nt("Failed to create answer: "+t.toString(),this)}onCreateOfferSuccess(t){let n=this;Nt("Offer created",n),Nt("setLocalDescription start",n),n.con.setLocalDescription(t).then((function(){n.params.loc_desc=n.con.localDescription,Nt(" setLocalDescription complete",n)}),n.onSetOfferError)}onCreateVideoOfferSuccess(t,n){let e=this;Nt("Offer created",e),Nt("setLocalDescription start",e),e.con.setLocalDescription(t).then((function(){e.params.loc_desc=e.con.localDescription,Nt(" setLocalDescription complete",e),e.rtc.DC.SendDCDesc(t,e.pc_key)}),e.onSetOfferError)}onSetOfferError(t){Nt("Failed to set offer: "+t.toString(),this)}onSetAnswerError(t){Nt("Failed to set session description: "+t.toString(),this)}onAddIceCandidateSuccess(t){Nt(" addIceCandidate success",this)}onAddIceCandidateError(t,n){Nt(" failed to add ICE Candidate: "+n.toString(),this)}onCreateOfferError(t){Nt("Failed to create session description: "+t.toString(),this)}onAddVideo(t){let n=this;n.rtc.DC&&"open"===n.rtc.DC.dc.readyState&&n.rtc.DC.SendData({confirm:"Do you mind to turn on the cameras?"})}onCreateSessionDescriptionError(t){}Cancel(){this.close()}}const qt=bt();class Vt{constructor(t,n){this.rtc=t,this.pc=n,this.call_num=3,this.forward;let e=this;e.cnt_call=0,this.dc=n.con.createDataChannel(n.pc_key+" data channel"),this.dc.onopen=()=>{"open"===e.dc.readyState&&console.log(e.pc.pc_key+" datachannel open"),this.dc.onclose=()=>{}},n.StartEvents(),n.con.ondatachannel=n=>{console.log("Receive Channel Callback"),this.dc=n.channel,t.PlayCallCnt()};let r="",o=[],i=0;this.dc.onmessage=function(t){try{let n=JSON.parse(t.data);if("eom"===n.type)return r&&(e.rtc.SendToComponent(JSON.parse(r)),e.rtc.OnMessage(JSON.parse(r),e),qt.set(JSON.parse(r))),void(r="");if(r+=n.slice,n.file,"eof"===n.type){new Blob(o);if(o=[],i=0,confirm("Получен файл: "+n.file+". Размер: "+n.length+" Сохранить?")){let t=document.getElementById("download_href");t.text("Получен файл: "+n.file+". Размер: "+n.length+" Сохранить?"),t.attributes.href="URL.createObjectURL(received)",t.attributes.download=n.file,t.click()}return void setTimeout((function(){document.getElementById("dataProgress").style.display="none"}),2e3)}}catch(n){if(r="",!t.data.byteLength)return}}}SendFile(t,n){try{if("open"===this.dc.readyState){let e=16384;const r=Math.ceil(t.byteLength/e);this.dc.send(JSON.stringify({file:n,length:t.byteLength}),(function(t){console.log(t)}));for(let n=0,o=0;n<r;++n,o+=e){const n=t.slice(o,o+e);document.getElementById("dataProgress").attributes.value=o+e,this.dc.send(n,(function(t){console.log(t)}))}setTimeout((function(){document.getElementById("dataProgress").style.display="none"}),2e3),this.dc.send(JSON.stringify({type:"eof",file:n,length:t.byteLength}),(function(t){console.log(t)}))}}catch(t){console.log(t)}}SendData(t,n){try{if("open"===this.dc.readyState){t=JSON.stringify(t);let n=16384;const e=Math.ceil(t.length/n);for(let r=0,o=0;r<e;++r,o+=n)this.dc.send(JSON.stringify({slice:t.substr(o,n)}));this.dc.send(JSON.stringify({type:"eom"}))}n&&n()}catch(t){console.log(t)}}SendDCHangup(t){let n={proj:"kolmit",func:"mute"};n.type=this.rtc.type,this.SendData(n,t)}SendDCClose(t){let n={proj:"kolmit",func:"close"};n.type=this.rtc.type,this.SendData(n,t)}SendDCTalk(t){let n={proj:"kolmit",func:"talk"};n.type=this.rtc.type,this.SendData(n,t)}SendDCCand(t,n,e){let r={proj:"kolmit",func:"offer"};r.cand=t,r.trans=n,r.abonent=this.rtc.abonent,r.msg=e,this.SendData(r)}SendDCDesc(t,n,e){let r={proj:"kolmit",func:"offer"};r.desc=t,r.trans=n,r.abonent=this.rtc.abonent,r.msg=e,this.SendData(r)}SendDCOffer(t,n){let e={proj:"kolmit",func:"offer"};e.desc=this.pc.params.loc_desc,e.cand=this.pc.params.loc_cand,e.trans=t,e.abonent=this.rtc.abonent,e.msg=n,this.SendData(e)}SendDCVideoOK(t){let n={proj:"kolmit",func:"video"};n.type=this.rtc.type,this.SendData(n,t)}SendRedirect(t,n){let e={proj:"kolmit",func:"redirect"};if(e.abonent=t,"open"===this.dc.readyState){this.SendData(e),n((new Date).toLocaleString("es-CL"))}}}$t.subscribe((t=>{}));class Ht extends class{constructor(t,n,e,r,o){this.type=t,this.abonent=e,this.email=n.email,this.role=n.role,this.psw=o,this.uid=r,this.pcPull={},this.main_pc,this.url,this.localStream,this.remoteStream,this.startTime,this.phone=""}SendVideoOffer(t){this.pcPull[t].params.loc_desc="",this.pcPull[t].params.loc_cand="",this.pcPull[t].con.createOffer(this.mode={offerToReceiveAudio:1,offerToReceiveVideo:1,iceRestart:1}).then((n=>this.pcPull[t].onCreateVideoOfferSuccess(n)),this.pcPull[t].onCreateOfferError)}onIceStateChange(t,n){t&&t.con&&("new"===t.con.iceConnectionState&&Nt(t.pc_key+" ICE state change event: new",this),"checking"===t.con.iceConnectionState&&(Nt(t.pc_key+" ICE state change event: checking",this),this.checking_tmr=setTimeout((()=>{}),5e3)),"disconnected"===t.con.iceConnectionState&&(Nt(t.pc_key+" ICE state change event: disconnected",this),t.con.restartIce()),"connected"===t.con.iceConnectionState&&(clearTimeout(this.checking_tmr),Nt(t.pc_key+" ICE state change event: connected",this),this.main_pc=t.pc_key),"failed"===t.con.iceConnectionState&&(Nt(t.pc_key+" ICE state change event: failed",this),t.con.restartIce()),"completed"===t.con.iceConnectionState&&Nt(t.pc_key+" ICE state change event: completed",this),Nt(t.pc_key+" ICE state change event: "+n.type,this))}TransFile(){this.fileInput.removeEventListener("change",this.fileInput.onchange),this.fileInput.onchange=async function(){const t=this.fileInput.files[0];if(t||Nt("No file chosen"),0===t.size)return;dataProgress.style.display="block",dataProgress.attributes.max=t.size;let n=new FileReader;n.onload=n=>{Nt("FileRead.onload ",n),this.DC.SendFile(n.target.result,t.name)},n.readAsArrayBuffer(t)},this.fileInput.dispatchEvent(new Event("click"))}GetUserMedia(t,n){navigator.mediaDevices.getUserMedia(t).then((t=>this.gotStream(t,n))).catch((function(e){"NotFoundError"!==e.name&&"NotReadableError"!==e.name||(t.audio&&alert("Something wrong with mic?"),t.video&&alert("Something wrong with camera?"),n(!1))}))}get RemoteStream(){return this.remoteStream}async InitRTC(t,n){try{this.conf=await(await fetch("../assets/ice_conf.json")).json()}catch(t){}let e={iceTransportPolicy:"all",lifetimeDuration:this.conf.lifetimeDuration,rtcpMuxPolicy:"require",bundlePolicy:"balanced",iceServers:[this.conf.stun,this.conf.turn]};this.pcPull[t]&&(this.DC&&this.DC.dc&&(this.DC.dc.close(),this.DC=null),this.pcPull[t].con&&(this.pcPull[t].con.close(),this.pcPull[t].con=null));let r=this.pcPull[t]?this.pcPull[t].params:{};this.pcPull[t]=null,this.pcPull[t]=new Wt(this,e,t),this.pcPull[t].signch=this.signch,this.pcPull[t].params=r,this.DC=new Vt(this,this.pcPull[t]),this.startTime=Date.now(),n()}gotStream(t,n){this.localStream||(this.localStream=t),this.getTracks(t,n)}getTracks(t,n){t.getTracks().forEach((t=>{for(let n in this.pcPull)"reserve"!==n&&"disconnected"!==this.pcPull[n].con.iceConnectionState&&"closed"!==this.pcPull[n].con.iceConnectionState&&(this.localStream.addTrack(t),this.pcPull[n].sender=this.pcPull[n].con.addTrack(t,this.localStream),"video"===t.kind?this.SetLocalVideo(this.localStream):t.kind)}));var e=this.localStream.getVideoTracks(),r=this.localStream.getAudioTracks();e.length>0&&Nt("Using video device: "+e[0].label,this),r.length>0&&Nt("Using audio device: "+r[0].label,this),n(!0)}RemoveTracks(){if(this.localStream){this.localStream.getVideoTracks().forEach((t=>{"live"==t.readyState&&"video"===t.kind&&t.stop(),this.localStream.removeTrack(t)}));this.localStream.getAudioTracks().forEach((t=>{"live"==t.readyState&&"audio"===t.kind&&t.stop(),this.localStream.removeTrack(t)}))}}}{constructor(t,n,e,r,o,i){super(t,n,e,r,o),this.signch=i,this.checking_tmr}Init(t){let n=this;this.mode="";let e=[n.abonent];n.main_pc="";for(let r in e)n.InitRTC(e[r],(function(){t()}))}SendOffer(t){let n=this;n.pcPull[t].params.loc_desc="",n.pcPull[t].params.loc_cand="",n.pcPull[t].con.createOffer(this.mode={offerToReceiveAudio:1,offerToReceiveVideo:1,iceRestart:1}).then((e=>n.pcPull[t].onCreateOfferSuccess(e)),n.pcPull[t].onCreateOfferError)}ChooseTarif(t){let n={proj:"kolmit",func:"tarif"};return n.em=this.email,n.tarif=t,n.psw=this.psw,new Promise(((t,e)=>{this.signch.SendMessage(n,(n=>{t(n)}))}))}SendStatus(t){let n={proj:"kolmit",func:"status"};return n.type=this.type,n.abonent=this.abonent,n.uid=this.uid,n.em=this.email,n.status=t,this.status=t,new Promise(((t,e)=>{this.signch.SendMessage(n,(n=>{t(n)}))}))}async Offer(){this.Init((async()=>{if("closed"!==this.pcPull[this.abonent].con.signalingState){let t=new Promise(((t,n)=>{this.GetUserMedia({audio:1,video:0},(n=>{n&&this.SendOffer(this.abonent),t()}))}));await t}}))}OnActive(){this.Init((()=>{"closed"!==this.pcPull[this.abonent].con.signalingState&&this.GetUserMedia({audio:1,video:0},(t=>{t&&this.SendOffer(this.abonent)}))}))}OnCall(){this.DC&&clearInterval(this.DC.inter),this.SendStatus("call")}OnTalk(){this.DC.dc&&this.DC.SendDCTalk(),this.SendStatus("talk"),console.log()}OnMute(){this.RemoveTracks(),this.DC&&this.DC.SendDCHangup((()=>{}))}OnInactive(){this.RemoveTracks(),"open"!==this.DC.dc.readyState&&"connecting"!==this.DC.dc.readyState||this.DC.SendDCHangup((()=>{this.DC.dc.close(),this.SendStatus("close")}))}OnMessage(t){if(jt.set(t),t.func,"mute"===t.func&&this.RemoveTracks(),"talk"===t.func&&clearInterval(this.DC.inter),t.func,t.func,t.desc&&(this.pcPull&&this.pcPull[t.abonent].con&&("failed"===this.pcPull[t.abonent].con.connectionState||"disconnected"===this.pcPull[t.abonent].con.connectionState)&&this.pcPull[t.abonent].con.restartIce(),this.pcPull[t.abonent]&&(this.pcPull[t.abonent].params.rem_desc=t.desc,this.pcPull[t.abonent].setRemoteDesc(t.desc))),t.cand&&this.pcPull[t.abonent]){if(!this.pcPull[t.abonent].con||"closed"===this.pcPull[t.abonent].con.signalingState)return;try{if(this.pcPull[t.abonent].params.rem_cand=t.cand,Array.isArray(t.cand))for(let n in t.cand)this.pcPull[t.abonent].con.addIceCandidate(t.cand[n]);else this.pcPull[t.abonent].con.addIceCandidate(t.cand)}catch(t){Nt(t)}}}}function Jt(t,n,e){const r=t.slice();return r[34]=n[e],r[35]=n,r[36]=e,r}function Yt(t){let n,e,r,a,u,c,s=t[1]&&Gt(t);return{c(){n=y("button"),e=y("input"),r=w(),a=w(),s&&s.c(),S(e,"type","text"),e.readOnly=t[11],j(e,"border-width","0px"),S(e,"placeholder","input dep name"),S(e,"class","svelte-1fx3n49"),S(n,"class","collapsible svelte-1fx3n49"),S(n,"owner",t[3])},m(o,l){g(o,n,l),h(n,e),O(e,t[0].alias),h(n,r),h(n,a),s&&s.m(n,null),t[18](n),u||(c=[x(e,"change",(function(){i(t[14]({dep:t[0]}))&&t[14]({dep:t[0]}).apply(this,arguments)})),x(e,"click",t[13]),x(e,"input",t[17]),x(n,"click",t[15])],u=!0)},p(r,o){t=r,2048&o[0]&&(e.readOnly=t[11]),1&o[0]&&e.value!==t[0].alias&&O(e,t[0].alias),t[1]?s?s.p(t,o):(s=Gt(t),s.c(),s.m(n,null)):s&&(s.d(1),s=null),8&o[0]&&S(n,"owner",t[3])},d(e){e&&v(n),s&&s.d(),t[18](null),u=!1,o(c)}}}function Gt(t){let n,e=t[4].email===t[5]&&Xt(t);return{c(){e&&e.c(),n=$()},m(t,r){e&&e.m(t,r),g(t,n,r)},p(t,r){t[4].email===t[5]?e?e.p(t,r):(e=Xt(t),e.c(),e.m(n.parentNode,n)):e&&(e.d(1),e=null)},d(t){e&&e.d(t),t&&v(n)}}}function Xt(t){let n,e,r,o,a,u;return{c(){n=_("svg"),e=_("glyph"),r=_("g"),o=_("path"),S(e,"glyph-name","minus-circle"),S(e,"unicode",""),S(e,"horiz-adv-x","50"),S(o,"d","M500.2 62.5c-241.8 0-437.7 195.89999999999998-437.7 437.3 0 241.8 195.89999999999998 437.7 437.7 437.7 241.40000000000003 0 437.3-195.89999999999998 437.3-437.7 0-241.40000000000003-195.89999999999998-437.3-437.3-437.3z m301.59999999999997 466.5c-0.6999999999999318 9-2.199999999999932 19.100000000000023-4.699999999999932 30.299999999999955h-593.9000000000001c-2.499999999999943-11.199999999999932-4.299999999999926-21.699999999999932-5.0999999999999375-31.399999999999977-0.6999999999999886-9.699999999999932-1.0999999999999943-19.799999999999955-1.0999999999999943-30.299999999999955 0-9 0.4000000000000057-18 1.0999999999999943-26.700000000000045 0.700000000000017-9 2.5-19.099999999999966 5.099999999999994-30.299999999999955h593.9000000000001c2.4999999999998863 11.199999999999989 3.9999999999998863 21.599999999999966 4.699999999999818 31.399999999999977 1.1000000000000227 9.699999999999989 1.400000000000091 19.80000000000001 1.400000000000091 30.30000000000001 0.09999999999990905 9.099999999999966-0.3000000000000682 17.69999999999999-1.400000000000091 26.69999999999999z"),S(o,"transform","scale(.03)"),j(o,"fill","lightgrey"),j(o,"stroke","black"),j(o,"stroke-width","20px"),S(r,"class","currentLayer"),S(n,"height","30"),S(n,"width","30"),j(n,"position","relative"),j(n,"float","right")},m(c,s){g(c,n,s),h(n,e),h(n,r),h(r,o),a||(u=x(n,"click",(function(){i(t[8](t[0].id))&&t[8](t[0].id).apply(this,arguments)})),a=!0)},p(n,e){t=n},d(t){t&&v(n),a=!1,u()}}}function Zt(t){let n,e,r,o,i,a,u;function c(n){t[19](n)}function s(n){t[20](n)}function l(n){t[21](n)}let f={id:t[0].admin.id,operator:t[4],abonent:t[5],update:t[6],readonly:t[11]};return void 0!==t[2]&&(f.status=t[2]),void 0!==t[0]&&(f.dep=t[0]),void 0!==t[0].admin&&(f.user=t[0].admin),n=new Ut({props:f}),z.push((()=>nt(n,"status",c))),z.push((()=>nt(n,"dep",s))),z.push((()=>nt(n,"user",l))),{c(){et(n.$$.fragment),i=w(),a=y("br")},m(t,e){rt(n,t,e),g(t,i,e),g(t,a,e),u=!0},p(t,i){const a={};1&i[0]&&(a.id=t[0].admin.id),16&i[0]&&(a.operator=t[4]),32&i[0]&&(a.abonent=t[5]),64&i[0]&&(a.update=t[6]),2048&i[0]&&(a.readonly=t[11]),!e&&4&i[0]&&(e=!0,a.status=t[2],N((()=>e=!1))),!r&&1&i[0]&&(r=!0,a.dep=t[0],N((()=>r=!1))),!o&&1&i[0]&&(o=!0,a.user=t[0].admin,N((()=>o=!1))),n.$set(a)},i(t){u||(Z(n.$$.fragment,t),u=!0)},o(t){K(n.$$.fragment,t),u=!1},d(t){ot(n,t),t&&v(i),t&&v(a)}}}function Kt(t){let n,e,r=t[0].staff,o=[];for(let n=0;n<r.length;n+=1)o[n]=tn(Jt(t,r,n));const i=t=>K(o[t],1,1,(()=>{o[t]=null}));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();n=$()},m(t,r){for(let n=0;n<o.length;n+=1)o[n].m(t,r);g(t,n,r),e=!0},p(t,e){if(2173&e[0]){let a;for(r=t[0].staff,a=0;a<r.length;a+=1){const i=Jt(t,r,a);o[a]?(o[a].p(i,e),Z(o[a],1)):(o[a]=tn(i),o[a].c(),Z(o[a],1),o[a].m(n.parentNode,n))}for(G(),a=r.length;a<o.length;a+=1)i(a);X()}},i(t){if(!e){for(let t=0;t<r.length;t+=1)Z(o[t]);e=!0}},o(t){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)K(o[t]);e=!1},d(t){m(o,t),t&&v(n)}}}function Qt(t){let n,e,r,o,i,a,u;function c(n){t[22](n)}function s(n){t[23](n)}function l(n){t[24](n,t[34],t[35],t[36])}let f={class:"oper",id:t[36],operator:t[4],abonent:t[5],update:t[6],readonly:t[11]};return void 0!==t[2]&&(f.status=t[2]),void 0!==t[0]&&(f.dep=t[0]),void 0!==t[34]&&(f.user=t[34]),n=new Ut({props:f}),z.push((()=>nt(n,"status",c))),z.push((()=>nt(n,"dep",s))),z.push((()=>nt(n,"user",l))),{c(){et(n.$$.fragment),i=w(),a=y("br")},m(t,e){rt(n,t,e),g(t,i,e),g(t,a,e),u=!0},p(i,a){t=i;const u={};16&a[0]&&(u.operator=t[4]),32&a[0]&&(u.abonent=t[5]),64&a[0]&&(u.update=t[6]),2048&a[0]&&(u.readonly=t[11]),!e&&4&a[0]&&(e=!0,u.status=t[2],N((()=>e=!1))),!r&&1&a[0]&&(r=!0,u.dep=t[0],N((()=>r=!1))),!o&&1&a[0]&&(o=!0,u.user=t[34],N((()=>o=!1))),n.$set(u)},i(t){u||(Z(n.$$.fragment,t),u=!0)},o(t){K(n.$$.fragment,t),u=!1},d(t){ot(n,t),t&&v(i),t&&v(a)}}}function tn(t){let n,e,r=(t[34].email||!t[34].email&&t[3]===t[4].email)&&Qt(t);return{c(){r&&r.c(),n=$()},m(t,o){r&&r.m(t,o),g(t,n,o),e=!0},p(t,e){t[34].email||!t[34].email&&t[3]===t[4].email?r?(r.p(t,e),25&e[0]&&Z(r,1)):(r=Qt(t),r.c(),Z(r,1),r.m(n.parentNode,n)):r&&(G(),K(r,1,1,(()=>{r=null})),X())},i(t){e||(Z(r),e=!0)},o(t){K(r),e=!1},d(t){r&&r.d(t),t&&v(n)}}}function nn(t){let n,e,r,o,i,a,u,c;return{c(){n=y("div"),e=_("svg"),r=_("title"),o=b("add-user"),i=_("glyph"),a=_("path"),S(i,"glyph-name","contact-add"),S(i,"unicode",""),S(i,"horiz-adv-x","50"),S(a,"d","M134.1 761.6c-14.5 0-26.39999999999999-11.899999999999977-26.39999999999999-26.399999999999977v-523.5c0-14.500000000000057 11.899999999999991-26.400000000000034 26.39999999999999-26.400000000000034h639.8c14.5 0 26.399999999999977 11.899999999999977 26.399999999999977 26.399999999999977v239.40000000000003c15.800000000000068 2.3999999999999773 30.90000000000009 6.2999999999999545 45.40000000000009 11.899999999999977v-288.7c0-14.5-11.900000000000091-26.400000000000006-26.40000000000009-26.400000000000006h-730.4c-14.499999999999972 0-26.399999999999977 11.900000000000006-26.399999999999977 26.400000000000006v598.7c0 14.399999999999977 11.900000000000006 26.299999999999955 26.400000000000006 26.299999999999955h479.30000000000007c-7.400000000000091-11.899999999999977-13.700000000000045-24.59999999999991-18.700000000000045-37.69999999999993h-415.4z m164.70000000000002-245h-19.400000000000034c-41.69999999999999 0-75.39999999999998 33.799999999999955-75.39999999999998 75.39999999999998v21c0 13.100000000000023 10.699999999999989 23.799999999999955 23.80000000000001 23.799999999999955h251.7c13.100000000000023 0 23.899999999999977-10.699999999999932 23.899999999999977-23.799999999999955v-21c0-41.60000000000002-33.799999999999955-75.39999999999998-75.39999999999998-75.39999999999998h-19.600000000000023c-10.099999999999966 0-18.299999999999955-8.100000000000023-18.299999999999955-18.30000000000001 0-3.8000000000000114 1.5-7.300000000000011 4.199999999999989-10 11.300000000000011-11 20.899999999999977-25.80000000000001 27.69999999999999-41.80000000000001 1.5 1.1000000000000227 2.8999999999999773 1.8000000000000114 4.5 1.8000000000000114 10.899999999999977 0 23.80000000000001-24.19999999999999 23.80000000000001-40.80000000000001 0-16.399999999999977-1.5-29.80000000000001-12.300000000000011-29.80000000000001-1.3000000000000114 0-2.8000000000000114 0.30000000000001137-4 0.6000000000000227-0.8000000000000114-44.69999999999999-12.100000000000023-100.40000000000003-80.30000000000001-100.40000000000003-71.19999999999999 0-79.5 55.60000000000002-80.19999999999999 100.20000000000005-1-0.20000000000004547-2-0.4000000000000341-2.8999999999999773-0.4000000000000341-11 0-12.5 13.400000000000034-12.5 29.80000000000001 0 16.5 12.899999999999977 40.80000000000001 23.799999999999955 40.80000000000001 1.3000000000000114 0 2.6000000000000227-0.4000000000000341 3.8000000000000114-1.1000000000000227 6.800000000000011 15.699999999999989 16.19999999999999 30.30000000000001 27.30000000000001 41 2.8000000000000114 2.6000000000000227 4.199999999999989 6.300000000000011 4.199999999999989 10-0.19999999999998863 10.199999999999989-8.399999999999977 18.400000000000034-18.399999999999977 18.400000000000034z m381.2-189.3c0-9.699999999999989-7.899999999999977-17.80000000000001-17.799999999999955-17.80000000000001h-211.00000000000006c6 13.600000000000023 10.300000000000011 30.100000000000023 12.199999999999989 50.60000000000002 4.600000000000023 2.8999999999999773 7.900000000000034 7.399999999999977 10.700000000000045 12.799999999999955h188.10000000000002c9.699999999999932 0 17.799999999999955-7.899999999999977 17.799999999999955-17.599999999999966v-28z m-2.1000000000000227 151.09999999999997c1.1000000000000227-2.3999999999999773 2.1000000000000227-5 2.1000000000000227-7.699999999999989v-28c0-9.699999999999989-7.899999999999977-17.80000000000001-17.799999999999955-17.80000000000001h-183.80000000000007c-5 18.900000000000034-17.099999999999966 38.700000000000045-34.299999999999955 43.900000000000034l-1.6000000000000227 2.8000000000000114v16.69999999999999h213.20000000000005c7.2999999999999545-3.6999999999999886 14.699999999999932-7 22.199999999999932-9.900000000000034z m-125 125.10000000000002c8.899999999999977-23.299999999999955 21.5-44.5 37.39999999999998-63.200000000000045h-71.69999999999993c9.399999999999977 15 15.100000000000023 32.700000000000045 15.100000000000023 51.60000000000002v11.5h19.199999999999932v0.10000000000002274z m332.20000000000005-55.39999999999998c-30.700000000000045-31.100000000000023-73.10000000000002-50.60000000000002-119.70000000000005-52.400000000000034h-6.2999999999999545c-49.700000000000045 0-94 19.900000000000034-126.5 52.400000000000034-32.10000000000002 32.10000000000002-52.39999999999998 76.79999999999995-52.39999999999998 126 0 25.299999999999955 5.399999999999977 49.299999999999955 14.899999999999977 71 9 20.699999999999932 21.699999999999932 39.69999999999993 37.5 55.60000000000002 32.5 32.09999999999991 76.79999999999995 52 126.5 52 98.39999999999998 0 178.39999999999998-80 178.39999999999998-178.4000000000001 0-49.39999999999998-19.899999999999977-94.09999999999991-52.39999999999998-126.19999999999993z m-41.60000000000002 152.19999999999993h-58.700000000000045v58.30000000000007h-52v-58.30000000000007h-58.299999999999955v-52.39999999999998h58.299999999999955v-58.299999999999955h52v58.299999999999955h58.700000000000045v52.39999999999998z"),S(a,"transform","scale(.04)"),j(a,"fill","grey"),j(e,"position","relative"),j(e,"left","45%"),j(e,"height","40, width=40"),S(n,"class","add_oper"),j(n,"display",t[10])},m(s,l){g(s,n,l),h(n,e),h(e,r),h(r,o),h(e,i),h(e,a),u||(c=x(n,"click",t[7]),u=!0)},p(t,e){1024&e[0]&&j(n,"display",t[10])},d(t){t&&v(n),u=!1,c()}}}function en(t){let n,e,r,o,i,a,u,c="0"!==t[0].id&&Yt(t),s=t[0].admin&&Zt(t),l=t[0].staff&&Kt(t),f=t[1]&&nn(t);return{c(){c&&c.c(),n=w(),e=y("div"),r=y("br"),o=w(),s&&s.c(),i=w(),l&&l.c(),a=w(),f&&f.c(),S(e,"class","content svelte-1fx3n49"),j(e,"max-height","0px")},m(p,d){c&&c.m(p,d),g(p,n,d),g(p,e,d),h(e,r),h(e,o),s&&s.m(e,null),h(e,i),l&&l.m(e,null),h(e,a),f&&f.m(e,null),t[25](e),u=!0},p(t,r){"0"!==t[0].id?c?c.p(t,r):(c=Yt(t),c.c(),c.m(n.parentNode,n)):c&&(c.d(1),c=null),t[0].admin?s?(s.p(t,r),1&r[0]&&Z(s,1)):(s=Zt(t),s.c(),Z(s,1),s.m(e,i)):s&&(G(),K(s,1,1,(()=>{s=null})),X()),t[0].staff?l?(l.p(t,r),1&r[0]&&Z(l,1)):(l=Kt(t),l.c(),Z(l,1),l.m(e,a)):l&&(G(),K(l,1,1,(()=>{l=null})),X()),t[1]?f?f.p(t,r):(f=nn(t),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},i(t){u||(Z(s),Z(l),u=!0)},o(t){K(s),K(l),u=!1},d(r){c&&c.d(r),r&&v(n),r&&v(e),s&&s.d(),l&&l.d(),f&&f.d(),t[25](null)}}}function rn(t,n,e){let r;l(t,At,(t=>e(28,r=t)));let o,{status:i}=n,{dep:a}=n,{owner:u}=n,{operator:c}=n,{abonent:s}=n,{tarif:f}=n,p="none";const d=r;(async()=>{try{e(16,f.params=(await(await fetch("../assets/tarifs/tarifs.json")).json())[f.name],f)}catch(t){console.log(t)}f&&f.params&&a.staff&&e(16,f.deps=f.params["Total Depts"].en.split("up to ")[1]>=a.staff.length||"unlim"===f.params["Total Depts"].en,f)})();let h,g=!1;R((()=>{"0"===a.id&&e(12,h.style.maxHeight=200+h.scrollHeight+"px",h);let t=document.getElementsByClassName("add_oper");for(let n in t)g||(t[n].scrollIntoView&&t[n].scrollIntoView(!1),$(new Event("expand")))}));let{update:v}=n,{edited_display:m}=n;const y=wt.subscribe((t=>{e(1,m=t),e(11,g=!m)}));let _,b="en";$t.subscribe((t=>{b=t})),xt.subscribe((t=>{_=t})),T(y);let{RemoveDep:w}=n;function $(t){h&&"expand"!==t.type&&("0px"==h.style.maxHeight?e(12,h.style.maxHeight=h.scrollHeight+"px",h):e(12,h.style.maxHeight="0px",h)),console.log(h.style.maxHeight)}return t.$$set=t=>{"status"in t&&e(2,i=t.status),"dep"in t&&e(0,a=t.dep),"owner"in t&&e(3,u=t.owner),"operator"in t&&e(4,c=t.operator),"abonent"in t&&e(5,s=t.abonent),"tarif"in t&&e(16,f=t.tarif),"update"in t&&e(6,v=t.update),"edited_display"in t&&e(1,m=t.edited_display),"RemoveDep"in t&&e(8,w=t.RemoveDep)},t.$$.update=()=>{19&t.$$.dirty[0]&&m&&(!c.abonent&&"0"===a.id||!c.abonent&&!a.admin||c.abonent&&c.email===a.admin.email)&&e(10,p="block")},[a,m,i,u,c,s,v,async function(t){e(12,h.style.maxHeight=100+h.scrollHeight+"px",h),await function(t,n,e){let r={proj:"kolmit"};return r.func=t+"oper",r.abonent=n,r.em=c.email,r.psw=_,r.lang=b,r.dep_id=a.id,new Promise(((t,n)=>{d.SendMessage(r,(n=>{t(n)}))}))}("add",s),v()},w,o,p,g,h,function(t){m&&(a.admin.email!==u&&s||(t.currentTarget.readOnly=!1))},async function(t){let n={proj:"kolmit",func:"changedep"};n.abonent=s,n.em=c.email,n.psw=_,n.dep=a,new Promise(((t,e)=>{d.SendMessage(n,(n=>{t(n)}))}))},$,f,function(){a.alias=this.value,e(0,a)},function(t){z[t?"unshift":"push"]((()=>{o=t,e(9,o)}))},function(t){i=t,e(2,i)},function(t){a=t,e(0,a)},function(n){t.$$.not_equal(a.admin,n)&&(a.admin=n,e(0,a))},function(t){i=t,e(2,i)},function(t){a=t,e(0,a)},function(t,n,r,o){r[o]=t,e(0,a)},function(t){z[t?"unshift":"push"]((()=>{h=t,e(12,h)}))}]}class on extends ut{constructor(t){super(),at(this,t,rn,en,a,{status:2,dep:0,owner:3,operator:4,abonent:5,tarif:16,update:6,edited_display:1,AddOper:7,RemoveDep:8},null,[-1,-1])}get AddOper(){return this.$$.ctx[7]}}function an(t,n,e){const r=t.slice();return r[11]=n[e],r[23]=e,r}function un(t){let n,e,r,o,i,a;function u(n){t[12](n)}function c(n){t[13](n)}let s={dep:t[11],status:t[3],rtc:t[8],owner:t[11].admin.email,operator:t[0],abonent:t[2],update:t[4],RemoveDep:t[10]};return void 0!==t[1]&&(s.tarif=t[1]),void 0!==t[6]&&(s.edited_display=t[6]),r=new on({props:s}),z.push((()=>nt(r,"tarif",u))),z.push((()=>nt(r,"edited_display",c))),{c(){n=y("br"),e=w(),et(r.$$.fragment),S(n,"class","svelte-wc9qks")},m(t,o){g(t,n,o),g(t,e,o),rt(r,t,o),a=!0},p(t,n){const e={};32&n&&(e.dep=t[11]),8&n&&(e.status=t[3]),32&n&&(e.owner=t[11].admin.email),1&n&&(e.operator=t[0]),4&n&&(e.abonent=t[2]),!o&&2&n&&(o=!0,e.tarif=t[1],N((()=>o=!1))),!i&&64&n&&(i=!0,e.edited_display=t[6],N((()=>i=!1))),r.$set(e)},i(t){a||(Z(r.$$.fragment,t),a=!0)},o(t){K(r.$$.fragment,t),a=!1},d(t){t&&v(n),t&&v(e),ot(r,t)}}}function cn(t){let n,e=t[7]&&sn(t);return{c(){e&&e.c(),n=$()},m(t,r){e&&e.m(t,r),g(t,n,r)},p(t,r){t[7]?e?e.p(t,r):(e=sn(t),e.c(),e.m(n.parentNode,n)):e&&(e.d(1),e=null)},d(t){e&&e.d(t),t&&v(n)}}}function sn(n){let e,r,o,i,a,u,c;return{c(){e=_("svg"),r=_("title"),o=b("add dep"),i=_("glyph"),a=_("path"),S(r,"class","svelte-wc9qks"),S(i,"glyph-name","plus-circle"),S(i,"unicode",""),S(i,"horiz-adv-x","50"),S(i,"class","svelte-wc9qks"),S(a,"d","M500.2 62.5c-241.8 0-437.7 195.89999999999998-437.7 437.3 0 241.8 195.89999999999998 437.7 437.7 437.7 241.40000000000003 0 437.3-195.89999999999998 437.3-437.7 0-241.40000000000003-195.89999999999998-437.3-437.3-437.3z m301.59999999999997 466.5c-0.6999999999999318 9-2.199999999999932 19.100000000000023-4.699999999999932 30.299999999999955h-237.70000000000005v237.80000000000007c-11.199999999999932 2.5-21.600000000000023 4.2999999999999545-31.399999999999977 5.100000000000023-9.700000000000045 0.6999999999999318-19.80000000000001 1.099999999999909-30.30000000000001 1.099999999999909-9 0-17.69999999999999-0.39999999999997726-26.69999999999999-1.099999999999909-9-0.7000000000000455-19.100000000000023-2.5-30.30000000000001-5.100000000000023v-237.70000000000005h-237.5c-2.5-11.199999999999932-4.299999999999983-21.699999999999932-5.099999999999994-31.399999999999977-0.6999999999999886-9.700000000000045-1.0999999999999943-19.80000000000001-1.0999999999999943-30.30000000000001 0-9 0.4000000000000057-17.69999999999999 1.0999999999999943-26.69999999999999 0.700000000000017-9 2.5-19.100000000000023 5.099999999999994-30.30000000000001h237.40000000000003v-237.5c11.199999999999989-2.5 21.599999999999966-4 31.399999999999977-4.699999999999989 9.699999999999989-1.0999999999999943 19.80000000000001-1.4000000000000057 30.30000000000001-1.4000000000000057 9 0 17.999999999999943 0.4000000000000057 26.69999999999999 1.4000000000000057 9 0.6999999999999886 19.100000000000023 2.1999999999999886 30.299999999999955 4.699999999999989v237.40000000000003h237.80000000000007c2.5 11.199999999999989 4 21.599999999999966 4.699999999999932 31.399999999999977 1.1000000000000227 9.699999999999989 1.400000000000091 19.80000000000001 1.400000000000091 30.30000000000001 0.09999999999990905 9.099999999999966-0.3000000000000682 18.099999999999966-1.400000000000091 26.69999999999999z"),S(a,"transform","scale(.03)"),j(a,"fill","lightgrey"),S(a,"class","svelte-wc9qks"),S(e,"class","add_dep svelte-wc9qks"),S(e,"height","50"),S(e,"width","50"),j(e,"float","right")},m(t,s){g(t,e,s),h(e,r),h(r,o),h(e,i),h(e,a),u||(c=x(e,"click",n[9]),u=!0)},p:t,d(t){t&&v(e),u=!1,c()}}}function ln(t){let n,e,r,o,i,a=t[5],u=[];for(let n=0;n<a.length;n+=1)u[n]=un(an(t,a,n));const c=t=>K(u[t],1,1,(()=>{u[t]=null}));let s=t[6]&&cn(t);return{c(){n=y("div");for(let t=0;t<u.length;t+=1)u[t].c();e=w(),s&&s.c(),r=w(),o=y("div"),S(o,"class","empty svelte-wc9qks"),j(o,"height","200px"),S(n,"class","deps_div svelte-wc9qks"),j(n,"height","100vh"),j(n,"overflow-y","scroll")},m(t,a){g(t,n,a);for(let t=0;t<u.length;t+=1)u[t].m(n,null);h(n,e),s&&s.m(n,null),h(n,r),h(n,o),i=!0},p(t,[o]){if(1407&o){let r;for(a=t[5],r=0;r<a.length;r+=1){const i=an(t,a,r);u[r]?(u[r].p(i,o),Z(u[r],1)):(u[r]=un(i),u[r].c(),Z(u[r],1),u[r].m(n,e))}for(G(),r=a.length;r<u.length;r+=1)c(r);X()}t[6]?s?s.p(t,o):(s=cn(t),s.c(),s.m(n,r)):s&&(s.d(1),s=null)},i(t){if(!i){for(let t=0;t<a.length;t+=1)Z(u[t]);i=!0}},o(t){u=u.filter(Boolean);for(let t=0;t<u.length;t+=1)K(u[t]);i=!1},d(t){t&&v(n),m(u,t),s&&s.d()}}}function fn(t,n,e){let r,o,i;l(t,$t,(t=>e(16,r=t))),l(t,At,(t=>e(17,o=t))),l(t,xt,(t=>e(18,i=t)));let a,{operator:u}=n,{abonent:c}=n,{status:s}=n,f=window.operator;new URL(window.location.href);let p=i,d=o,h="en";h=r,T();let g=!1,v=!1,{tarif:m}=n,y=[];async function _(){let t={proj:"kolmit",func:"getusers"};t.type=f.type,t.abonent=c,t.em=u.email,t.uid=f.uid,t.psw=p,e(5,y=(await new Promise(((n,e)=>{d.SendMessage(t,(t=>{n(t)}))}))).users)}return t.$$set=t=>{"operator"in t&&e(0,u=t.operator),"abonent"in t&&e(2,c=t.abonent),"status"in t&&e(3,s=t.status),"tarif"in t&&e(1,m=t.tarif)},t.$$.update=()=>{33&t.$$.dirty&&y&&y.length>0&&yt.forEach(y,((t,n)=>{t.admin&&t.admin.email===u.email&&e(0,u.role=t.admin.role,u),a=n})),33&t.$$.dirty&&y&&y.length>0&&yt.forEach(y,((t,n)=>{t.admin&&t.admin.email===u.email&&(e(7,v=!0),e(0,u.role="admin",u)),a=n}))},d&&_(),[u,m,c,s,_,y,g,v,f,async function(){if("admin"===u.role){let t={proj:"kolmit",func:"adddep"};t.em=u.email,t.lang=h,t.abonent=c,t.uid=f.uid,t.psw=f.psw,t.id=a+1;let n=(await new Promise(((n,e)=>{d.SendMessage(t,(t=>{n(t)}))}))).dep;e(5,y[n.id]=n,y)}},async function(t){let n=yt.findIndex(y,{id:t});if(confirm("Delete Dep "+(y[n].alias?y[n].alias:"")+"?")){let n={proj:"kolmit",func:"remdep"};n.role=u,n.dep=t,n.em=u.email,n.lang=h,n.abonent=c,n.uid=f.uid,n.psw=p,e(5,y=(await new Promise(((t,e)=>{d.SendMessage(n,(n=>{t(n)}))}))).users)}},{title:""},function(t){m=t,e(1,m)},function(t){g=t,e(6,g)}]}class pn extends ut{constructor(t){super(),at(this,t,fn,ln,a,{operator:0,abonent:2,status:3,tarif:1,GetUsers:4})}get GetUsers(){return this.$$.ctx[4]}}function dn(t,n,e){const r=t.slice();return r[8]=n[e][0],r[2]=n[e][1],r}function hn(t){let n,e=Object.entries(t[1]),r=[];for(let n=0;n<e.length;n+=1)r[n]=mn(dn(t,e,n));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();n=$()},m(t,e){for(let n=0;n<r.length;n+=1)r[n].m(t,e);g(t,n,e)},p(t,o){if(27&o){let i;for(e=Object.entries(t[1]),i=0;i<e.length;i+=1){const a=dn(t,e,i);r[i]?r[i].p(a,o):(r[i]=mn(a),r[i].c(),r[i].m(n.parentNode,n))}for(;i<r.length;i+=1)r[i].d(1);r.length=e.length}},d(t){m(r,t),t&&v(n)}}}function gn(t){let n,e,r=t[3][t[2].Ribbon][t[0]]+"";return{c(){n=y("div"),e=b(r),S(n,"class","ribbon svelte-1vnjoro")},m(t,r){g(t,n,r),h(n,e)},p(t,n){3&n&&r!==(r=t[3][t[2].Ribbon][t[0]]+"")&&C(e,r)},d(t){t&&v(n)}}}function vn(t){let n,e,r,o,i,a,u,c,s=t[3].Duration[t[0]]+"",l=t[2].Duration+"",f=t[3].Days[t[0]]+"";return{c(){n=y("h4"),e=y("span"),r=b(s),o=b(" : "),i=y("span"),a=b(l),u=w(),c=b(f),S(e,"class","feature svelte-1vnjoro"),S(i,"class","value"),S(n,"class","svelte-1vnjoro")},m(t,s){g(t,n,s),h(n,e),h(e,r),h(n,o),h(n,i),h(i,a),h(i,u),h(i,c)},p(t,n){1&n&&s!==(s=t[3].Duration[t[0]]+"")&&C(r,s),2&n&&l!==(l=t[2].Duration+"")&&C(a,l),1&n&&f!==(f=t[3].Days[t[0]]+"")&&C(c,f)},d(t){t&&v(n)}}}function mn(t){let n,e,r,o,i,a,u,c,s,l,f,p,d,m,_,$,k,O,j,A,D,E,R,T,I,P,z,L,M,F,B,U,N,W,q,V,H,J,Y,G,X,Z,K,Q,tt,nt,et,rt,ot,it,at,ut,ct,st,lt,ft,pt,dt,ht,gt,vt,mt,yt,_t,bt,wt,$t,xt=t[8].toUpperCase()+"",kt=t[2].Desc[t[0]]+"",St=t[3]["Waiting Mode"][t[0]]+"",Ct=t[2]["Waiting Mode"][t[0]]+"",Ot=t[3]["Total Operators"][t[0]]+"",jt=t[2]["Total Operators"][t[0]]+"",At=t[3]["Multi Operator Mode"][t[0]]+"",Dt=t[3]["Multi Operator Mode"][t[0]]+"",Et=t[3]["Total Depts"][t[0]]+"",Rt=t[3]["Total Depts"][t[0]]+"",Tt=t[3]["Dedicated Servers"][t[0]]+"",It=t[3]["Dedicated Servers"][t[0]]+"",Pt=t[3]["Full Support"][t[0]]+"",zt=t[3]["Full Support"][t[0]]+"",Lt=t[2].Price[t[0]]+"",Mt=t[3].month[t[0]]+"",Ft=t[3].Choose[t[0]]+"",Bt=t[2].Ribbon&&gn(t),Ut=t[2].Duration&&vn(t);return{c(){n=y("div"),e=y("div"),Bt&&Bt.c(),r=w(),o=y("div"),i=y("h3"),a=b(xt),u=w(),c=y("p"),s=b(kt),l=w(),f=y("div"),Ut&&Ut.c(),p=w(),d=y("h4"),m=y("span"),_=b(St),$=b(" : "),k=y("span"),O=b(Ct),j=w(),A=y("h4"),D=y("span"),E=b(Ot),R=b(" : "),T=y("span"),I=b(jt),P=w(),z=y("h4"),L=y("span"),M=b(At),F=b(" : "),B=y("span"),U=b(Dt),N=w(),W=y("h4"),q=y("span"),V=b(Et),H=b(" : "),J=y("span"),Y=b(Rt),G=w(),X=y("h4"),Z=y("span"),K=b(Tt),Q=b(" : "),tt=y("span"),nt=b(It),et=w(),rt=y("h4"),ot=y("span"),it=b(Pt),at=b(" : "),ut=y("span"),ct=b(zt),st=w(),lt=y("div"),ft=y("h4"),pt=b(Lt),dt=y("h5"),ht=b("/"),gt=b(Mt),vt=w(),mt=y("button"),yt=b(Ft),bt=w(),S(o,"class","heading svelte-1vnjoro"),S(c,"class","svelte-1vnjoro"),S(m,"class","feature svelte-1vnjoro"),S(k,"class","value"),S(d,"class","svelte-1vnjoro"),S(D,"class","feature svelte-1vnjoro"),S(T,"class","value"),S(A,"class","svelte-1vnjoro"),S(L,"class","feature svelte-1vnjoro"),S(B,"class","value"),S(z,"class","svelte-1vnjoro"),S(q,"class","feature svelte-1vnjoro"),S(J,"class","value"),S(W,"class","svelte-1vnjoro"),S(Z,"class","feature svelte-1vnjoro"),S(tt,"class","value"),S(X,"class","svelte-1vnjoro"),S(ot,"class","feature svelte-1vnjoro"),S(ut,"class","value"),S(rt,"class","svelte-1vnjoro"),S(f,"class","features"),S(ft,"class","svelte-1vnjoro"),S(dt,"class","svelte-1vnjoro"),S(lt,"class","price svelte-1vnjoro"),S(mt,"class","btn btn-block btn-outline-primary svelte-1vnjoro"),S(mt,"type","submit"),S(mt,"tarif",_t=t[8]),S(e,"class","item svelte-1vnjoro"),S(n,"class","col-md-5 col-lg-4")},m(v,y){g(v,n,y),h(n,e),Bt&&Bt.m(e,null),h(e,r),h(e,o),h(o,i),h(i,a),h(e,u),h(e,c),h(c,s),h(e,l),h(e,f),Ut&&Ut.m(f,null),h(f,p),h(f,d),h(d,m),h(m,_),h(d,$),h(d,k),h(k,O),h(f,j),h(f,A),h(A,D),h(D,E),h(A,R),h(A,T),h(T,I),h(f,P),h(f,z),h(z,L),h(L,M),h(z,F),h(z,B),h(B,U),h(f,N),h(f,W),h(W,q),h(q,V),h(W,H),h(W,J),h(J,Y),h(f,G),h(f,X),h(X,Z),h(Z,K),h(X,Q),h(X,tt),h(tt,nt),h(f,et),h(f,rt),h(rt,ot),h(ot,it),h(rt,at),h(rt,ut),h(ut,ct),h(e,st),h(e,lt),h(lt,ft),h(ft,pt),h(lt,dt),h(dt,ht),h(dt,gt),h(e,vt),h(e,mt),h(mt,yt),h(n,bt),wt||($t=x(mt,"click",t[4]),wt=!0)},p(t,n){t[2].Ribbon?Bt?Bt.p(t,n):(Bt=gn(t),Bt.c(),Bt.m(e,r)):Bt&&(Bt.d(1),Bt=null),2&n&&xt!==(xt=t[8].toUpperCase()+"")&&C(a,xt),3&n&&kt!==(kt=t[2].Desc[t[0]]+"")&&C(s,kt),t[2].Duration?Ut?Ut.p(t,n):(Ut=vn(t),Ut.c(),Ut.m(f,p)):Ut&&(Ut.d(1),Ut=null),1&n&&St!==(St=t[3]["Waiting Mode"][t[0]]+"")&&C(_,St),3&n&&Ct!==(Ct=t[2]["Waiting Mode"][t[0]]+"")&&C(O,Ct),1&n&&Ot!==(Ot=t[3]["Total Operators"][t[0]]+"")&&C(E,Ot),3&n&&jt!==(jt=t[2]["Total Operators"][t[0]]+"")&&C(I,jt),1&n&&At!==(At=t[3]["Multi Operator Mode"][t[0]]+"")&&C(M,At),1&n&&Dt!==(Dt=t[3]["Multi Operator Mode"][t[0]]+"")&&C(U,Dt),1&n&&Et!==(Et=t[3]["Total Depts"][t[0]]+"")&&C(V,Et),1&n&&Rt!==(Rt=t[3]["Total Depts"][t[0]]+"")&&C(Y,Rt),1&n&&Tt!==(Tt=t[3]["Dedicated Servers"][t[0]]+"")&&C(K,Tt),1&n&&It!==(It=t[3]["Dedicated Servers"][t[0]]+"")&&C(nt,It),1&n&&Pt!==(Pt=t[3]["Full Support"][t[0]]+"")&&C(it,Pt),1&n&&zt!==(zt=t[3]["Full Support"][t[0]]+"")&&C(ct,zt),3&n&&Lt!==(Lt=t[2].Price[t[0]]+"")&&C(pt,Lt),1&n&&Mt!==(Mt=t[3].month[t[0]]+"")&&C(gt,Mt),1&n&&Ft!==(Ft=t[3].Choose[t[0]]+"")&&C(yt,Ft),2&n&&_t!==(_t=t[8])&&S(mt,"tarif",_t)},d(t){t&&v(n),Bt&&Bt.d(),Ut&&Ut.d(),wt=!1,$t()}}}function yn(n){let e,r,o,i,a,u,c,s,l,f,p,d,m=n[3]["Our Pricing"][n[0]]+"",_=n[1]&&hn(n);return{c(){e=y("div"),r=y("section"),o=y("div"),i=y("div"),a=y("h2"),u=b(m),c=w(),s=y("p"),s.textContent="Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nunc quam urna, dignissim nec auctor in, mattis vitae leo.",l=w(),f=y("div"),_&&_.c(),p=w(),d=y("div"),S(a,"class","svelte-1vnjoro"),S(s,"class","svelte-1vnjoro"),S(i,"class","block-heading svelte-1vnjoro"),S(f,"class","row justify-content-md-center"),S(o,"class","container"),S(r,"class","pricing-table svelte-1vnjoro"),j(d,"height","400px"),S(e,"class","content svelte-1vnjoro")},m(t,n){g(t,e,n),h(e,r),h(r,o),h(o,i),h(i,a),h(a,u),h(i,c),h(i,s),h(o,l),h(o,f),_&&_.m(f,null),h(e,p),h(e,d)},p(t,[n]){1&n&&m!==(m=t[3]["Our Pricing"][t[0]]+"")&&C(u,m),t[1]?_?_.p(t,n):(_=hn(t),_.c(),_.m(f,null)):_&&(_.d(1),_=null)},i:t,o:t,d(t){t&&v(e),_&&_.d()}}}function _n(t,n,e){let r;l(t,Ct,(t=>e(6,r=t)));let{rtc:o}=n,i="en";const a=$t.subscribe((t=>{e(0,i=t)})),u=r;let c,s="free";return(async()=>{e(1,c=await(await fetch("/server/kolmit/tarifs/tarifs.json?")).json())})(),T(a,us_dict),t.$$set=t=>{"rtc"in t&&e(5,o=t.rtc)},[i,c,s,u,async function(t){"basic"===t.target.attributes.tarif.value&&(await o.ChooseTarif(t.target.attributes.tarif.value),e(2,s=c[t.target.attributes.tarif.value]))},o]}class bn extends ut{constructor(t){super(),at(this,t,_n,yn,a,{rtc:5})}}function wn(t){let n,e;return n=new bn({props:{rtc:t[0]}}),{c(){et(n.$$.fragment)},m(t,r){rt(n,t,r),e=!0},p(t,e){const r={};1&e&&(r.rtc=t[0]),n.$set(r)},i(t){e||(Z(n.$$.fragment,t),e=!0)},o(t){K(n.$$.fragment,t),e=!1},d(t){ot(n,t)}}}function $n(t){let n,e,r,o,i,a,u,c=t[2]&&wn(t);return{c(){n=y("span"),e=b(t[1]),r=w(),c&&c.c(),o=$(),S(n,"ref","#")},m(s,l){g(s,n,l),h(n,e),g(s,r,l),c&&c.m(s,l),g(s,o,l),i=!0,a||(u=x(n,"click",t[3]),a=!0)},p(t,[n]){(!i||2&n)&&C(e,t[1]),t[2]?c?(c.p(t,n),4&n&&Z(c,1)):(c=wn(t),c.c(),Z(c,1),c.m(o.parentNode,o)):c&&(G(),K(c,1,1,(()=>{c=null})),X())},i(t){i||(Z(c),i=!0)},o(t){K(c),i=!1},d(t){t&&v(n),t&&v(r),c&&c.d(t),t&&v(o),a=!1,u()}}}function xn(t,n,e){let r;l(t,Ct,(t=>e(6,r=t)));let{rtc:o}=n,i="en";$t.subscribe((t=>{e(4,i=t)}));let a="Download Call Center",u=r[a][i];T(unsubscribe);let c=!1;return t.$$set=t=>{"rtc"in t&&e(0,o=t.rtc)},t.$$.update=()=>{48&t.$$.dirty&&i&&Dict&&a&&e(1,u=Dict.dict[a][i])},[o,u,c,async function(t){e(5,a="Choose Tarif"),e(2,c=!0)},i,a]}class kn extends ut{constructor(t){super(),at(this,t,xn,$n,a,{rtc:0})}}var Sn=st((function(t){!function(){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e={rotl:function(t,n){return t<<n|t>>>32-n},rotr:function(t,n){return t<<32-n|t>>>n},endian:function(t){if(t.constructor==Number)return 16711935&e.rotl(t,8)|4278255360&e.rotl(t,24);for(var n=0;n<t.length;n++)t[n]=e.endian(t[n]);return t},randomBytes:function(t){for(var n=[];t>0;t--)n.push(Math.floor(256*Math.random()));return n},bytesToWords:function(t){for(var n=[],e=0,r=0;e<t.length;e++,r+=8)n[r>>>5]|=t[e]<<24-r%32;return n},wordsToBytes:function(t){for(var n=[],e=0;e<32*t.length;e+=8)n.push(t[e>>>5]>>>24-e%32&255);return n},bytesToHex:function(t){for(var n=[],e=0;e<t.length;e++)n.push((t[e]>>>4).toString(16)),n.push((15&t[e]).toString(16));return n.join("")},hexToBytes:function(t){for(var n=[],e=0;e<t.length;e+=2)n.push(parseInt(t.substr(e,2),16));return n},bytesToBase64:function(t){for(var e=[],r=0;r<t.length;r+=3)for(var o=t[r]<<16|t[r+1]<<8|t[r+2],i=0;i<4;i++)8*r+6*i<=8*t.length?e.push(n.charAt(o>>>6*(3-i)&63)):e.push("=");return e.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/gi,"");for(var e=[],r=0,o=0;r<t.length;o=++r%4)0!=o&&e.push((n.indexOf(t.charAt(r-1))&Math.pow(2,-2*o+8)-1)<<2*o|n.indexOf(t.charAt(r))>>>6-2*o);return e}};t.exports=e}()})),Cn={utf8:{stringToBytes:function(t){return Cn.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(Cn.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var n=[],e=0;e<t.length;e++)n.push(255&t.charCodeAt(e));return n},bytesToString:function(t){for(var n=[],e=0;e<t.length;e++)n.push(String.fromCharCode(t[e]));return n.join("")}}},On=Cn,jn=function(t){return null!=t&&(An(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&An(t.slice(0,0))}(t)||!!t._isBuffer)};function An(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}var Dn=st((function(t){!function(){var n=Sn,e=On.utf8,r=jn,o=On.bin,i=function(t,a){t.constructor==String?t=a&&"binary"===a.encoding?o.stringToBytes(t):e.stringToBytes(t):r(t)?t=Array.prototype.slice.call(t,0):Array.isArray(t)||t.constructor===Uint8Array||(t=t.toString());for(var u=n.bytesToWords(t),c=8*t.length,s=1732584193,l=-271733879,f=-1732584194,p=271733878,d=0;d<u.length;d++)u[d]=16711935&(u[d]<<8|u[d]>>>24)|4278255360&(u[d]<<24|u[d]>>>8);u[c>>>5]|=128<<c%32,u[14+(c+64>>>9<<4)]=c;var h=i._ff,g=i._gg,v=i._hh,m=i._ii;for(d=0;d<u.length;d+=16){var y=s,_=l,b=f,w=p;s=h(s,l,f,p,u[d+0],7,-680876936),p=h(p,s,l,f,u[d+1],12,-389564586),f=h(f,p,s,l,u[d+2],17,606105819),l=h(l,f,p,s,u[d+3],22,-1044525330),s=h(s,l,f,p,u[d+4],7,-176418897),p=h(p,s,l,f,u[d+5],12,1200080426),f=h(f,p,s,l,u[d+6],17,-1473231341),l=h(l,f,p,s,u[d+7],22,-45705983),s=h(s,l,f,p,u[d+8],7,1770035416),p=h(p,s,l,f,u[d+9],12,-1958414417),f=h(f,p,s,l,u[d+10],17,-42063),l=h(l,f,p,s,u[d+11],22,-1990404162),s=h(s,l,f,p,u[d+12],7,1804603682),p=h(p,s,l,f,u[d+13],12,-40341101),f=h(f,p,s,l,u[d+14],17,-1502002290),s=g(s,l=h(l,f,p,s,u[d+15],22,1236535329),f,p,u[d+1],5,-165796510),p=g(p,s,l,f,u[d+6],9,-1069501632),f=g(f,p,s,l,u[d+11],14,643717713),l=g(l,f,p,s,u[d+0],20,-373897302),s=g(s,l,f,p,u[d+5],5,-701558691),p=g(p,s,l,f,u[d+10],9,38016083),f=g(f,p,s,l,u[d+15],14,-660478335),l=g(l,f,p,s,u[d+4],20,-405537848),s=g(s,l,f,p,u[d+9],5,568446438),p=g(p,s,l,f,u[d+14],9,-1019803690),f=g(f,p,s,l,u[d+3],14,-187363961),l=g(l,f,p,s,u[d+8],20,1163531501),s=g(s,l,f,p,u[d+13],5,-1444681467),p=g(p,s,l,f,u[d+2],9,-51403784),f=g(f,p,s,l,u[d+7],14,1735328473),s=v(s,l=g(l,f,p,s,u[d+12],20,-1926607734),f,p,u[d+5],4,-378558),p=v(p,s,l,f,u[d+8],11,-2022574463),f=v(f,p,s,l,u[d+11],16,1839030562),l=v(l,f,p,s,u[d+14],23,-35309556),s=v(s,l,f,p,u[d+1],4,-1530992060),p=v(p,s,l,f,u[d+4],11,1272893353),f=v(f,p,s,l,u[d+7],16,-155497632),l=v(l,f,p,s,u[d+10],23,-1094730640),s=v(s,l,f,p,u[d+13],4,681279174),p=v(p,s,l,f,u[d+0],11,-358537222),f=v(f,p,s,l,u[d+3],16,-722521979),l=v(l,f,p,s,u[d+6],23,76029189),s=v(s,l,f,p,u[d+9],4,-640364487),p=v(p,s,l,f,u[d+12],11,-421815835),f=v(f,p,s,l,u[d+15],16,530742520),s=m(s,l=v(l,f,p,s,u[d+2],23,-995338651),f,p,u[d+0],6,-198630844),p=m(p,s,l,f,u[d+7],10,1126891415),f=m(f,p,s,l,u[d+14],15,-1416354905),l=m(l,f,p,s,u[d+5],21,-57434055),s=m(s,l,f,p,u[d+12],6,1700485571),p=m(p,s,l,f,u[d+3],10,-1894986606),f=m(f,p,s,l,u[d+10],15,-1051523),l=m(l,f,p,s,u[d+1],21,-2054922799),s=m(s,l,f,p,u[d+8],6,1873313359),p=m(p,s,l,f,u[d+15],10,-30611744),f=m(f,p,s,l,u[d+6],15,-1560198380),l=m(l,f,p,s,u[d+13],21,1309151649),s=m(s,l,f,p,u[d+4],6,-145523070),p=m(p,s,l,f,u[d+11],10,-1120210379),f=m(f,p,s,l,u[d+2],15,718787259),l=m(l,f,p,s,u[d+9],21,-343485551),s=s+y>>>0,l=l+_>>>0,f=f+b>>>0,p=p+w>>>0}return n.endian([s,l,f,p])};i._ff=function(t,n,e,r,o,i,a){var u=t+(n&e|~n&r)+(o>>>0)+a;return(u<<i|u>>>32-i)+n},i._gg=function(t,n,e,r,o,i,a){var u=t+(n&r|e&~r)+(o>>>0)+a;return(u<<i|u>>>32-i)+n},i._hh=function(t,n,e,r,o,i,a){var u=t+(n^e^r)+(o>>>0)+a;return(u<<i|u>>>32-i)+n},i._ii=function(t,n,e,r,o,i,a){var u=t+(e^(n|~r))+(o>>>0)+a;return(u<<i|u>>>32-i)+n},i._blocksize=16,i._digestsize=16,t.exports=function(t,e){if(null==t)throw new Error("Illegal argument "+t);var r=n.wordsToBytes(i(t,e));return e&&e.asBytes?r:e&&e.asString?o.bytesToString(r):n.bytesToHex(r)}}()}));
/*!
     * long-press-event - v@version@
     * Pure JavaScript long-press-event
     * https://github.com/john-doherty/long-press-event
     * @author John Doherty <www.johndoherty.info>
     * @license MIT
     */function En(t){let n,e,r,a,u,c,s,l,p,m;const $=t[3].default,k=f($,t,t[2],null);return{c(){n=y("div"),e=_("svg"),r=_("g"),a=_("title"),u=b("Layer 1"),c=_("path"),s=w(),k&&k.c(),S(c,"d","M390.7 353.3c-120.30000000000001 69.5 63.19999999999999 413.59999999999997 194.90000000000003 337.59999999999997l122.10000000000002 211.39999999999998c-55.60000000000002 32.10000000000002-102.5 52.30000000000007-166.9000000000001 15.5-178.79999999999995-102.19999999999993-375.59999999999997-442.9-369.99999999999994-646.0999999999999 1.8999999999999773-70.60000000000005 43.599999999999994-98.30000000000004 97.89999999999998-129.70000000000005 23.30000000000001 40.400000000000006 98.60000000000002 170.8 122 211.3z m50.400000000000034-5.699999999999989c-13 7.5-29.700000000000045 3.099999999999966-37.30000000000001-10l-115-199.3c-7.5-13.000000000000014-3.1000000000000227-29.700000000000017 10-37.30000000000001l60.5-34.900000000000006c13-7.499999999999993 29.69999999999999-3.0999999999999943 37.30000000000001 10l115.09999999999997 199.29999999999998c7.500000000000057 13 3.099999999999966 29.700000000000045-10 37.200000000000045l-60.599999999999966 35z m314.4 544.5c-13 7.5-29.700000000000045 3.1000000000000227-37.299999999999955-10l-115-199.30000000000007c-7.5-13-3.1000000000000227-29.699999999999932 10-37.299999999999955l60.5-34.89999999999998c13-7.5 29.699999999999932-3.1000000000000227 37.299999999999955 10l115.10000000000002 199.29999999999995c7.5 13 3.1000000000000227 29.700000000000045-10 37.30000000000007l-60.60000000000002 34.89999999999998z"),S(c,"id","svg_1"),S(c,"class","selected"),S(c,"transform","scale(.03)"),S(r,"class","currentLayer svelte-xpesuu"),j(r,"stroke","lightgrey"),j(r,"stroke-width","10px"),S(e,"class","callButton svelte-xpesuu"),S(e,"status",t[0]),S(e,"width","35"),S(e,"height","35"),j(e,"position","absolute"),j(e,"left","5px"),j(e,"top","5px"),j(e,"z-index","30"),S(n,"class","callObject"),j(n,"display","block")},m(o,f){g(o,n,f),h(n,e),h(e,r),h(r,a),h(a,u),h(r,c),h(n,s),k&&k.m(n,null),l=!0,p||(m=[x(e,"click",t[4]),x(n,"long-press",(function(){i(t[1])&&t[1].apply(this,arguments)}))],p=!0)},p(n,[r]){t=n,(!l||1&r)&&S(e,"status",t[0]),k&&k.p&&(!l||4&r)&&d(k,$,t,t[2],l?r:-1,null,null)},i(t){l||(Z(k,t),l=!0)},o(t){K(k,t),l=!1},d(t){t&&v(n),k&&k.d(t),p=!1,o(m)}}}function Rn(t,n,e){let{$$slots:r={},$$scope:o}=n;document.getElementsByClassName("callObject")[0];let{status:i="inactive"}=n,{OnLongPress:a}=n;return t.$$set=t=>{"status"in t&&e(0,i=t.status),"OnLongPress"in t&&e(1,a=t.OnLongPress),"$$scope"in t&&e(2,o=t.$$scope)},[i,a,o,r,function(n){I.call(this,t,n)}]}!function(t,n){var e=null,r="PointerEvent"in t||t.navigator&&"msPointerEnabled"in t.navigator,o="ontouchstart"in t||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0,i=r?"pointerdown":o?"touchstart":"mousedown",a=r?"pointerup":o?"touchend":"mouseup",u=r?"pointermove":o?"touchmove":"mousemove",c=0,s=0;function l(t){p(),t=function(t){if(void 0!==t.changedTouches)return t.changedTouches[0];return t}(t),this.dispatchEvent(new CustomEvent("long-press",{bubbles:!0,cancelable:!0,detail:{clientX:t.clientX,clientY:t.clientY},clientX:t.clientX,clientY:t.clientY,offsetX:t.offsetX,offsetY:t.offsetY,pageX:t.pageX,pageY:t.pageY,screenX:t.screenX,screenY:t.screenY}))||n.addEventListener("click",(function t(e){n.removeEventListener("click",t,!0),function(t){t.stopImmediatePropagation(),t.preventDefault(),t.stopPropagation()}(e)}),!0)}function f(r){p();var o=r.target,i=parseInt(function(t,e,r){for(;t&&t!==n.documentElement;){var o=t.getAttribute(e);if(o)return o;t=t.parentNode}return r}(o,"data-long-press-delay","1500"),10);e=function(n,e){if(!(t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame&&t.mozCancelRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame))return t.setTimeout(n,e);var r=(new Date).getTime(),o={},i=function(){(new Date).getTime()-r>=e?n.call():o.value=requestAnimFrame(i)};return o.value=requestAnimFrame(i),o}(l.bind(o,r),i)}function p(n){var r;(r=e)&&(t.cancelAnimationFrame?t.cancelAnimationFrame(r.value):t.webkitCancelAnimationFrame?t.webkitCancelAnimationFrame(r.value):t.webkitCancelRequestAnimationFrame?t.webkitCancelRequestAnimationFrame(r.value):t.mozCancelRequestAnimationFrame?t.mozCancelRequestAnimationFrame(r.value):t.oCancelRequestAnimationFrame?t.oCancelRequestAnimationFrame(r.value):t.msCancelRequestAnimationFrame?t.msCancelRequestAnimationFrame(r.value):clearTimeout(r)),e=null}"function"!=typeof t.CustomEvent&&(t.CustomEvent=function(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var r=n.createEvent("CustomEvent");return r.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),r},t.CustomEvent.prototype=t.Event.prototype),t.requestAnimFrame=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(n){t.setTimeout(n,1e3/60)},n.addEventListener(a,p,!0),n.addEventListener(u,(function(t){var n=Math.abs(c-t.clientX),e=Math.abs(s-t.clientY);(n>=10||e>=10)&&p()}),!0),n.addEventListener("wheel",p,!0),n.addEventListener("scroll",p,!0),n.addEventListener(i,(function(t){c=t.clientX,s=t.clientY,f(t)}),!0)}(window,document);class Tn extends ut{constructor(t){super(),at(this,t,Rn,En,a,{status:0,OnLongPress:1})}}function In(n){let e,r,i,a,u,c,s,l;return{c(){e=w(),r=y("button"),i=_("svg"),a=_("line"),u=_("line"),c=_("line"),S(a,"id","top"),S(a,"x1","0"),S(a,"y1","8"),S(a,"x2","26"),S(a,"y2","8"),j(a,"transition","transform "+n[1]+"s ease-in-out, opacity "+n[1]+"s ease-in-out"),S(a,"class","svelte-kr1e3o"),S(u,"id","mid"),S(u,"x1","0"),S(u,"y1","16"),S(u,"x2","26"),S(u,"y2","16"),j(u,"transition","transform "+n[1]+"s ease-in-out, opacity "+n[1]+"s ease-in-out"),S(u,"class","svelte-kr1e3o"),S(c,"id","bot"),S(c,"x1","0"),S(c,"y1","24"),S(c,"x2","26"),S(c,"y2","24"),j(c,"transition","transform "+n[1]+"s ease-in-out, opacity "+n[1]+"s ease-in-out"),S(c,"class","svelte-kr1e3o"),S(i,"width","26"),S(i,"height","26"),S(i,"class","svelte-kr1e3o"),j(r,"transition","color "+n[1]+"s ease-in-out"),j(r,"color",n[0]?n[3]:n[2]),S(r,"class","svelte-kr1e3o"),A(r,"open",n[0])},m(t,o){var f;g(t,e,o),g(t,r,o),h(r,i),h(i,a),h(i,u),h(i,c),s||(l=[x(document.body,"click",n[4]),x(r,"click",k((f=n[5],function(t){return t.preventDefault(),f.call(this,t)})))],s=!0)},p(t,[n]){2&n&&j(a,"transition","transform "+t[1]+"s ease-in-out, opacity "+t[1]+"s ease-in-out"),2&n&&j(u,"transition","transform "+t[1]+"s ease-in-out, opacity "+t[1]+"s ease-in-out"),2&n&&j(c,"transition","transform "+t[1]+"s ease-in-out, opacity "+t[1]+"s ease-in-out"),2&n&&j(r,"transition","color "+t[1]+"s ease-in-out"),13&n&&j(r,"color",t[0]?t[3]:t[2]),1&n&&A(r,"open",t[0])},i:t,o:t,d(t){t&&v(e),t&&v(r),s=!1,o(l)}}}function Pn(t,n,e){let{open:r}=n,{duration:o}=n,{burgerColor:i}=n,{menuColor:a}=n;return t.$$set=t=>{"open"in t&&e(0,r=t.open),"duration"in t&&e(1,o=t.duration),"burgerColor"in t&&e(2,i=t.burgerColor),"menuColor"in t&&e(3,a=t.menuColor)},[r,o,i,a,()=>e(0,r=!1),()=>e(0,r=!r)]}class zn extends ut{constructor(t){super(),at(this,t,Pn,In,a,{open:0,duration:1,burgerColor:2,menuColor:3})}}function Ln(t){let n,e,r;const o=t[8].default,i=f(o,t,t[7],null);return{c(){n=y("div"),e=y("div"),i&&i.c(),S(e,"id","menu"),j(e,"padding",t[3]),j(e,"padding-top",t[4]),S(e,"class","svelte-1229l7u"),S(n,"id","container"),j(n,"z-index","1"),j(n,"background-color",t[5]),j(n,"color",t[6]),j(n,"width",t[2]),j(n,"right",t[0]?"0px":"-"+(parseInt(t[2])+10)+"px"),j(n,"transition","right "+t[1]+"s ease-in-out"),S(n,"class","svelte-1229l7u")},m(t,o){g(t,n,o),h(n,e),i&&i.m(e,null),r=!0},p(t,[a]){i&&i.p&&(!r||128&a)&&d(i,o,t,t[7],r?a:-1,null,null),(!r||8&a)&&j(e,"padding",t[3]),(!r||16&a)&&j(e,"padding-top",t[4]),(!r||32&a)&&j(n,"background-color",t[5]),(!r||64&a)&&j(n,"color",t[6]),(!r||4&a)&&j(n,"width",t[2]),(!r||5&a)&&j(n,"right",t[0]?"0px":"-"+(parseInt(t[2])+10)+"px"),(!r||2&a)&&j(n,"transition","right "+t[1]+"s ease-in-out")},i(t){r||(Z(i,t),r=!0)},o(t){K(i,t),r=!1},d(t){t&&v(n),i&&i.d(t)}}}function Mn(t,n,e){let{$$slots:r={},$$scope:o}=n,{open:i}=n,{duration:a}=n,{width:u}=n,{padding:c}=n,{paddingTop:s}=n,{backgroundColor:l}=n,{menuColor:f}=n;return t.$$set=t=>{"open"in t&&e(0,i=t.open),"duration"in t&&e(1,a=t.duration),"width"in t&&e(2,u=t.width),"padding"in t&&e(3,c=t.padding),"paddingTop"in t&&e(4,s=t.paddingTop),"backgroundColor"in t&&e(5,l=t.backgroundColor),"menuColor"in t&&e(6,f=t.menuColor),"$$scope"in t&&e(7,o=t.$$scope)},[i,a,u,c,s,l,f,o,r]}class Fn extends ut{constructor(t){super(),at(this,t,Mn,Ln,a,{open:0,duration:1,width:2,padding:3,paddingTop:4,backgroundColor:5,menuColor:6})}}function Bn(t){let n;const e=t[10].default,r=f(e,t,t[13],null);return{c(){r&&r.c()},m(t,e){r&&r.m(t,e),n=!0},p(t,o){r&&r.p&&(!n||8192&o)&&d(r,e,t,t[13],n?o:-1,null,null)},i(t){n||(Z(r,t),n=!0)},o(t){K(r,t),n=!1},d(t){r&&r.d(t)}}}function Un(t){let e,r,o,i,a,u;const c=[t[1]];function s(n){t[11](n)}let l={};for(let t=0;t<c.length;t+=1)l=n(l,c[t]);void 0!==t[0]&&(l.open=t[0]),e=new zn({props:l}),z.push((()=>nt(e,"open",s)));const f=[t[2]];function p(n){t[12](n)}let d={$$slots:{default:[Bn]},$$scope:{ctx:t}};for(let t=0;t<f.length;t+=1)d=n(d,f[t]);return void 0!==t[0]&&(d.open=t[0]),i=new Fn({props:d}),z.push((()=>nt(i,"open",p))),{c(){et(e.$$.fragment),o=w(),et(i.$$.fragment)},m(t,n){rt(e,t,n),g(t,o,n),rt(i,t,n),u=!0},p(t,[n]){const o=2&n?Q(c,[tt(t[1])]):{};!r&&1&n&&(r=!0,o.open=t[0],N((()=>r=!1))),e.$set(o);const u=4&n?Q(f,[tt(t[2])]):{};8192&n&&(u.$$scope={dirty:n,ctx:t}),!a&&1&n&&(a=!0,u.open=t[0],N((()=>a=!1))),i.$set(u)},i(t){u||(Z(e.$$.fragment,t),Z(i.$$.fragment,t),u=!0)},o(t){K(e.$$.fragment,t),K(i.$$.fragment,t),u=!1},d(t){ot(e,t),t&&v(o),ot(i,t)}}}function Nn(t,n,e){let{$$slots:r={},$$scope:o}=n,{open:i=!1}=n,{duration:a=.4}=n,{width:u="245px"}=n,{padding:c="20px"}=n,{paddingTop:s="50px"}=n,{backgroundColor:l="rgb(255, 255, 255)"}=n,{burgerColor:f="rgb(18.4, 18.4, 18.4)"}=n,{menuColor:p="rgb(180, 180, 180)"}=n,d={duration:a,burgerColor:f,menuColor:p},h={duration:a,width:u,padding:c,paddingTop:s,backgroundColor:l,menuColor:p};return t.$$set=t=>{"open"in t&&e(0,i=t.open),"duration"in t&&e(3,a=t.duration),"width"in t&&e(4,u=t.width),"padding"in t&&e(5,c=t.padding),"paddingTop"in t&&e(6,s=t.paddingTop),"backgroundColor"in t&&e(7,l=t.backgroundColor),"burgerColor"in t&&e(8,f=t.burgerColor),"menuColor"in t&&e(9,p=t.menuColor),"$$scope"in t&&e(13,o=t.$$scope)},[i,d,h,a,u,c,s,l,f,p,r,function(t){i=t,e(0,i)},function(t){i=t,e(0,i)},o]}class Wn extends ut{constructor(t){super(),at(this,t,Nn,Un,a,{open:0,duration:3,width:4,padding:5,paddingTop:6,backgroundColor:7,burgerColor:8,menuColor:9})}}const qn=t=>({}),Vn=t=>({});function Hn(t){let n,e,r;const o=t[4].footer,i=f(o,t,t[3],Vn);return{c(){n=y("video"),e=w(),i&&i.c(),S(n,"id","localVideo"),n.autoplay=!0,n.playsInline=!0,n.muted=!0,j(n,"display",t[0]),j(n,"position","absolute"),j(n,"top","0px"),j(n,"width","130%"),j(n,"height","100px"),j(n,"z-index","20")},m(o,a){g(o,n,a),t[5](n),g(o,e,a),i&&i.m(o,a),r=!0},p(t,[e]){(!r||1&e)&&j(n,"display",t[0]),i&&i.p&&(!r||8&e)&&d(i,o,t,t[3],r?e:-1,qn,Vn)},i(t){r||(Z(i,t),r=!0)},o(t){K(i,t),r=!1},d(r){r&&v(n),t[5](null),r&&v(e),i&&i.d(r)}}}function Jn(t,n,e){let r,{$$slots:o={},$$scope:i}=n,{display:a="block"}=n,{srcObject:u=""}=n;return R((async()=>{})),t.$$set=t=>{"display"in t&&e(0,a=t.display),"srcObject"in t&&e(2,u=t.srcObject),"$$scope"in t&&e(3,i=t.$$scope)},t.$$.update=()=>{6&t.$$.dirty&&(r&&u?e(1,r.srcObject=u,r):r&&r.srcObject&&(r.srcObject.getVideoTracks().forEach((t=>{t.stop(),r.srcObject.removeTrack(t)})),e(1,r.src="",r)))},[a,r,u,i,o,function(t){z[t?"unshift":"push"]((()=>{r=t,e(1,r),e(2,u)}))}]}class Yn extends ut{constructor(t){super(),at(this,t,Jn,Hn,a,{display:0,srcObject:2})}}function Gn(t){let n,e,r,o;const i=t[5].default,a=f(i,t,t[4],null);return{c(){n=y("video"),e=y("track"),r=w(),a&&a.c(),S(e,"kind","captions"),S(n,"id","remoteVideo"),n.autoplay=!0,n.playsInline=!0,S(n,"poster",t[1]),j(n,"display",t[0]),j(n,"position","absolute"),j(n,"height","100px"),j(n,"width","85px"),j(n,"background-color","white"),j(n,"z-index","10")},m(t,i){g(t,n,i),h(n,e),g(t,r,i),a&&a.m(t,i),o=!0},p(t,[e]){(!o||2&e)&&S(n,"poster",t[1]),(!o||1&e)&&j(n,"display",t[0]),a&&a.p&&(!o||16&e)&&d(a,i,t,t[4],o?e:-1,null,null)},i(t){o||(Z(a,t),o=!0)},o(t){K(a,t),o=!1},d(t){t&&v(n),t&&v(r),a&&a.d(t)}}}function Xn(t,n,e){let r,{$$slots:o={},$$scope:i}=n,{display:a="none"}=n,{poster:u}=n,{srcObject:c}=n;return R((async()=>{e(3,r=document.getElementById("remoteVideo"))})),t.$$set=t=>{"display"in t&&e(0,a=t.display),"poster"in t&&e(1,u=t.poster),"srcObject"in t&&e(2,c=t.srcObject),"$$scope"in t&&e(4,i=t.$$scope)},t.$$.update=()=>{12&t.$$.dirty&&(r&&c?e(3,r.srcObject=c,r):r&&r.srcObject&&(r.srcObject.getVideoTracks().forEach((t=>{t.stop(),r.srcObject.removeTrack(t)})),e(3,r.src="",r)))},[a,u,c,r,i,o]}class Zn extends ut{constructor(t){super(),at(this,t,Xn,Gn,a,{display:0,poster:1,srcObject:2})}}function Kn(n){let e,r,o,i,a;return{c(){e=y("a"),r=w(),o=y("form"),o.innerHTML='<input type="file" id="fileInput" name="files"/>',i=w(),a=y("i"),S(e,"id","download_href"),j(e,"display","none"),S(o,"id","fileInfo"),j(o,"display","none"),S(a,"class","fa fa-spinner fa-spin"),j(a,"position","absolute"),j(a,"top","50%"),j(a,"left","50%"),j(a,"font-size","44px")},m(t,n){g(t,e,n),g(t,r,n),g(t,o,n),g(t,i,n),g(t,a,n)},p:t,i:t,o:t,d(t){t&&v(e),t&&v(r),t&&v(o),t&&v(i),t&&v(a)}}}class Qn extends ut{constructor(t){super(),at(this,t,null,Kn,a,{})}}function te(n){let e,r;return{c(){e=y("audio"),e.innerHTML='<track kind="captions"/>',S(e,"id","localSound"),s(e.src,r="../assets/mp3/ring.mp3")||S(e,"src","../assets/mp3/ring.mp3")},m(t,n){g(t,e,n)},p:t,i:t,o:t,d(t){t&&v(e)}}}function ne(t,n,e){let r,{paused:o=!0}=n;return R((async()=>{e(1,r=document.getElementById("localSound"))})),t.$$set=t=>{"paused"in t&&e(0,o=t.paused)},t.$$.update=()=>{3&t.$$.dirty&&r&&(o?r.pause():r.play())},[o,r]}class ee extends ut{constructor(t){super(),at(this,t,ne,te,a,{paused:0})}}function re(n){let e,r;return{c(){e=y("audio"),r=y("track"),S(r,"kind","captions"),S(e,"id","remoteAudio"),e.autoplay=!0,e.muted=n[0]},m(t,n){g(t,e,n),h(e,r)},p(t,[n]){1&n&&(e.muted=t[0])},i:t,o:t,d(t){t&&v(e)}}}function oe(t,n,e){let r,{muted:o=!1}=n,{srcObject:i}=n;return R((async()=>{e(2,r=document.getElementById("remoteAudio"))})),t.$$set=t=>{"muted"in t&&e(0,o=t.muted),"srcObject"in t&&e(1,i=t.srcObject)},t.$$.update=()=>{6&t.$$.dirty&&r&&i&&e(2,r.srcObject=i,r)},[o,i,r]}class ie extends ut{constructor(t){super(),at(this,t,oe,re,a,{muted:0,srcObject:1})}}function ae(n){let e;return{c(){e=y("video"),S(e,"class","recordedVideo"),e.autoplay=!0,e.muted=!0,j(e,"display",n[0])},m(t,n){g(t,e,n)},p(t,[n]){1&n&&j(e,"display",t[0])},i:t,o:t,d(t){t&&v(e)}}}function ue(t,n,e){let{display:r="none"}=n;return t.$$set=t=>{"display"in t&&e(0,r=t.display)},[r]}class ce extends ut{constructor(t){super(),at(this,t,ue,ae,a,{display:0})}}class se{constructor(t){this.host=t,this.cb,this.timeout=1e4,this.cb={},this.openSocket()}openSocket(){this.ws||(this.ws=new WebSocket(this.host.host_ws)),this.ws.onerror=function(t){Nt("Connect Error: "+t.toString())},this.ws.onopen=()=>{this.waitForSocketConnection(this.ws,(()=>{At.set(this)})),this.keepAlive()},this.ws.onclose=function(){Nt("echo-protocol Connection Closed"),this.ws=new WebSocket(this.url)}}keepAlive(){setInterval((()=>{1===this.ws.readyState&&this.ws.send(encodeURIComponent("kolmit"))}),this.timeout)}waitForSocketConnection(t,n){let e=this;setTimeout((function(){1===t.readyState?null!=n&&n():(console.log("wait for connection..."),e.waitForSocketConnection(t,n))}),5)}SendMessage(t,n){let e=this;this.cb[t.func]=n,this.ws.onmessage=t=>{if("message"===t.type){const r=JSON.parse(decodeURIComponent(t.data));e.cb[r.func]&&(e.cb[r.func](r),delete e.cb[r.func]),jt.set(r),window.operator&&window.operator.OnMessage(r),n(r)}};try{1===e.ws.readyState||e.openSocket(),e.ws.send(encodeURIComponent(JSON.stringify(t)))}catch(t){return!1}}}function le(t){let n,e,r;return{c(){n=y("b"),n.textContent="100",e=w(),r=y("span"),r.textContent="0",S(n,"class","call_cnt"),j(n,"display","none"),j(n,"position","absolute"),j(n,"left","22px"),j(n,"top","10px"),j(n,"color","#0e0cff"),j(n,"font-size","12px"),S(r,"class","badge badge-primary badge-pill call-queue"),j(r,"display","none"),j(r,"position","absolute"),j(r,"right","0px"),j(r,"bottom","0px"),j(r,"color","#0e0cff"),j(r,"font-size","12px"),j(r,"opacity","1")},m(t,o){g(t,n,o),g(t,e,o),g(t,r,o)},d(t){t&&v(n),t&&v(e),t&&v(r)}}}function fe(n){let e;return{c(){e=y("div")},m(t,r){g(t,e,r),n[19](e)},p:t,d(t){t&&v(e),n[19](null)}}}function pe(n){let e,r,o,i,a,u,c;return{c(){e=y("div"),r=_("svg"),o=_("glyph"),i=_("g"),a=_("path"),S(o,"glyph-name","ui-video-chat"),S(o,"unicode",""),S(o,"horiz-adv-x","50"),S(a,"d","M891.5 23h-783c-59.7 0-108.5 48.8-108.5 108.5v466.20000000000005c0 59.59999999999991 48.8 108.5 108.5 108.5h222.39999999999998v270.5999999999999l270.70000000000005-270.5999999999999h289.9c59.700000000000045 0 108.5-48.90000000000009 108.5-108.5v-466.20000000000005c0-59.7-48.799999999999955-108.5-108.5-108.5z m-223.5 370l-252.8 134.70000000000005c-26.30000000000001 14-47.89999999999998 1.099999999999909-47.89999999999998-28.700000000000045v-262.9c0-29.900000000000034 21.599999999999966-42.80000000000001 47.89999999999998-28.80000000000001l252.8 134.7c26.299999999999955 14 26.299999999999955 37 0 51z"),S(a,"transform","scale(.025)"),j(a,"fill","lightgrey"),j(a,"stroke","black"),j(a,"stroke-width","20px"),S(i,"class","currentLayer"),j(i,"position","absolute"),j(i,"right","0"),j(i,"top","0"),j(i,"stroke","grey"),j(i,"stroke-width","2px"),j(i,"fill","lightgrey"),j(i,"font-size","30px"),S(r,"height","30"),S(r,"width","30"),j(r,"position","absolute"),j(r,"bottom","70px"),j(r,"right","0px"),j(r,"z-index","30"),S(e,"class","video"),j(e,"position","absolute"),j(e,"top","0"),j(e,"width","95px"),j(e,"height","95px")},m(t,s){g(t,e,s),h(e,r),h(r,o),h(r,i),h(i,a),u||(c=x(r,"click",n[17]),u=!0)},p:t,d(t){t&&v(e),u=!1,c()}}}function de(t){let n;function e(t,n){return t[6]?he:ge}let r=e(t),o=r(t);return{c(){o.c(),n=$()},m(t,e){o.m(t,e),g(t,n,e)},p(t,i){r===(r=e(t))&&o?o.p(t,i):(o.d(1),o=r(t),o&&(o.c(),o.m(n.parentNode,n)))},d(t){o.d(t),t&&v(n)}}}function he(t){let n,e,r,o,i=t[13]["Cancel Edit Call Center"][t[7]]+"";return{c(){n=y("h4"),e=b(i)},m(i,a){g(i,n,a),h(n,e),r||(o=x(n,"click",t[27]),r=!0)},p(t,n){128&n[0]&&i!==(i=t[13]["Cancel Edit Call Center"][t[7]]+"")&&C(e,i)},d(t){t&&v(n),r=!1,o()}}}function ge(t){let n,e,r,o,i=t[13]["Edit Call Center"][t[7]]+"";return{c(){n=y("h4"),e=b(i)},m(i,a){g(i,n,a),h(n,e),r||(o=x(n,"click",t[26]),r=!0)},p(t,n){128&n[0]&&i!==(i=t[13]["Edit Call Center"][t[7]]+"")&&C(e,i)},d(t){t&&v(n),r=!1,o()}}}function ve(t){let n,e,r,i,a,u,c,l,f,p,d,m,_,k,O,A,D,E,R,T,I,P,z,L=t[13]&&function(t){let n,e,r=t[13]["Language Select"][t[7]]+"";return{c(){n=b(r),e=b(":")},m(t,r){g(t,n,r),g(t,e,r)},p(t,e){128&e[0]&&r!==(r=t[13]["Language Select"][t[7]]+"")&&C(n,r)},d(t){t&&v(n),t&&v(e)}}}(t),M=t[13]&&window.operator&&"admin"===t[0].role&&t[3]&&de(t);return{c(){L&&L.c(),n=w(),e=y("div"),r=y("label"),i=y("input"),a=w(),u=y("img"),l=w(),f=y("label"),p=y("input"),d=w(),m=y("img"),k=w(),O=y("label"),A=y("input"),D=w(),E=y("img"),T=w(),M&&M.c(),I=$(),S(i,"type","radio"),S(i,"name","lang"),i.__value="en",i.value=i.__value,t[23][0].push(i),s(u.src,c="https://www.sic-info.org/wp-content/uploads/2014/01/gb.png")||S(u,"src","https://www.sic-info.org/wp-content/uploads/2014/01/gb.png"),S(u,"alt","English"),j(r,"flex","1"),S(p,"type","radio"),S(p,"name","lang"),p.__value="fr",p.value=p.__value,t[23][0].push(p),s(m.src,_="https://www.sic-info.org/wp-content/uploads/2014/01/fr.png")||S(m,"src","https://www.sic-info.org/wp-content/uploads/2014/01/fr.png"),S(m,"alt","French"),j(f,"flex","1"),S(A,"type","radio"),S(A,"name","lang"),A.__value="ru",A.value=A.__value,t[23][0].push(A),s(E.src,R="https://www.sic-info.org/wp-content/uploads/2014/01/ru.png")||S(E,"src","https://www.sic-info.org/wp-content/uploads/2014/01/ru.png"),S(E,"alt","Russian"),j(O,"flex","1"),j(e,"display","flex")},m(o,c){L&&L.m(o,c),g(o,n,c),g(o,e,c),h(e,r),h(r,i),i.checked=i.__value===t[7],h(r,a),h(r,u),h(e,l),h(e,f),h(f,p),p.checked=p.__value===t[7],h(f,d),h(f,m),h(e,k),h(e,O),h(O,A),A.checked=A.__value===t[7],h(O,D),h(O,E),g(o,T,c),M&&M.m(o,c),g(o,I,c),P||(z=[x(i,"change",t[22]),x(i,"change",t[15]),x(p,"change",t[24]),x(p,"change",t[15]),x(A,"change",t[25]),x(A,"change",t[15])],P=!0)},p(t,n){t[13]&&L.p(t,n),128&n[0]&&(i.checked=i.__value===t[7]),128&n[0]&&(p.checked=p.__value===t[7]),128&n[0]&&(A.checked=A.__value===t[7]),t[13]&&window.operator&&"admin"===t[0].role&&t[3]?M?M.p(t,n):(M=de(t),M.c(),M.m(I.parentNode,I)):M&&(M.d(1),M=null)},d(r){L&&L.d(r),r&&v(n),r&&v(e),t[23][0].splice(t[23][0].indexOf(i),1),t[23][0].splice(t[23][0].indexOf(p),1),t[23][0].splice(t[23][0].indexOf(A),1),r&&v(T),M&&M.d(r),r&&v(I),P=!1,o(z)}}}function me(t){let n,e,r,o;function i(n){t[29](n)}function a(n){t[30](n)}let u={abonent:t[12],tarif:t[1],psw:t[8]};return void 0!==t[4]&&(u.status=t[4]),void 0!==t[0]&&(u.operator=t[0]),n=new pn({props:u}),t[28](n),z.push((()=>nt(n,"status",i))),z.push((()=>nt(n,"operator",a))),{c(){et(n.$$.fragment)},m(t,e){rt(n,t,e),o=!0},p(t,o){const i={};2&o[0]&&(i.tarif=t[1]),256&o[0]&&(i.psw=t[8]),!e&&16&o[0]&&(e=!0,i.status=t[4],N((()=>e=!1))),!r&&1&o[0]&&(r=!0,i.operator=t[0],N((()=>r=!1))),n.$set(i)},i(t){o||(Z(n.$$.fragment,t),o=!0)},o(t){K(n.$$.fragment,t),o=!1},d(e){t[28](null),ot(n,e)}}}function ye(t){let n,e;return n=new kn({props:{tarif:t[1]}}),{c(){et(n.$$.fragment)},m(t,r){rt(n,t,r),e=!0},p(t,e){const r={};2&e[0]&&(r.tarif=t[1]),n.$set(r)},i(t){e||(Z(n.$$.fragment,t),e=!0)},o(t){K(n.$$.fragment,t),e=!1},d(t){ot(n,t)}}}function _e(t){let e,r,o,i,a,u,c,s,l,f,p,d,m,_,x,k,O,A,D,E,R,T,I,P,L,M,F,B,U,W,q,V,H,J,Y,it,at=t[11].text.msg+"",ut=t[11].text.name+"";const ct=[t[11].video];let st={};for(let t=0;t<ct.length;t+=1)st=n(st,ct[t]);function lt(n){t[18](n)}o=new Zn({props:st});let ft={OnLongPress:be,$$slots:{default:[le]},$$scope:{ctx:t}};void 0!==t[4]&&(ft.status=t[4]),a=new Tn({props:ft}),z.push((()=>nt(a,"status",lt))),a.$on("click",t[16]);const pt=[t[10].video];let dt={$$slots:{footer:[fe]},$$scope:{ctx:t}};for(let t=0;t<pt.length;t+=1)dt=n(dt,pt[t]);x=new Yn({props:dt});let ht=t[5]&&pe(t);const gt=[t[10].audio];function vt(n){t[20](n)}let mt={};for(let t=0;t<gt.length;t+=1)mt=n(mt,gt[t]);void 0!==t[10].audio.paused&&(mt.paused=t[10].audio.paused),D=new ee({props:mt}),z.push((()=>nt(D,"paused",vt)));const yt=[t[11].audio];function _t(n){t[21](n)}let bt={};for(let t=0;t<yt.length;t+=1)bt=n(bt,yt[t]);void 0!==t[11].audio.srcObject&&(bt.srcObject=t[11].audio.srcObject),T=new ie({props:bt}),z.push((()=>nt(T,"srcObject",_t))),L=new ce({}),F=new Qn({}),U=new Wn({props:{padding:"25px",$$slots:{default:[ve]},$$scope:{ctx:t}}});const wt=[ye,me],$t=[];function xt(t,n){return t[1]&&"free"!==t[1].name||t[12]?1:0}return H=xt(t),J=$t[H]=wt[H](t),{c(){e=y("div"),r=y("div"),et(o.$$.fragment),i=w(),et(a.$$.fragment),c=w(),s=y("div"),l=y("p"),f=b(at),p=y("br"),d=b(ut),m=w(),_=y("div"),et(x.$$.fragment),k=w(),ht&&ht.c(),O=w(),A=y("div"),et(D.$$.fragment),R=w(),et(T.$$.fragment),P=w(),et(L.$$.fragment),M=w(),et(F.$$.fragment),B=w(),et(U.$$.fragment),W=w(),q=y("progress"),V=w(),J.c(),Y=$(),j(l,"font-size",".5em"),j(l,"white-space","nowrap"),j(l,"color","white"),j(l,"text-align","center"),j(s,"display",t[11].text.display),j(s,"position","relative"),j(s,"height","auto"),j(s,"z-index","10"),j(s,"background-color","rgba(125, 125, 125, 0.8)"),j(s,"top","83px"),j(s,"left","0px"),j(s,"max-width","fit-content"),j(r,"flex","1"),j(_,"position","absolute"),j(_,"flex","1 1 0%"),j(A,"flex","3"),j(e,"display","flex"),j(e,"min-height","100px"),j(e,"flex-wrap","nowrap"),j(e,"justify-content","space-between"),S(q,"id","dataProgress"),q.value=t[14].value,S(q,"max","100"),S(q,"duration","200"),j(q,"display",t[14].display),j(q,"top","100px"),j(q,"width","98%"),j(q,"z-index","10")},m(t,n){g(t,e,n),h(e,r),rt(o,r,null),h(r,i),rt(a,r,null),h(r,c),h(r,s),h(s,l),h(l,f),h(l,p),h(l,d),h(e,m),h(e,_),rt(x,_,null),h(_,k),ht&&ht.m(_,null),h(e,O),h(e,A),rt(D,A,null),h(A,R),rt(T,A,null),h(A,P),rt(L,A,null),h(A,M),rt(F,A,null),h(e,B),rt(U,e,null),g(t,W,n),g(t,q,n),g(t,V,n),$t[H].m(t,n),g(t,Y,n),it=!0},p(t,n){const e=2048&n[0]?Q(ct,[tt(t[11].video)]):{};o.$set(e);const r={};65536&n[1]&&(r.$$scope={dirty:n,ctx:t}),!u&&16&n[0]&&(u=!0,r.status=t[4],N((()=>u=!1))),a.$set(r),(!it||2048&n[0])&&at!==(at=t[11].text.msg+"")&&C(f,at),(!it||2048&n[0])&&ut!==(ut=t[11].text.name+"")&&C(d,ut),(!it||2048&n[0])&&j(s,"display",t[11].text.display);const i=1024&n[0]?Q(pt,[tt(t[10].video)]):{};512&n[0]|65536&n[1]&&(i.$$scope={dirty:n,ctx:t}),x.$set(i),t[5]?ht?ht.p(t,n):(ht=pe(t),ht.c(),ht.m(_,null)):ht&&(ht.d(1),ht=null);const c=1024&n[0]?Q(gt,[tt(t[10].audio)]):{};!E&&1024&n[0]&&(E=!0,c.paused=t[10].audio.paused,N((()=>E=!1))),D.$set(c);const l=2048&n[0]?Q(yt,[tt(t[11].audio)]):{};!I&&2048&n[0]&&(I=!0,l.srcObject=t[11].audio.srcObject,N((()=>I=!1))),T.$set(l);const p={};201&n[0]|65536&n[1]&&(p.$$scope={dirty:n,ctx:t}),U.$set(p);let h=H;H=xt(t),H===h?$t[H].p(t,n):(G(),K($t[h],1,1,(()=>{$t[h]=null})),X(),J=$t[H],J?J.p(t,n):(J=$t[H]=wt[H](t),J.c()),Z(J,1),J.m(Y.parentNode,Y))},i(t){it||(Z(o.$$.fragment,t),Z(a.$$.fragment,t),Z(x.$$.fragment,t),Z(D.$$.fragment,t),Z(T.$$.fragment,t),Z(L.$$.fragment,t),Z(F.$$.fragment,t),Z(U.$$.fragment,t),Z(J),it=!0)},o(t){K(o.$$.fragment,t),K(a.$$.fragment,t),K(x.$$.fragment,t),K(D.$$.fragment,t),K(T.$$.fragment,t),K(L.$$.fragment,t),K(F.$$.fragment,t),K(U.$$.fragment,t),K(J),it=!1},d(t){t&&v(e),ot(o),ot(a),ot(x),ht&&ht.d(),ot(D),ot(T),ot(L),ot(F),ot(U),t&&v(W),t&&v(q),t&&v(V),$t[H].d(t),t&&v(Y)}}}function be(){select.display=!0}function we(t,n,e){let r,o;l(t,Ct,(t=>e(35,r=t)));const i=new URL(window.location.href);let{operator:a={email:i.searchParams.get("operator")?i.searchParams.get("operator"):a.email,role:"operator"}}=n;const u=i.searchParams.get("abonent")?i.searchParams.get("abonent"):a.email;let c,s,f,{tarif:p}=n,d=!1;p&&p.paid&&(d=new Date(p.paid)>Date.now()),window.operator={};let h=!1,g=!1;wt.subscribe((t=>{e(6,g=t)}));let v="en";const m=$t.subscribe((t=>{e(7,v=t)})),y=r;let _,b;xt.subscribe((t=>{e(8,_=t)})),At.subscribe((t=>{t&&(window.operator=new Ht("operator",a,u,Dn(JSON.stringify(Date.now())+a.email),_,t))})),jt.subscribe((t=>{console.log(),t&&k(t)})),qt.subscribe((t=>{t&&k(t)})),R((()=>{Ot.subscribe((t=>{b&&t&&b.appendChild(t)}))})),T(m);let w={video:{display:"none",srcObject:"",poster:""},audio:{paused:!0,src:""}},$={text:{display:"none",msg:"You have a call from:",name:"",email:""},video:{display:"none",srcObject:"",poster:""},audio:{muted:!0,srcObject:""}};function x(){try{if(!window.AudioContext){window.AudioContext=window.AudioContext||window.webkitAudioContext;let t=new AudioContext;window.operator.localSoundSrc=t.createMediaElementSource(window.user.localSound),window.operator.localSoundSrc.connect(t.destination)}}catch(t){log("Web Audio API is not supported in this browser")}switch(console.log(),s){case"inactive":!async function(){window.operator.PlayCallCnt=()=>{c=10,e(10,w.audio.paused=!1,w),f=setInterval((function(){c--,0===c&&(clearInterval(f),e(10,w.audio.paused=!0,w))}),2e3)},window.operator.GetRemoteAudio=()=>$.audio.srcObject,window.operator.SetRemoteAudio=t=>{t&&e(11,$.audio.srcObject=t,$)},window.operator.GetRemoteVideo=()=>$.video.srcObject,window.operator.SetLocalVideo=t=>{t&&e(10,w.video.srcObject=t,w)},window.operator.SetRemoteVideo=t=>{"talk"===s&&(e(11,$.video.srcObject=t,$),e(11,$.video.display="block",$),e(10,w.audio.paused=!0,w))}}(),window.operator.Offer(),e(4,s="active");break;case"active":e(4,s="inactive"),window.operator.OnInactive(),e(5,h=!1);break;case"call":e(4,s="talk"),clearInterval(f),e(10,w.audio.paused=!0,w),e(11,$.audio.muted=!1,$),window.operator.OnTalk(),e(5,h=!0),e(11,$.text.display="block",$);const t=new Event("talk");document.getElementsByTagName("body")[0].dispatchEvent(t);break;case"talk":window.operator.OnInactive(),e(11,$.audio.muted=!0,$),e(10,w.video.display="none",w),e(5,h=!1),e(11,$.video.display="none",$),e(11,$.video.srcObject="",$),e(11,$.video.poster="",$),e(11,$.text.display="none",$),e(11,$.text.name="",$),e(11,$.text.email="",$),e(4,s="inactive");break;case"muted":e(4,s="inactive"),e(5,h=!1),e(10,w.video.srcObject="",w),e(11,$.audio.muted=!0,$),e(11,$.video.display="none",$),e(11,$.video.srcObject="",$),e(11,$.video.poster="",$),e(11,$.text.display="none",$),window.operator.OnInactive();break;default:return}}function k(t,n){if("mute"===t.func&&(e(10,w.audio.paused=!0,w),e(11,$.audio.muted=!0,$),e(5,h=!1),e(10,w.video.display="none",w),e(10,w.video.srcObject="",w),e(11,$.video.srcObject="",$),e(11,$.video.poster="",$),e(11,$.video.display="none",$),e(11,$.text.name="",$),e(11,$.text.email="",$),e(11,$.text.display="none",$),window.operator.OnInactive(),"talk"===s?(e(4,s="inactive"),e(5,h=!1)):"call"===s&&(e(4,s="inactive"),e(5,h=!1),window.operator.OnMute(),x()),n&&n()),(t.call||"call"===t.func)&&(e(4,s="call"),window.operator.OnCall(),t.profile)){let n=JSON.parse(t.profile),r=n.src;e(11,$.video.poster=r,$),e(11,$.video.display="block",$),e(11,$.text.display="block",$),e(11,$.text.name=n.name,$),e(11,$.text.email=n.email,$)}t.desc,t.camera&&e(10,w.video.src=that.localStream,w),"wait"===t.status&&(e(11,$.text.display="block",$),e(11,$.text.msg="You have a waiting call",$))}window.operator.SendToComponent=k;return t.$$set=t=>{"operator"in t&&e(0,a=t.operator),"tarif"in t&&e(1,p=t.tarif)},[a,p,o,d,s,h,g,v,_,b,w,$,u,y,{display:"block",value:0},function(t){$t.set(t.target.attributes[2].nodeValue),localStorage.setItem("kolmit",JSON.stringify({lang:t.target.attributes[2].nodeValue}))},x,function(){e(4,s="talk"),e(10,w.audio.paused=!0,w),e(10,w.video.display="block",w),"open"===window.operator.DC.dc.readyState&&window.operator.GetUserMedia({audio:0,video:1},(function(){window.operator.SendVideoOffer(window.operator.main_pc)}))},function(t){s=t,e(4,s)},function(t){z[t?"unshift":"push"]((()=>{b=t,e(9,b)}))},function(n){t.$$.not_equal(w.audio.paused,n)&&(w.audio.paused=n,e(10,w))},function(n){t.$$.not_equal($.audio.srcObject,n)&&($.audio.srcObject=n,e(11,$))},function(){v=this.__value,e(7,v)},[[]],function(){v=this.__value,e(7,v)},function(){v=this.__value,e(7,v)},()=>wt.set(!0),()=>wt.set(!1),function(t){z[t?"unshift":"push"]((()=>{o=t,e(2,o)}))},function(t){s=t,e(4,s)},function(t){a=t,e(0,a)}]}(async()=>{const t=await(await fetch("../assets/host.json")).json();new se(t)})();class $e extends ut{constructor(t){super(),at(this,t,we,_e,a,{operator:0,tarif:1},null,[-1,-1])}}function xe(n){let e,r,o,i;return o=new $e({}),{c(){e=y("html"),r=y("body"),et(o.$$.fragment),S(r,"class","svelte-m9zfif"),S(e,"lang","en"),S(e,"class","svelte-m9zfif")},m(t,n){g(t,e,n),h(e,r),rt(o,r,null),i=!0},p:t,i(t){i||(Z(o.$$.fragment,t),i=!0)},o(t){K(o.$$.fragment,t),i=!1},d(t){t&&v(e),ot(o)}}}function ke(t,n,e){return["Kolmi"]}return new class extends ut{constructor(t){super(),at(this,t,ke,xe,a,{name:0})}get name(){return this.$$.ctx[0]}}({target:document.body,props:{name:"world"}})}();
//# sourceMappingURL=operator.js.map
